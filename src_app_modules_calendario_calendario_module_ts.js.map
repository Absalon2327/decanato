{"version":3,"file":"src_app_modules_calendario_calendario_module_ts.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAwC;AACkD;AAC7B;AACrB;AACL;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB;AACxB,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,gBAAgB,sBAAsB;AACtC;AACA;AACA;AACA;AACA;AACA,4BAA4B,wDAAQ;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B,oBAAoB,sCAAsC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,sDAAS;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yEAAyE,wCAAwC,+DAAwB,CAAC,qDAAiB;AAC3J,2CAA2C,+DAAwB,GAAG,uEAAuE,gEAAgE,mFAAmF,+BAA+B,0CAA0C,mBAAmB,iBAAiB,yBAAyB,sBAAsB,iBAAiB,2BAA2B,0CAA0C,IAAI,aAAa,sBAAsB,cAAc,iCAAiC,sBAAsB,UAA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,gEAAU;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,mEAAa;AAC1B;AACA,0DAA0D,gBAAgB;AAC1E;AACA;AACA;AACA,wDAAwD,0BAA0B;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,oEAAc;AACtB;AACA;AACA,CAAC,CAAC,6DAAW;;AAEO;;;;;;;;;;;;;;;AC3Hc;AACD;AACa;;AAE9C,yEAAyE;AACzE;AACA;AACA;AACA;AACA;AACA,mBAAmB,6CAAgB;AACnC,uBAAuB,iDAAoB;AAC3C,gBAAgB,0CAAa;AAC7B,mBAAmB,6CAAgB;AACnC,kBAAkB,4CAAe;AACjC;AACA,sBAAsB,uDAAyB;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,6DAAgC,EAAE;AACjE;AACA;AACA;AACA;AACA,IAAI,6DAAgC;AACpC,IAAI,0CAAa,CAAC,iDAAoB,kBAAkB;AACxD;AACA;AACA;AACA,IAAI,6DAAgC;AACpC;AACA;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA,mDAAmD,OAAO,iDAAoB,UAAU;AACxF,8DAA8D,gBAAgB;AAC9E;AACA,CAAC,CAAC,6CAAgB;AAClB;AACA,sBAAsB,iDAAoB;AAC1C;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI,0CAAa;AACjB;;;;;;;;;;;;;;;;;;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACoB;;AAEknB;AAC3kB;;AAE3D;AACA;AACA;AACA;AACA;AACA,IAAI,gDAAS;AACb;AACA;AACA,4BAA4B,+DAAS;AACrC;AACA;AACA;AACA;AACA;AACA,gCAAgC,0EAAoB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa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S;AACnC;AACA,YAAY,4DAAM;AAClB,YAAY,4DAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,gBAAgB,sEAAgB;AAChD;AACA,gBAAgB,mEAAa,CAAC,6DAAW,IAAI,wKAAwK,kEAAkE,QAAQ,mEAAa,OAAO,+CAAQ,GAAG,2GAA2G;AACza,YAAY,mEAAa,UAAU,4HAA4H;AAC/J,yCAAyC,mEAAa,CAAC,gEAAc,IAAI,oDAAoD,mEAAmE,QAAQ,mEAAa,MAAM,+CAAQ,GAAG,wFAAwF,kCAAkC;AAChW,gCAAgC,mEAAa,iBAAiB,8KAA8K;AAC5O,gBAAgB,mEAAa,UAAU,+DAA+D;AACtG;AACA,oBAAoB,mEAAa,UAAU,6CAA6C,kCAAkC;AAC1H,wBAAwB,mEAAa,sBAAsB,uVAAuV;AAClZ,gBAAgB,mEAAa,UAAU,gCAAgC,wBAAwB;AAC/F;AACA;AACA,CAAC,CAAC,+DAAa;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,iCAAiC;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,qCAAqC,oBAAoB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,sBAAsB,oBAAoB;AAC1C;AACA;AACA,sDAAsD,6BAA6B;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,yCAAyC,sBAAsB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,sBAAsB,oBAAoB;AAC1C;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,oBAAoB;AAC1C;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,qBAAqB;AAC/D;AACA;AACA,kEAAkE;AAClE;AACA,iEAAiE;AACjE,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,sBAAsB,cAAc;AACpC;AACA;AACA,sCAAsC,qBAAqB;AAC3D;AACA,wCAAwC,qBAAqB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,qEAAe;AACrC;AACA,aAAa,6DAAO;AACpB,KAAK;AACL,WAAW,+CAAQ,CAAC,+CAAQ,GAAG,UAAU;AACzC;AACA,gBAAgB,+CAAQ,CAAC,+CAAQ,GAAG,oBAAoB,yBAAyB;AACjF;AACA;AACA,SAAS,gKAAgK;AACzK;AACA;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,0BAA0B,mEAAa;AACtF;AACA,4BAA4B,+BAA+B;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,gCAAgC;AACvF;AACA;AACA,2CAA2C,+CAAQ,CAAC,+CAAQ,GAAG,mBAAmB,MAAM,oEAAc,iCAAiC;AACvI,6CAA6C,mEAAa;AAC1D,4DAA4D;AAC5D;AACA,mFAAmF;AACnF,6EAA6E;AAC7E;AACA;AACA;AACA,6CAA6C,mEAAa;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,8DAAY;;AAEd;AACA,IAAI,gDAAS;AACb;AACA;AACA,+BAA+B,wDAAM,IAAI;AACzC,gCAAgC,wDAAM,IAAI;AAC1C,6BAA6B,wDAAM,IAAI;AACvC,mCAAmC,wDAAM,IAAI;AAC7C,0BAA0B,+DAAS;AACnC;AACA;AACA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,mEAAa;AACpD;AACA;AACA;AACA;AACA,gBAAgB,mEAAa,SAAS,qBAAqB;AAC3D;AACA;AACA;AACA,iJAAiJ;AACjJ,wBAAwB,mEAAa,cAAc;AACnD,oBAAoB,mEAAa,CAAC,0DAAQ;AAC1C,wBAAwB,mEAAa,CAAC,0DAAQ;AAC9C,wBAAwB,mEAAa,CAAC,0DAAQ;AAC9C,oBAAoB,mEAAa,CAAC,0DAAQ;AAC1C;AACA;AACA,mFAAmF;AACnF,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kEAAY;AACvC;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA,kEAAkE;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA,8DAA8D,6BAA6B;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,mEAAa,UAAU;AAClD;AACA;AACA;AACA;AACA;AACA,uBAAuB,6BAA6B,mEAAa,qBAAqB,+CAAQ,GAAG,6HAA6H,EAAE,gEAAU,wBAAwB,mEAAa,kBAAkB,+CAAQ,GAAG,uLAAuL,EAAE,gEAAU;AAC/e;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,oBAAoB;AAChE;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA,2BAA2B,mEAAa,UAAU,KAAK,wEAAkB,2EAA2E;AACpJ,oBAAoB,mEAAa,CAAC,yDAAO,EAAE,+CAAQ,GAAG,UAAU,EAAE,gEAAU;AAC5E,oBAAoB,gEAAU;AAC9B;AACA;AACA,eAAe,qEAAmB,SAAS,oDAAa,EAAE,0DAAQ,IAAI;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE,0CAA0C;AAC3G;AACA;AACA;AACA,4CAA4C,+DAAa;AACzD;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,yBAAyB;AAC/E;AACA;AACA,CAAC,CAAC,+DAAa;AACf;AACA,0BAA0B,8DAAY;AACtC,CAAC;AACD;AACA;AACA;AACA;AACA,gEAAgE;AAChE,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA,KAAK,IAAI;AACT;AACA;AACA;AACA,sDAAsD,6BAA6B;AACnF;AACA,oDAAoD,0BAA0B;AAC9E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI,gDAAS;AACb;AACA;AACA,sCAAsC,6DAAO;AAC7C,iCAAiC,6DAAO;AACxC,iCAAiC,6DAAO;AACxC,uCAAuC,6DAAO;AAC9C,+BAA+B,6DAAO;AACtC,iCAAiC,6DAAO;AACxC,4BAA4B,wDAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mEAAa,UAAU;AACvC;AACA;AACA;AACA;AACA,eAAe;AACf,YAAY,mEAAa,CAAC,0DAAQ,IAAI,aAAa,mCAAmC,QAAQ,mEAAa,CAAC,0DAAQ;AACpH,gBAAgB,mEAAa,YAAY;AACzC;AACA;AACA;AACA,uBAAuB;AACvB;AACA,oBAAoB,mEAAa,wDAAwD,QAAQ,mEAAa,aAAa;AAC3H;AACA;AACA,0oBAA0oB,KAAK,QAAQ;AACvpB;AACA;AACA;AACA;AACA,gCAAgC,+DAAa,6DAA6D,gCAAgC;AAC1I;AACA,gCAAgC,+DAAa;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B,+CAAQ,GAAG,kDAAkD;AACvF;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA,kBAAkB,6DAAO;AACzB,iBAAiB;AACjB;AACA;AACA,CAAC,CAAC,+DAAa;AACf;AACA;AACA;;AAEA;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,wDAAM;;AAER;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA,yBAAyB,+DAAS;AAClC;AACA;AACA;AACA;AACA,gBAAgB,mEAAa,QAAQ,+CAAQ,GAAG,oBAAoB,4GAA4G,ocAAoc;AACpnB;AACA;AACA,CAAC,CAAC,+DAAa;;AAEf;AACA,IAAI,gDAAS;AACb;AACA;AACA,mCAAmC,6DAAO;AAC1C,0BAA0B,+DAAS;AACnC,yBAAyB,+DAAS;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,mEAAa,CAAC,2DAAS,IAAI,yIAAyI;AACvN,kDAAkD,QAAQ,mEAAa,aAAa,8tBAA8tB;AAClzB;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA,wBAAwB,gEAAc;AACtC,eAAe,+DAAa;AAC5B;;AAEA;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,8DAAQ;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,+DAAS;AACrB,kBAAkB,8DAAQ;AAC1B;AACA,iBAAiB;AACjB;AACA;AACA,CAAC,CAAC,sEAAoB;;AAEtB,WAAW,kEAAY;AACvB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,wBAAwB,SAAS;AACjC,SAAS;AACT;AACA;AACA,wBAAwB,UAAU;AAClC,SAAS;AACT;AA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;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,+DAAS,6BAA6B,+DAAS;AACnG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mEAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mEAAa,SAAS,4DAA4D;AACtG,+BAA+B,mEAAa,mBAAmB,+CAAQ,GAAG;AAC1E,gBAAgB,mEAAa,CAAC,4DAAU,IAAI,8KAA8K,qEAAqE,QAAQ,mEAAa,SAAS,4GAA4G,mBAAmB;AAC5b,SAAS;AACT;AACA;AACA,CAAC,CAAC,+DAAa;;AAEf;AACA;AACA;AACA;AACA,IAAI,gDAAS;AACb;AACA;AACA,0BAA0B,+DAAS;AACnC,+BAA+B,wDAAM;AACrC;AACA;AACA;AACA;AACA,gBAAgB,mEAAa,UAAU,qDAAqD;AAC5F,YAAY,mEAAa,YAAY;AACrC;AACA;AACA;AACA,mBAAmB;AACnB;AACA,gBAAgB,mEAAa,sBAAsB,2EAA2E;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,2DAA2D,+DAAa;AACxE;AACA;AACA;AACA;AACA,CAAC,CAAC,+DAAa;AACf;AACA,+CAA+C,6BAA6B;AAC5E;;AAEA;AACA;AACA;AACA,gBAAgB,YAAY;AAC5B;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA,wBAAwB,YAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,gBAAgB;AACvD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAI,gDAAS;AACb;AACA;AACA,0BAA0B,+DAAS;AACnC;AACA;AACA;AACA;AACA;AACA,gBAAgB,mEAAa,CAAC,8DAAY,IAAI,kTAAkT,sDAAsD,4EAA4E,QAAQ,mEAAa,QAAQ;AAC/f,gBAAgB,4DAAM;AACtB,gBAAgB,4DAAM;AACtB,aAAa,8EAA8E,sCAAsC,wBAAwB;AACzJ,YAAY,mEAAa,UAAU,qEAAqE,oBAAoB;AAC5H;AACA;AACA,CAAC,CAAC,+DAAa;AACf;AACA;AACA;;AAEA;AACA;AACA,wBAAwB,8DAAY;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,8EAAwB;AAC/C;AACA,8BAA8B;AAC9B;AACA,aAAa;AACb;AACA;AACA;AACA,0DAA0D,+BAA+B;AACzF;AACA;AACA;AACA;AACA,YAAY,+CAAQ,CAAC,+CAAQ,GAAG,YAAY,iCAAiC;AAC7E;AACA;AACA,KAAK;AACL;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,uDAAuD;AAClE,UAAU;AACV,WAAW,kBAAkB;AAC7B;AACA;AACA,0BAA0B,kEAAY,mCAAmC,iEAAe;AACxF,4DAA4D;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA,6EAA6E,OAAO,mEAAa,SAAS;AAC1G;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,8BAA8B;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,+CAAQ,CAAC,+CAAQ,GAAG,WAAW,sDAAsD;AAC9H,KAAK;AACL,+CAA+C,oCAAoC;AACnF;AACA;AACA;AACA;AACA,0EAA0E,OAAO,mEAAa,SAAS;AACvG,mBAAmB,+CAAQ,CAAC,+CAAQ,GAAG,WAAW;AAClD,qDAAqD;AACrD;AACA;AACA,KAAK;AACL;AACA;AACA,0CAA0C,qBAAqB;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,uBAAuB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAiC;AACjC,qCAAqC;AACrC;AACA;AACA,wBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,wBAAwB;AACpE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,4CAA4C,wBAAwB;AACpE;AACA,6BAA6B,0BAA0B;AACvD;AACA,aAAa;AACb;;AAEA,0BAA0B,qEAAe;AACzC;AACA;AACA;AACA,CAAC;AACD;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mEAAa,CAAC,+DAAa,EAAE,+CAAQ,GAAG,gBAAgB,qEAAqE;AAC7I;AACA;AACA,CAAC,CAAC,+DAAa;;AAEf;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA,gBAAgB,mEAAa,CAAC,gEAAc,IAAI,sHAAsH,wCAAwC;AAC9M,YAAY,mEAAa,UAAU,oDAAoD,mBAAmB;AAC1G;AACA;AACA,CAAC,CAAC,+DAAa;;AAEf;AACA,IAAI,gDAAS;AACb;AACA;AACA,8BAA8B,6DAAO,CAAC,+DAAa;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mEAAa,CAAC,6DAAW,IAAI,0IAA0I,gDAAgD,QAAQ,mEAAa,OAAO,+CAAQ,GAAG,0GAA0G;AACxX,YAAY,mEAAa,UAAU,oCAAoC;AACvE,gBAAgB,mEAAa,UAAU,iCAAiC;AACxE;AACA;AA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;AACA;AACA;AACA,6BAA6B,wBAAwB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mEAAa,UAAU;AACvC;AACA;AACA;AACA;AACA,eAAe;AACf,YAAY,mEAAa,kBAAkB,yVAAyV;AACpY,YAAY,mEAAa,oBAAoB,ymBAAymB;AACtpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE;AAChE,qEAAqE;AACrE;AACA;AACA,uBAAuB,kEAAY,0BAA0B,sEAAgB;AAC7E;AACA;AACA;AACA;AACA,0BAA0B,+CAAQ,GAAG,SAAS,wBAAwB,iBAAiB;AACvF;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,+DAAa;AACf;AACA;AACA,uBAAuB,0EAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA,IAAI,gDAAS;AACb;AACA;AACA;AACA;AACA;AACA,0BAA0B,wBAAwB;AAClD,2BAA2B,qEAAe;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,CAAC,CAAC,wDAAM;;AAER;AACA,IAAI,gDAAS;AACb;AACA;AACA,+BAA+B,6DAAO;AACtC;AACA,4BAA4B,+DAAS;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mEAAa,CAAC,0DAAQ,IAAI,yCAAyC,mCAAmC,QAAQ,mEAAa,WAAW,+CAAQ,GAAG,wBAAwB,2EAA2E,yiBAAyiB,MAAM;AACnzB;AACA;AACA,CAAC,CAAC,+DAAa;AACf;AACA;AACA,qDAAqD,gBAAgB;AACrE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM,UAAU;AAChB,MAAM,aAAa;AACnB,MAAM,aAAa;AACnB,MAAM,aAAa;AACnB,MAA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","sources":["./node_modules/@fullcalendar/angular/__ivy_ngcc__/fesm2015/fullcalendar-angular.js","./node_modules/@fullcalendar/bootstrap/main.js","./node_modules/@fullcalendar/common/main.js","./node_modules/@fullcalendar/common/vdom.js","./node_modules/@fullcalendar/core/main.js","./node_modules/@fullcalendar/core/vdom.js","./node_modules/@fullcalendar/daygrid/main.js","./node_modules/@fullcalendar/interaction/main.js","./node_modules/@fullcalendar/timegrid/main.js","./node_modules/fast-deep-equal/index.js","./node_modules/preact/compat/dist/compat.module.js","./node_modules/preact/dist/preact.module.js","./node_modules/preact/hooks/dist/hooks.module.js","./src/app/modules/calendario/calendario-routing.module.ts","./src/app/modules/calendario/calendario.module.ts","./src/app/modules/calendario/calendario/calendario.component.ts","./src/app/modules/calendario/calendario/calendario.component.html"],"sourcesContent":["import deepEqual from 'fast-deep-equal';\nimport { Component, ViewEncapsulation, ElementRef, Input, NgModule } from '@angular/core';\nimport { Calendar, globalPlugins } from '@fullcalendar/core';\nimport * as ngcc0 from '@angular/core';\nexport * from '@fullcalendar/core';\n\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\n/*\nReally simple clone utility. Only copies plain arrays, objects, and Dates. Transfers everything else as-is.\nWanted to use a third-party lib, but none did exactly this.\n*/\nfunction deepCopy(input) {\n    if (Array.isArray(input)) {\n        return input.map(deepCopy);\n    }\n    else if (input instanceof Date) {\n        return new Date(input.valueOf());\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        return mapHash(input, deepCopy);\n    }\n    else { // everything else (null, function, etc)\n        return input;\n    }\n}\nfunction shallowCopy(val) {\n    if (typeof val === 'object') {\n        if (Array.isArray(val)) {\n            val = Array.prototype.slice.call(val);\n        }\n        else if (val) { // non-null\n            val = Object.assign({}, val);\n        }\n    }\n    return val;\n}\nfunction mapHash(input, func) {\n    const output = {};\n    for (const key in input) {\n        if (hasOwnProperty.call(input, key)) {\n            output[key] = func(input[key], key);\n        }\n    }\n    return output;\n}\n\nconst OPTION_IS_DEEP = {\n    headerToolbar: true,\n    footerToolbar: true,\n    events: true,\n    eventSources: true,\n    resources: true\n};\n\nclass FullCalendarComponent {\n    constructor(element) {\n        this.element = element;\n        this.optionSnapshot = {}; // for diffing only\n    }\n    ngAfterViewInit() {\n        const { deepChangeDetection } = this;\n        const options = this.options || {};\n        // initialize snapshot\n        this.optionSnapshot = mapHash(options, (optionVal, optionName) => ((deepChangeDetection && OPTION_IS_DEEP[optionName])\n            ? deepCopy(optionVal)\n            : optionVal));\n        this.calendar = new Calendar(this.element.nativeElement, options);\n        this.calendar.render();\n    }\n    /*\n    allows us to manually detect complex input changes, internal mutations to certain options.\n    called before ngOnChanges. called much more often than ngOnChanges.\n    */\n    ngDoCheck() {\n        if (this.calendar) { // not the initial render\n            const { deepChangeDetection, optionSnapshot } = this;\n            const newOptions = this.options || {};\n            const newProcessedOptions = {};\n            let anyChanges = false;\n            // detect adds and updates (and update snapshot)\n            for (const optionName in newOptions) {\n                if (newOptions.hasOwnProperty(optionName)) {\n                    let optionVal = newOptions[optionName];\n                    if (deepChangeDetection && OPTION_IS_DEEP[optionName]) {\n                        if (!deepEqual(optionSnapshot[optionName], optionVal)) {\n                            optionSnapshot[optionName] = deepCopy(optionVal);\n                            anyChanges = true;\n                            // trick FC into knowing about a nested change.\n                            // TODO: future versions won't need this.\n                            // can't use the previously-made deep copy because it blows away prototype-association.\n                            optionVal = shallowCopy(optionVal);\n                        }\n                    }\n                    else {\n                        if (optionSnapshot[optionName] !== optionVal) {\n                            optionSnapshot[optionName] = optionVal;\n                            anyChanges = true;\n                        }\n                    }\n                    newProcessedOptions[optionName] = optionVal;\n                }\n            }\n            const oldOptionNames = Object.keys(optionSnapshot);\n            // detect removals (and update snapshot)\n            for (const optionName of oldOptionNames) {\n                if (!(optionName in newOptions)) { // doesn't exist in new options?\n                    delete optionSnapshot[optionName];\n                    anyChanges = true;\n                }\n            }\n            if (anyChanges) {\n                this.calendar.pauseRendering();\n                this.calendar.resetOptions(newProcessedOptions);\n            }\n        }\n    }\n    ngAfterContentChecked() {\n        if (this.calendar) { // too defensive?\n            this.calendar.resumeRendering();\n        }\n    }\n    ngOnDestroy() {\n        if (this.calendar) { // too defensive?\n            this.calendar.destroy();\n            this.calendar = null;\n        }\n    }\n    getApi() {\n        return this.calendar;\n    }\n}\nFullCalendarComponent.fac = function FullCalendarComponent_Factory(t) { return new (t || FullCalendarComponent)(ngcc0.directiveInject(ngcc0.ElementRef)); };\nFullCalendarComponent.cmp = /*@__PURE__*/ ngcc0.defineComponent({ type: FullCalendarComponent, selectors: [[\"full-calendar\"]], inputs: { options: \"options\", deepChangeDetection: \"deepChangeDetection\" }, decls: 0, vars: 0, template: function FullCalendarComponent_Template(rf, ctx) { }, styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:\\\"\\\";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{content:\\\"\\\";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after{content:\\\"\\\";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:\\\"\\\";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center;overflow:hidden}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:\\\"\\\";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"], encapsulation: 2 });\nFullCalendarComponent.ctorParameters = () => [\n    { type: ElementRef }\n];\nFullCalendarComponent.propDecorators = {\n    options: [{ type: Input }],\n    deepChangeDetection: [{ type: Input }]\n};\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(FullCalendarComponent, [{\n        type: Component,\n        args: [{\n                selector: 'full-calendar',\n                template: '',\n                encapsulation: ViewEncapsulation.None // the styles are root-level, not scoped within the component\n                ,\n                styles: [\"@charset \\\"UTF-8\\\";.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-touch-callout:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{vertical-align:top;padding:0}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;src:url(\\\"data:application/x-font-ttf;charset=utf-8;base64,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\\\") format(\\\"truetype\\\");font-weight:400;font-style:normal}.fc-icon{display:inline-block;width:1em;height:1em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:fcicons!important;speak:none;font-style:normal;font-weight:400;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fc-icon-chevron-left:before{content:\\\"\\uE900\\\"}.fc-icon-chevron-right:before{content:\\\"\\uE901\\\"}.fc-icon-chevrons-left:before{content:\\\"\\uE902\\\"}.fc-icon-chevrons-right:before{content:\\\"\\uE903\\\"}.fc-icon-minus-square:before{content:\\\"\\uE904\\\"}.fc-icon-plus-square:before{content:\\\"\\uE905\\\"}.fc-icon-x:before{content:\\\"\\uE906\\\"}.fc .fc-button{border-radius:0;overflow:visible;text-transform:none;margin:0;font-family:inherit;font-size:inherit;line-height:inherit}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button::-moz-focus-inner{padding:0;border-style:none}.fc .fc-button{display:inline-block;font-weight:400;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.4em .65em;font-size:1em;line-height:1.5;border-radius:.25em}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{outline:0;box-shadow:0 0 0 .2rem rgba(44,62,80,.25)}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:hover{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1e2b37;background-color:var(--fc-button-hover-bg-color,#1e2b37);border-color:#1a252f;border-color:var(--fc-button-hover-border-color,#1a252f)}.fc .fc-button-primary:disabled{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#2c3e50;background-color:var(--fc-button-bg-color,#2c3e50);border-color:#2c3e50;border-color:var(--fc-button-border-color,#2c3e50)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{color:#fff;color:var(--fc-button-text-color,#fff);background-color:#1a252f;background-color:var(--fc-button-active-bg-color,#1a252f);border-color:#151e27;border-color:var(--fc-button-active-border-color,#151e27)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{vertical-align:middle;font-size:1.5em}.fc .fc-button-group{position:relative;display:inline-flex;vertical-align:middle}.fc .fc-button-group>.fc-button{position:relative;flex:1 1 auto}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){margin-right:-1px;border-top-right-radius:0;border-bottom-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-top-left-radius:0;border-bottom-left-radius:0}.fc .fc-toolbar{display:flex;justify-content:space-between;align-items:center}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{position:absolute;top:0;right:0;left:0;bottom:0}.fc .fc-scroller-harness{position:relative;overflow:hidden;direction:ltr}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{width:100%;table-layout:fixed}.fc .fc-scrollgrid table{border-top-style:hidden;border-left-style:hidden;border-right-style:hidden}.fc .fc-scrollgrid{border-collapse:separate;border-right-width:0;border-bottom-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section>td,.fc .fc-scrollgrid-section table{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-top-width:0;border-left-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:#fff;background:var(--fc-page-bg-color,#fff);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{position:absolute;top:0;left:0;right:0;bottom:0}.fc .fc-non-business{background:hsla(0,0%,84.3%,.3);background:var(--fc-non-business-color,hsla(0,0%,84.3%,.3))}.fc .fc-bg-event{background:#8fdf82;background:var(--fc-bg-event-color,#8fdf82);opacity:.3;opacity:var(--fc-bg-event-opacity,.3)}.fc .fc-bg-event .fc-event-title{margin:.5em;font-size:.85em;font-size:var(--fc-small-font-size,.85em);font-style:italic}.fc .fc-highlight{background:rgba(188,232,241,.3);background:var(--fc-highlight-color,rgba(188,232,241,.3))}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{border-radius:4px;border-radius:calc(var(--fc-event-resizer-dot-total-width, 8px) / 2);border-width:1px;width:8px;width:var(--fc-event-resizer-dot-total-width,8px);height:8px;height:var(--fc-event-resizer-dot-total-width,8px);border:var(--fc-event-resizer-dot-border-width,1px) solid;border-color:inherit;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-event-selected .fc-event-resizer:before{content:\\\"\\\";position:absolute;top:-20px;left:-20px;right:-20px;bottom:-20px}.fc-event-selected{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before{content:\\\"\\\";position:absolute;z-index:3;top:0;left:0;right:0;bottom:0}.fc-event-selected:after{content:\\\"\\\";background:rgba(0,0,0,.25);background:var(--fc-event-selected-overlay-color,rgba(0,0,0,.25));position:absolute;z-index:1;top:-1px;left:-1px;right:-1px;bottom:-1px}.fc-h-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-h-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;vertical-align:top;left:0;right:0;max-width:100%;overflow:hidden}.fc-h-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-top-left-radius:0;border-bottom-left-radius:0;border-left-width:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-top-right-radius:0;border-bottom-right-radius:0;border-right-width:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{top:0;bottom:0;width:8px;width:var(--fc-event-resizer-thickness,8px)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:-4px;left:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:-4px;right:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-h-event.fc-event-selected .fc-event-resizer{top:50%;margin-top:-4px;margin-top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:-4px;left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:-4px;right:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-popover{position:absolute;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15)}.fc .fc-popover-header{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;opacity:.65;font-size:1.1em}.fc-theme-standard .fc-popover{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd);background:#fff;background:var(--fc-page-bg-color,#fff)}.fc-theme-standard .fc-popover-header{background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}:root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-daygrid-day-frame{position:relative;min-height:100%}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{position:relative;z-index:4;padding:4px}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{position:absolute;left:0;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{position:relative;min-height:2em}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{position:absolute;top:0;left:0;right:0}.fc .fc-daygrid-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{z-index:6;margin-top:1px}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;padding:2px 3px 0}.fc .fc-daygrid-day-bottom:before{content:\\\"\\\";clear:both;display:table}.fc .fc-daygrid-more-link{position:relative;z-index:4;cursor:pointer}.fc .fc-daygrid-week-number{position:absolute;z-index:5;top:0;padding:2px;min-width:1.5em;text-align:center;background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));color:grey;color:var(--fc-neutral-text-color,grey)}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-week-number{left:0;border-radius:0 0 3px 0}.fc-direction-rtl .fc-daygrid-week-number{right:0;border-radius:0 0 0 3px}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{position:relative;white-space:nowrap;border-radius:3px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{display:flex;align-items:center;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;min-width:0;overflow:hidden;font-weight:700}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{top:-10px;bottom:-10px}.fc-daygrid-event-dot{margin:0 4px;box-sizing:content-box;width:0;height:0;border:4px solid #3788d8;border:calc(var(--fc-daygrid-event-dot-width, 8px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:4px;border-radius:calc(var(--fc-daygrid-event-dot-width, 8px) / 2)}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}.fc-v-event{display:block;border:1px solid #3788d8;border:1px solid var(--fc-event-border-color,#3788d8);background-color:#3788d8;background-color:var(--fc-event-bg-color,#3788d8)}.fc-v-event .fc-event-main{color:#fff;color:var(--fc-event-text-color,#fff);height:100%}.fc-v-event .fc-event-main-frame{height:100%;display:flex;flex-direction:column}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{top:0;bottom:0;max-height:100%;overflow:hidden}.fc-v-event:not(.fc-event-start){border-top-width:0;border-top-left-radius:0;border-top-right-radius:0}.fc-v-event:not(.fc-event-end){border-bottom-width:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:8px;height:var(--fc-event-resizer-thickness,8px);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-thickness, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:-4px;margin-left:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:-4px;top:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:-4px;bottom:calc(var(--fc-event-resizer-dot-total-width, 8px) / -2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{position:relative;z-index:1;min-height:100%}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{height:1.5em;border-bottom:0}.fc .fc-timegrid-slot:empty:before{content:\\\"\\u00A0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{overflow:hidden;display:flex;align-items:center;justify-content:flex-end}.fc .fc-timegrid-axis-cushion{max-width:60px;flex-shrink:0}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-timegrid-col.fc-day-today{background-color:rgba(255,220,40,.15);background-color:var(--fc-today-bg-color,rgba(255,220,40,.15))}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-liquid-hack .fc-timegrid-col-frame{height:auto}.fc-liquid-hack .fc-timegrid-col-frame,.fc-media-screen .fc-timegrid-cols{position:absolute;top:0;right:0;bottom:0;left:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{position:absolute;top:0;left:0;right:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{position:absolute;left:0;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{position:absolute;top:0;bottom:0;left:0;right:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px #fff;box-shadow:0 0 0 1px var(--fc-page-bg-color,#fff)}.fc-timegrid-event,.fc-timegrid-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);border-radius:3px}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{white-space:nowrap;font-size:.85em;font-size:var(--fc-small-font-size,.85em);margin-bottom:1px}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\u00A0-\\u00A0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timegrid-more-link{position:absolute;z-index:9999;color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);cursor:pointer;margin-bottom:1px}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{position:absolute;z-index:4;left:0;right:0;border:0 solid red;border-color:var(--fc-now-indicator-color,red);border-top:1px solid var(--fc-now-indicator-color,red)}.fc .fc-timegrid-now-indicator-arrow{position:absolute;z-index:4;margin-top:-5px;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{left:0;border-width:5px 0 5px 6px;border-top-color:transparent;border-bottom-color:transparent}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{right:0;border-width:5px 6px 5px 0;border-top-color:transparent;border-bottom-color:transparent}:root{--fc-list-event-dot-width:10px;--fc-list-event-hover-bg-color:#f5f5f5}.fc-theme-standard .fc-list{border:1px solid #ddd;border:1px solid var(--fc-border-color,#ddd)}.fc .fc-list-empty{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3));height:100%;display:flex;justify-content:center;align-items:center}.fc .fc-list-empty-cushion{margin:5em 0}.fc .fc-list-table{width:100%;border-style:hidden}.fc .fc-list-table tr>*{border-left:0;border-right:0}.fc .fc-list-sticky .fc-list-day>*{position:sticky;top:0;background:#fff;background:var(--fc-page-bg-color,#fff)}.fc .fc-list-table th{padding:0}.fc .fc-list-day-cushion,.fc .fc-list-table td{padding:8px 14px}.fc .fc-list-day-cushion:after{content:\\\"\\\";clear:both;display:table}.fc-theme-standard .fc-list-day-cushion{background-color:hsla(0,0%,81.6%,.3);background-color:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc-direction-ltr .fc-list-day-text,.fc-direction-rtl .fc-list-day-side-text{float:left}.fc-direction-ltr .fc-list-day-side-text,.fc-direction-rtl .fc-list-day-text{float:right}.fc-direction-ltr .fc-list-table .fc-list-event-graphic{padding-right:0}.fc-direction-rtl .fc-list-table .fc-list-event-graphic{padding-left:0}.fc .fc-list-event.fc-event-forced-url{cursor:pointer}.fc .fc-list-event:hover td{background-color:#f5f5f5;background-color:var(--fc-list-event-hover-bg-color,#f5f5f5)}.fc .fc-list-event-graphic,.fc .fc-list-event-time{white-space:nowrap;width:1px}.fc .fc-list-event-dot{display:inline-block;box-sizing:content-box;width:0;height:0;border:5px solid #3788d8;border:calc(var(--fc-list-event-dot-width, 10px) / 2) solid var(--fc-event-border-color,#3788d8);border-radius:5px;border-radius:calc(var(--fc-list-event-dot-width, 10px) / 2)}.fc .fc-list-event-title a{color:inherit;text-decoration:none}.fc .fc-list-event.fc-event-forced-url:hover a{text-decoration:underline}.fc-theme-bootstrap a:not([href]){color:inherit}.fc .fc-event,.fc .fc-scrollgrid table tr{-moz-column-break-inside:avoid;break-inside:avoid}.fc-media-print{display:block;max-width:100%}.fc-media-print .fc-bg-event,.fc-media-print .fc-non-business,.fc-media-print .fc-timegrid-axis-chunk,.fc-media-print .fc-timegrid-slots,.fc-media-print .fc-timeline-slots{display:none}.fc-media-print .fc-h-event,.fc-media-print .fc-toolbar button,.fc-media-print .fc-v-event{color:#000!important;background:#fff!important}.fc-media-print .fc-event,.fc-media-print .fc-event-main{color:#000!important}.fc-media-print .fc-timegrid-event{margin:.5em 0}.fc .fc-timeline-body{min-height:100%;position:relative;z-index:1}.fc .fc-timeline-slots{position:absolute;z-index:1;top:0;bottom:0}.fc .fc-timeline-slots>table{height:100%}.fc .fc-timeline-slot-minor{border-style:dotted}.fc .fc-timeline-slot-frame{display:flex;align-items:center;justify-content:center;overflow:hidden}.fc .fc-timeline-header-row-chrono .fc-timeline-slot-frame{justify-content:flex-start}.fc .fc-timeline-slot-cushion{padding:4px 5px;white-space:nowrap}.fc-direction-ltr .fc-timeline-slot{border-right:0!important}.fc-direction-rtl .fc-timeline-slot{border-left:0!important}.fc .fc-timeline-now-indicator-container{position:absolute;z-index:4;top:0;bottom:0;left:0;right:0;width:0}.fc .fc-timeline-now-indicator-arrow,.fc .fc-timeline-now-indicator-line{position:absolute;top:0;border-style:solid;border-color:red;border-color:var(--fc-now-indicator-color,red)}.fc .fc-timeline-now-indicator-arrow{margin:0 -6px;border-width:6px 5px 0;border-left-color:transparent;border-right-color:transparent}.fc .fc-timeline-now-indicator-line{margin:0 -1px;bottom:0;border-width:0 0 0 1px}.fc .fc-timeline-events{position:relative;z-index:3;width:0}.fc .fc-timeline-event-harness,.fc .fc-timeline-more-link{position:absolute;top:0}.fc-timeline-event{z-index:1}.fc-timeline-event.fc-event-mirror{z-index:2}.fc-timeline-event{position:relative;display:flex;align-items:center;border-radius:0;padding:2px 1px;margin-bottom:1px;font-size:.85em;font-size:var(--fc-small-font-size,.85em)}.fc-timeline-event .fc-event-main{flex-grow:1;flex-shrink:1;min-width:0}.fc-timeline-event .fc-event-time{font-weight:700}.fc-timeline-event .fc-event-time,.fc-timeline-event .fc-event-title{white-space:nowrap;padding:0 2px}.fc-direction-ltr .fc-timeline-event.fc-event-end,.fc-direction-ltr .fc-timeline-more-link{margin-right:1px}.fc-direction-rtl .fc-timeline-event.fc-event-end,.fc-direction-rtl .fc-timeline-more-link{margin-left:1px}.fc-timeline-overlap-disabled .fc-timeline-event{padding-top:5px;padding-bottom:5px;margin-bottom:0}.fc-timeline-event:not(.fc-event-end):after,.fc-timeline-event:not(.fc-event-start):before{content:\\\"\\\";flex-grow:0;flex-shrink:0;opacity:.5;width:0;height:0;margin:0 1px;border-color:transparent #000;border-style:solid;border-width:5px}.fc-direction-ltr .fc-timeline-event:not(.fc-event-start):before,.fc-direction-rtl .fc-timeline-event:not(.fc-event-end):after{border-left:0}.fc-direction-ltr .fc-timeline-event:not(.fc-event-end):after,.fc-direction-rtl .fc-timeline-event:not(.fc-event-start):before{border-right:0}.fc-timeline-more-link{font-size:.85em;font-size:var(--fc-small-font-size,.85em);color:inherit;color:var(--fc-more-link-text-color,inherit);background:#d0d0d0;background:var(--fc-more-link-bg-color,#d0d0d0);padding:1px;cursor:pointer}.fc-timeline-more-link-inner{display:inline-block;left:0;right:0;padding:2px}.fc .fc-timeline-bg{position:absolute;z-index:2;top:0;bottom:0;width:0;left:0;right:0}.fc .fc-timeline-bg .fc-non-business{z-index:1}.fc .fc-timeline-bg .fc-bg-event{z-index:2}.fc .fc-timeline-bg .fc-highlight{z-index:3}.fc .fc-timeline-bg-harness{position:absolute;top:0;bottom:0}.fc .fc-resource-timeline-divider{width:3px;cursor:col-resize}.fc .fc-resource-timeline .fc-resource-group:not([rowspan]){background:hsla(0,0%,81.6%,.3);background:var(--fc-neutral-bg-color,hsla(0,0%,81.6%,.3))}.fc .fc-timeline-lane-frame{position:relative}.fc .fc-timeline-overlap-enabled .fc-timeline-lane-frame .fc-timeline-events{box-sizing:content-box;padding-bottom:10px}.fc-timeline-body-expandrows td.fc-timeline-lane{position:relative}.fc-timeline-body-expandrows .fc-timeline-lane-frame{position:static}.fc-datagrid-cell-frame-liquid{height:100%}.fc-liquid-hack .fc-datagrid-cell-frame-liquid{height:auto;position:absolute;top:0;right:0;bottom:0;left:0}.fc .fc-datagrid-header .fc-datagrid-cell-frame{position:relative;display:flex;justify-content:flex-start;align-items:center}.fc .fc-datagrid-cell-resizer{position:absolute;z-index:1;top:0;bottom:0;width:5px;cursor:col-resize}.fc .fc-datagrid-cell-cushion{padding:8px;white-space:nowrap;overflow:hidden}.fc .fc-datagrid-expander{cursor:pointer;opacity:.65}.fc .fc-datagrid-expander .fc-icon{display:inline-block;width:1em}.fc .fc-datagrid-expander-placeholder{cursor:auto}.fc .fc-resource-timeline-flat .fc-datagrid-expander-placeholder{display:none}.fc-direction-ltr .fc-datagrid-cell-resizer{right:-3px}.fc-direction-rtl .fc-datagrid-cell-resizer{left:-3px}.fc-direction-ltr .fc-datagrid-expander{margin-right:3px}.fc-direction-rtl .fc-datagrid-expander{margin-left:3px}\"]\n            }]\n    }], function () { return [{ type: ngcc0.ElementRef }]; }, { options: [{\n            type: Input\n        }], deepChangeDetection: [{\n            type: Input\n        }] }); })();\n\nclass FullCalendarModule {\n    static registerPlugins(plugins) {\n        globalPlugins.push(...plugins);\n    }\n}\nFullCalendarModule.fac = function FullCalendarModule_Factory(t) { return new (t || FullCalendarModule)(); };\nFullCalendarModule.mod = /*@__PURE__*/ ngcc0.defineNgModule({ type: FullCalendarModule });\nFullCalendarModule.inj = /*@__PURE__*/ ngcc0.defineInjector({ imports: [[]] });\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ngcc0.setClassMetadata(FullCalendarModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [FullCalendarComponent],\n                imports: [],\n                exports: [FullCalendarComponent]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ngcc0.setNgModuleScope(FullCalendarModule, { declarations: [FullCalendarComponent], exports: [FullCalendarComponent] }); })();\n\n/*\n * Public API Surface of fullcalendar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { FullCalendarComponent, FullCalendarModule };\n\n","/*!\nFullCalendar v5.8.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __extends } from 'tslib';\nimport { Theme, createPlugin } from '@fullcalendar/common';\n\nvar BootstrapTheme = /** @class */ (function (_super) {\n    __extends(BootstrapTheme, _super);\n    function BootstrapTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return BootstrapTheme;\n}(Theme));\nBootstrapTheme.prototype.classes = {\n    root: 'fc-theme-bootstrap',\n    table: 'table-bordered',\n    tableCellShaded: 'table-active',\n    buttonGroup: 'btn-group',\n    button: 'btn btn-primary',\n    buttonActive: 'active',\n    popover: 'popover',\n    popoverHeader: 'popover-header',\n    popoverContent: 'popover-body',\n};\nBootstrapTheme.prototype.baseIconClass = 'fa';\nBootstrapTheme.prototype.iconClasses = {\n    close: 'fa-times',\n    prev: 'fa-chevron-left',\n    next: 'fa-chevron-right',\n    prevYear: 'fa-angle-double-left',\n    nextYear: 'fa-angle-double-right',\n};\nBootstrapTheme.prototype.rtlIconClasses = {\n    prev: 'fa-chevron-right',\n    next: 'fa-chevron-left',\n    prevYear: 'fa-angle-double-right',\n    nextYear: 'fa-angle-double-left',\n};\nBootstrapTheme.prototype.iconOverrideOption = 'bootstrapFontAwesome'; // TODO: make TS-friendly. move the option-processing into this plugin\nBootstrapTheme.prototype.iconOverrideCustomButtonOption = 'bootstrapFontAwesome';\nBootstrapTheme.prototype.iconOverridePrefix = 'fa-';\nvar plugin = createPlugin({\n    themeClasses: {\n        bootstrap: BootstrapTheme,\n    },\n});\n\nexport default plugin;\nexport { BootstrapTheme };\n","/*!\nFullCalendar v5.8.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { __assign, __spreadArray, __extends } from 'tslib';\nimport { createContext, Component, createRef, createElement, Fragment, createPortal } from './vdom.js';\nexport * from './vdom.js';\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar EventSourceApi = /** @class */ (function () {\n    function EventSourceApi(context, internalEventSource) {\n        this.context = context;\n        this.internalEventSource = internalEventSource;\n    }\n    EventSourceApi.prototype.remove = function () {\n        this.context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: this.internalEventSource.sourceId,\n        });\n    };\n    EventSourceApi.prototype.refetch = function () {\n        this.context.dispatch({\n            type: 'FETCH_EVENT_SOURCES',\n            sourceIds: [this.internalEventSource.sourceId],\n            isRefetch: true,\n        });\n    };\n    Object.defineProperty(EventSourceApi.prototype, \"id\", {\n        get: function () {\n            return this.internalEventSource.publicId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"url\", {\n        get: function () {\n            return this.internalEventSource.meta.url;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventSourceApi.prototype, \"format\", {\n        get: function () {\n            return this.internalEventSource.meta.format; // TODO: bad. not guaranteed\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventSourceApi;\n}());\n\nfunction removeElement(el) {\n    if (el.parentNode) {\n        el.parentNode.removeChild(el);\n    }\n}\n// Querying\n// ----------------------------------------------------------------------------------------------------------------\nfunction elementClosest(el, selector) {\n    if (el.closest) {\n        return el.closest(selector);\n        // really bad fallback for IE\n        // from https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n    }\n    if (!document.documentElement.contains(el)) {\n        return null;\n    }\n    do {\n        if (elementMatches(el, selector)) {\n            return el;\n        }\n        el = (el.parentElement || el.parentNode);\n    } while (el !== null && el.nodeType === 1);\n    return null;\n}\nfunction elementMatches(el, selector) {\n    var method = el.matches || el.matchesSelector || el.msMatchesSelector;\n    return method.call(el, selector);\n}\n// accepts multiple subject els\n// returns a real array. good for methods like forEach\n// TODO: accept the document\nfunction findElements(container, selector) {\n    var containers = container instanceof HTMLElement ? [container] : container;\n    var allMatches = [];\n    for (var i = 0; i < containers.length; i += 1) {\n        var matches = containers[i].querySelectorAll(selector);\n        for (var j = 0; j < matches.length; j += 1) {\n            allMatches.push(matches[j]);\n        }\n    }\n    return allMatches;\n}\n// accepts multiple subject els\n// only queries direct child elements // TODO: rename to findDirectChildren!\nfunction findDirectChildren(parent, selector) {\n    var parents = parent instanceof HTMLElement ? [parent] : parent;\n    var allMatches = [];\n    for (var i = 0; i < parents.length; i += 1) {\n        var childNodes = parents[i].children; // only ever elements\n        for (var j = 0; j < childNodes.length; j += 1) {\n            var childNode = childNodes[j];\n            if (!selector || elementMatches(childNode, selector)) {\n                allMatches.push(childNode);\n            }\n        }\n    }\n    return allMatches;\n}\n// Style\n// ----------------------------------------------------------------------------------------------------------------\nvar PIXEL_PROP_RE = /(top|left|right|bottom|width|height)$/i;\nfunction applyStyle(el, props) {\n    for (var propName in props) {\n        applyStyleProp(el, propName, props[propName]);\n    }\n}\nfunction applyStyleProp(el, name, val) {\n    if (val == null) {\n        el.style[name] = '';\n    }\n    else if (typeof val === 'number' && PIXEL_PROP_RE.test(name)) {\n        el.style[name] = val + \"px\";\n    }\n    else {\n        el.style[name] = val;\n    }\n}\n// Event Handling\n// ----------------------------------------------------------------------------------------------------------------\n// if intercepting bubbled events at the document/window/body level,\n// and want to see originating element (the 'target'), use this util instead\n// of `ev.target` because it goes within web-component boundaries.\nfunction getEventTargetViaRoot(ev) {\n    var _a, _b;\n    return (_b = (_a = ev.composedPath) === null || _a === void 0 ? void 0 : _a.call(ev)[0]) !== null && _b !== void 0 ? _b : ev.target;\n}\n\n// Stops a mouse/touch event from doing it's native browser action\nfunction preventDefault(ev) {\n    ev.preventDefault();\n}\n// Event Delegation\n// ----------------------------------------------------------------------------------------------------------------\nfunction buildDelegationHandler(selector, handler) {\n    return function (ev) {\n        var matchedChild = elementClosest(ev.target, selector);\n        if (matchedChild) {\n            handler.call(matchedChild, ev, matchedChild);\n        }\n    };\n}\nfunction listenBySelector(container, eventType, selector, handler) {\n    var attachedHandler = buildDelegationHandler(selector, handler);\n    container.addEventListener(eventType, attachedHandler);\n    return function () {\n        container.removeEventListener(eventType, attachedHandler);\n    };\n}\nfunction listenToHoverBySelector(container, selector, onMouseEnter, onMouseLeave) {\n    var currentMatchedChild;\n    return listenBySelector(container, 'mouseover', selector, function (mouseOverEv, matchedChild) {\n        if (matchedChild !== currentMatchedChild) {\n            currentMatchedChild = matchedChild;\n            onMouseEnter(mouseOverEv, matchedChild);\n            var realOnMouseLeave_1 = function (mouseLeaveEv) {\n                currentMatchedChild = null;\n                onMouseLeave(mouseLeaveEv, matchedChild);\n                matchedChild.removeEventListener('mouseleave', realOnMouseLeave_1);\n            };\n            // listen to the next mouseleave, and then unattach\n            matchedChild.addEventListener('mouseleave', realOnMouseLeave_1);\n        }\n    });\n}\n// Animation\n// ----------------------------------------------------------------------------------------------------------------\nvar transitionEventNames = [\n    'webkitTransitionEnd',\n    'otransitionend',\n    'oTransitionEnd',\n    'msTransitionEnd',\n    'transitionend',\n];\n// triggered only when the next single subsequent transition finishes\nfunction whenTransitionDone(el, callback) {\n    var realCallback = function (ev) {\n        callback(ev);\n        transitionEventNames.forEach(function (eventName) {\n            el.removeEventListener(eventName, realCallback);\n        });\n    };\n    transitionEventNames.forEach(function (eventName) {\n        el.addEventListener(eventName, realCallback); // cross-browser way to determine when the transition finishes\n    });\n}\n\nvar guidNumber = 0;\nfunction guid() {\n    guidNumber += 1;\n    return String(guidNumber);\n}\n/* FullCalendar-specific DOM Utilities\n----------------------------------------------------------------------------------------------------------------------*/\n// Make the mouse cursor express that an event is not allowed in the current area\nfunction disableCursor() {\n    document.body.classList.add('fc-not-allowed');\n}\n// Returns the mouse cursor to its original look\nfunction enableCursor() {\n    document.body.classList.remove('fc-not-allowed');\n}\n/* Selection\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventSelection(el) {\n    el.classList.add('fc-unselectable');\n    el.addEventListener('selectstart', preventDefault);\n}\nfunction allowSelection(el) {\n    el.classList.remove('fc-unselectable');\n    el.removeEventListener('selectstart', preventDefault);\n}\n/* Context Menu\n----------------------------------------------------------------------------------------------------------------------*/\nfunction preventContextMenu(el) {\n    el.addEventListener('contextmenu', preventDefault);\n}\nfunction allowContextMenu(el) {\n    el.removeEventListener('contextmenu', preventDefault);\n}\nfunction parseFieldSpecs(input) {\n    var specs = [];\n    var tokens = [];\n    var i;\n    var token;\n    if (typeof input === 'string') {\n        tokens = input.split(/\\s*,\\s*/);\n    }\n    else if (typeof input === 'function') {\n        tokens = [input];\n    }\n    else if (Array.isArray(input)) {\n        tokens = input;\n    }\n    for (i = 0; i < tokens.length; i += 1) {\n        token = tokens[i];\n        if (typeof token === 'string') {\n            specs.push(token.charAt(0) === '-' ?\n                { field: token.substring(1), order: -1 } :\n                { field: token, order: 1 });\n        }\n        else if (typeof token === 'function') {\n            specs.push({ func: token });\n        }\n    }\n    return specs;\n}\nfunction compareByFieldSpecs(obj0, obj1, fieldSpecs) {\n    var i;\n    var cmp;\n    for (i = 0; i < fieldSpecs.length; i += 1) {\n        cmp = compareByFieldSpec(obj0, obj1, fieldSpecs[i]);\n        if (cmp) {\n            return cmp;\n        }\n    }\n    return 0;\n}\nfunction compareByFieldSpec(obj0, obj1, fieldSpec) {\n    if (fieldSpec.func) {\n        return fieldSpec.func(obj0, obj1);\n    }\n    return flexibleCompare(obj0[fieldSpec.field], obj1[fieldSpec.field])\n        * (fieldSpec.order || 1);\n}\nfunction flexibleCompare(a, b) {\n    if (!a && !b) {\n        return 0;\n    }\n    if (b == null) {\n        return -1;\n    }\n    if (a == null) {\n        return 1;\n    }\n    if (typeof a === 'string' || typeof b === 'string') {\n        return String(a).localeCompare(String(b));\n    }\n    return a - b;\n}\n/* String Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction padStart(val, len) {\n    var s = String(val);\n    return '000'.substr(0, len - s.length) + s;\n}\n/* Number Utilities\n----------------------------------------------------------------------------------------------------------------------*/\nfunction compareNumbers(a, b) {\n    return a - b;\n}\nfunction isInt(n) {\n    return n % 1 === 0;\n}\n/* FC-specific DOM dimension stuff\n----------------------------------------------------------------------------------------------------------------------*/\nfunction computeSmallestCellWidth(cellEl) {\n    var allWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-frame');\n    var contentWidthEl = cellEl.querySelector('.fc-scrollgrid-shrink-cushion');\n    if (!allWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-frame className'); // TODO: use const\n    }\n    if (!contentWidthEl) {\n        throw new Error('needs fc-scrollgrid-shrink-cushion className');\n    }\n    return cellEl.getBoundingClientRect().width - allWidthEl.getBoundingClientRect().width + // the cell padding+border\n        contentWidthEl.getBoundingClientRect().width;\n}\n\nvar DAY_IDS = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];\n// Adding\nfunction addWeeks(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n * 7;\n    return arrayToUtcDate(a);\n}\nfunction addDays(m, n) {\n    var a = dateToUtcArray(m);\n    a[2] += n;\n    return arrayToUtcDate(a);\n}\nfunction addMs(m, n) {\n    var a = dateToUtcArray(m);\n    a[6] += n;\n    return arrayToUtcDate(a);\n}\n// Diffing (all return floats)\n// TODO: why not use ranges?\nfunction diffWeeks(m0, m1) {\n    return diffDays(m0, m1) / 7;\n}\nfunction diffDays(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60 * 24);\n}\nfunction diffHours(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60 * 60);\n}\nfunction diffMinutes(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / (1000 * 60);\n}\nfunction diffSeconds(m0, m1) {\n    return (m1.valueOf() - m0.valueOf()) / 1000;\n}\nfunction diffDayAndTime(m0, m1) {\n    var m0day = startOfDay(m0);\n    var m1day = startOfDay(m1);\n    return {\n        years: 0,\n        months: 0,\n        days: Math.round(diffDays(m0day, m1day)),\n        milliseconds: (m1.valueOf() - m1day.valueOf()) - (m0.valueOf() - m0day.valueOf()),\n    };\n}\n// Diffing Whole Units\nfunction diffWholeWeeks(m0, m1) {\n    var d = diffWholeDays(m0, m1);\n    if (d !== null && d % 7 === 0) {\n        return d / 7;\n    }\n    return null;\n}\nfunction diffWholeDays(m0, m1) {\n    if (timeAsMs(m0) === timeAsMs(m1)) {\n        return Math.round(diffDays(m0, m1));\n    }\n    return null;\n}\n// Start-Of\nfunction startOfDay(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n    ]);\n}\nfunction startOfHour(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n    ]);\n}\nfunction startOfMinute(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n    ]);\n}\nfunction startOfSecond(m) {\n    return arrayToUtcDate([\n        m.getUTCFullYear(),\n        m.getUTCMonth(),\n        m.getUTCDate(),\n        m.getUTCHours(),\n        m.getUTCMinutes(),\n        m.getUTCSeconds(),\n    ]);\n}\n// Week Computation\nfunction weekOfYear(marker, dow, doy) {\n    var y = marker.getUTCFullYear();\n    var w = weekOfGivenYear(marker, y, dow, doy);\n    if (w < 1) {\n        return weekOfGivenYear(marker, y - 1, dow, doy);\n    }\n    var nextW = weekOfGivenYear(marker, y + 1, dow, doy);\n    if (nextW >= 1) {\n        return Math.min(w, nextW);\n    }\n    return w;\n}\nfunction weekOfGivenYear(marker, year, dow, doy) {\n    var firstWeekStart = arrayToUtcDate([year, 0, 1 + firstWeekOffset(year, dow, doy)]);\n    var dayStart = startOfDay(marker);\n    var days = Math.round(diffDays(firstWeekStart, dayStart));\n    return Math.floor(days / 7) + 1; // zero-indexed\n}\n// start-of-first-week - start-of-year\nfunction firstWeekOffset(year, dow, doy) {\n    // first-week day -- which january is always in the first week (4 for iso, 1 for other)\n    var fwd = 7 + dow - doy;\n    // first-week day local weekday -- which local weekday is fwd\n    var fwdlw = (7 + arrayToUtcDate([year, 0, fwd]).getUTCDay() - dow) % 7;\n    return -fwdlw + fwd - 1;\n}\n// Array Conversion\nfunction dateToLocalArray(date) {\n    return [\n        date.getFullYear(),\n        date.getMonth(),\n        date.getDate(),\n        date.getHours(),\n        date.getMinutes(),\n        date.getSeconds(),\n        date.getMilliseconds(),\n    ];\n}\nfunction arrayToLocalDate(a) {\n    return new Date(a[0], a[1] || 0, a[2] == null ? 1 : a[2], // day of month\n    a[3] || 0, a[4] || 0, a[5] || 0);\n}\nfunction dateToUtcArray(date) {\n    return [\n        date.getUTCFullYear(),\n        date.getUTCMonth(),\n        date.getUTCDate(),\n        date.getUTCHours(),\n        date.getUTCMinutes(),\n        date.getUTCSeconds(),\n        date.getUTCMilliseconds(),\n    ];\n}\nfunction arrayToUtcDate(a) {\n    // according to web standards (and Safari), a month index is required.\n    // massage if only given a year.\n    if (a.length === 1) {\n        a = a.concat([0]);\n    }\n    return new Date(Date.UTC.apply(Date, a));\n}\n// Other Utils\nfunction isValidDate(m) {\n    return !isNaN(m.valueOf());\n}\nfunction timeAsMs(m) {\n    return m.getUTCHours() * 1000 * 60 * 60 +\n        m.getUTCMinutes() * 1000 * 60 +\n        m.getUTCSeconds() * 1000 +\n        m.getUTCMilliseconds();\n}\n\nfunction createEventInstance(defId, range, forcedStartTzo, forcedEndTzo) {\n    return {\n        instanceId: guid(),\n        defId: defId,\n        range: range,\n        forcedStartTzo: forcedStartTzo == null ? null : forcedStartTzo,\n        forcedEndTzo: forcedEndTzo == null ? null : forcedEndTzo,\n    };\n}\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n// Merges an array of objects into a single object.\n// The second argument allows for an array of property names who's object values will be merged together.\nfunction mergeProps(propObjs, complexPropsMap) {\n    var dest = {};\n    if (complexPropsMap) {\n        for (var name_1 in complexPropsMap) {\n            var complexObjs = [];\n            // collect the trailing object values, stopping when a non-object is discovered\n            for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n                var val = propObjs[i][name_1];\n                if (typeof val === 'object' && val) { // non-null object\n                    complexObjs.unshift(val);\n                }\n                else if (val !== undefined) {\n                    dest[name_1] = val; // if there were no objects, this value will be used\n                    break;\n                }\n            }\n            // if the trailing values were objects, use the merged value\n            if (complexObjs.length) {\n                dest[name_1] = mergeProps(complexObjs);\n            }\n        }\n    }\n    // copy values into the destination, going from last to first\n    for (var i = propObjs.length - 1; i >= 0; i -= 1) {\n        var props = propObjs[i];\n        for (var name_2 in props) {\n            if (!(name_2 in dest)) { // if already assigned by previous props or complex props, don't reassign\n                dest[name_2] = props[name_2];\n            }\n        }\n    }\n    return dest;\n}\nfunction filterHash(hash, func) {\n    var filtered = {};\n    for (var key in hash) {\n        if (func(hash[key], key)) {\n            filtered[key] = hash[key];\n        }\n    }\n    return filtered;\n}\nfunction mapHash(hash, func) {\n    var newHash = {};\n    for (var key in hash) {\n        newHash[key] = func(hash[key], key);\n    }\n    return newHash;\n}\nfunction arrayToHash(a) {\n    var hash = {};\n    for (var _i = 0, a_1 = a; _i < a_1.length; _i++) {\n        var item = a_1[_i];\n        hash[item] = true;\n    }\n    return hash;\n}\nfunction buildHashFromArray(a, func) {\n    var hash = {};\n    for (var i = 0; i < a.length; i += 1) {\n        var tuple = func(a[i], i);\n        hash[tuple[0]] = tuple[1];\n    }\n    return hash;\n}\nfunction hashValuesToArray(obj) {\n    var a = [];\n    for (var key in obj) {\n        a.push(obj[key]);\n    }\n    return a;\n}\nfunction isPropsEqual(obj0, obj1) {\n    if (obj0 === obj1) {\n        return true;\n    }\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                return false;\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\nfunction getUnequalProps(obj0, obj1) {\n    var keys = [];\n    for (var key in obj0) {\n        if (hasOwnProperty.call(obj0, key)) {\n            if (!(key in obj1)) {\n                keys.push(key);\n            }\n        }\n    }\n    for (var key in obj1) {\n        if (hasOwnProperty.call(obj1, key)) {\n            if (obj0[key] !== obj1[key]) {\n                keys.push(key);\n            }\n        }\n    }\n    return keys;\n}\nfunction compareObjs(oldProps, newProps, equalityFuncs) {\n    if (equalityFuncs === void 0) { equalityFuncs = {}; }\n    if (oldProps === newProps) {\n        return true;\n    }\n    for (var key in newProps) {\n        if (key in oldProps && isObjValsEqual(oldProps[key], newProps[key], equalityFuncs[key])) ;\n        else {\n            return false;\n        }\n    }\n    // check for props that were omitted in the new\n    for (var key in oldProps) {\n        if (!(key in newProps)) {\n            return false;\n        }\n    }\n    return true;\n}\n/*\nassumed \"true\" equality for handler names like \"onReceiveSomething\"\n*/\nfunction isObjValsEqual(val0, val1, comparator) {\n    if (val0 === val1 || comparator === true) {\n        return true;\n    }\n    if (comparator) {\n        return comparator(val0, val1);\n    }\n    return false;\n}\nfunction collectFromHash(hash, startIndex, endIndex, step) {\n    if (startIndex === void 0) { startIndex = 0; }\n    if (step === void 0) { step = 1; }\n    var res = [];\n    if (endIndex == null) {\n        endIndex = Object.keys(hash).length;\n    }\n    for (var i = startIndex; i < endIndex; i += step) {\n        var val = hash[i];\n        if (val !== undefined) { // will disregard undefined for sparse arrays\n            res.push(val);\n        }\n    }\n    return res;\n}\n\nfunction parseRecurring(refined, defaultAllDay, dateEnv, recurringTypes) {\n    for (var i = 0; i < recurringTypes.length; i += 1) {\n        var parsed = recurringTypes[i].parse(refined, dateEnv);\n        if (parsed) {\n            var allDay = refined.allDay;\n            if (allDay == null) {\n                allDay = defaultAllDay;\n                if (allDay == null) {\n                    allDay = parsed.allDayGuess;\n                    if (allDay == null) {\n                        allDay = false;\n                    }\n                }\n            }\n            return {\n                allDay: allDay,\n                duration: parsed.duration,\n                typeData: parsed.typeData,\n                typeId: i,\n            };\n        }\n    }\n    return null;\n}\nfunction expandRecurring(eventStore, framingRange, context) {\n    var dateEnv = context.dateEnv, pluginHooks = context.pluginHooks, options = context.options;\n    var defs = eventStore.defs, instances = eventStore.instances;\n    // remove existing recurring instances\n    // TODO: bad. always expand events as a second step\n    instances = filterHash(instances, function (instance) { return !defs[instance.defId].recurringDef; });\n    for (var defId in defs) {\n        var def = defs[defId];\n        if (def.recurringDef) {\n            var duration = def.recurringDef.duration;\n            if (!duration) {\n                duration = def.allDay ?\n                    options.defaultAllDayEventDuration :\n                    options.defaultTimedEventDuration;\n            }\n            var starts = expandRecurringRanges(def, duration, framingRange, dateEnv, pluginHooks.recurringTypes);\n            for (var _i = 0, starts_1 = starts; _i < starts_1.length; _i++) {\n                var start = starts_1[_i];\n                var instance = createEventInstance(defId, {\n                    start: start,\n                    end: dateEnv.add(start, duration),\n                });\n                instances[instance.instanceId] = instance;\n            }\n        }\n    }\n    return { defs: defs, instances: instances };\n}\n/*\nEvent MUST have a recurringDef\n*/\nfunction expandRecurringRanges(eventDef, duration, framingRange, dateEnv, recurringTypes) {\n    var typeDef = recurringTypes[eventDef.recurringDef.typeId];\n    var markers = typeDef.expand(eventDef.recurringDef.typeData, {\n        start: dateEnv.subtract(framingRange.start, duration),\n        end: framingRange.end,\n    }, dateEnv);\n    // the recurrence plugins don't guarantee that all-day events are start-of-day, so we have to\n    if (eventDef.allDay) {\n        markers = markers.map(startOfDay);\n    }\n    return markers;\n}\n\nvar INTERNAL_UNITS = ['years', 'months', 'days', 'milliseconds'];\nvar PARSE_RE = /^(-?)(?:(\\d+)\\.)?(\\d+):(\\d\\d)(?::(\\d\\d)(?:\\.(\\d\\d\\d))?)?/;\n// Parsing and Creation\nfunction createDuration(input, unit) {\n    var _a;\n    if (typeof input === 'string') {\n        return parseString(input);\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseObject(input);\n    }\n    if (typeof input === 'number') {\n        return parseObject((_a = {}, _a[unit || 'milliseconds'] = input, _a));\n    }\n    return null;\n}\nfunction parseString(s) {\n    var m = PARSE_RE.exec(s);\n    if (m) {\n        var sign = m[1] ? -1 : 1;\n        return {\n            years: 0,\n            months: 0,\n            days: sign * (m[2] ? parseInt(m[2], 10) : 0),\n            milliseconds: sign * ((m[3] ? parseInt(m[3], 10) : 0) * 60 * 60 * 1000 + // hours\n                (m[4] ? parseInt(m[4], 10) : 0) * 60 * 1000 + // minutes\n                (m[5] ? parseInt(m[5], 10) : 0) * 1000 + // seconds\n                (m[6] ? parseInt(m[6], 10) : 0) // ms\n            ),\n        };\n    }\n    return null;\n}\nfunction parseObject(obj) {\n    var duration = {\n        years: obj.years || obj.year || 0,\n        months: obj.months || obj.month || 0,\n        days: obj.days || obj.day || 0,\n        milliseconds: (obj.hours || obj.hour || 0) * 60 * 60 * 1000 + // hours\n            (obj.minutes || obj.minute || 0) * 60 * 1000 + // minutes\n            (obj.seconds || obj.second || 0) * 1000 + // seconds\n            (obj.milliseconds || obj.millisecond || obj.ms || 0), // ms\n    };\n    var weeks = obj.weeks || obj.week;\n    if (weeks) {\n        duration.days += weeks * 7;\n        duration.specifiedWeeks = true;\n    }\n    return duration;\n}\n// Equality\nfunction durationsEqual(d0, d1) {\n    return d0.years === d1.years &&\n        d0.months === d1.months &&\n        d0.days === d1.days &&\n        d0.milliseconds === d1.milliseconds;\n}\nfunction asCleanDays(dur) {\n    if (!dur.years && !dur.months && !dur.milliseconds) {\n        return dur.days;\n    }\n    return 0;\n}\n// Simple Math\nfunction addDurations(d0, d1) {\n    return {\n        years: d0.years + d1.years,\n        months: d0.months + d1.months,\n        days: d0.days + d1.days,\n        milliseconds: d0.milliseconds + d1.milliseconds,\n    };\n}\nfunction subtractDurations(d1, d0) {\n    return {\n        years: d1.years - d0.years,\n        months: d1.months - d0.months,\n        days: d1.days - d0.days,\n        milliseconds: d1.milliseconds - d0.milliseconds,\n    };\n}\nfunction multiplyDuration(d, n) {\n    return {\n        years: d.years * n,\n        months: d.months * n,\n        days: d.days * n,\n        milliseconds: d.milliseconds * n,\n    };\n}\n// Conversions\n// \"Rough\" because they are based on average-case Gregorian months/years\nfunction asRoughYears(dur) {\n    return asRoughDays(dur) / 365;\n}\nfunction asRoughMonths(dur) {\n    return asRoughDays(dur) / 30;\n}\nfunction asRoughDays(dur) {\n    return asRoughMs(dur) / 864e5;\n}\nfunction asRoughMinutes(dur) {\n    return asRoughMs(dur) / (1000 * 60);\n}\nfunction asRoughSeconds(dur) {\n    return asRoughMs(dur) / 1000;\n}\nfunction asRoughMs(dur) {\n    return dur.years * (365 * 864e5) +\n        dur.months * (30 * 864e5) +\n        dur.days * 864e5 +\n        dur.milliseconds;\n}\n// Advanced Math\nfunction wholeDivideDurations(numerator, denominator) {\n    var res = null;\n    for (var i = 0; i < INTERNAL_UNITS.length; i += 1) {\n        var unit = INTERNAL_UNITS[i];\n        if (denominator[unit]) {\n            var localRes = numerator[unit] / denominator[unit];\n            if (!isInt(localRes) || (res !== null && res !== localRes)) {\n                return null;\n            }\n            res = localRes;\n        }\n        else if (numerator[unit]) {\n            // needs to divide by something but can't!\n            return null;\n        }\n    }\n    return res;\n}\nfunction greatestDurationDenominator(dur) {\n    var ms = dur.milliseconds;\n    if (ms) {\n        if (ms % 1000 !== 0) {\n            return { unit: 'millisecond', value: ms };\n        }\n        if (ms % (1000 * 60) !== 0) {\n            return { unit: 'second', value: ms / 1000 };\n        }\n        if (ms % (1000 * 60 * 60) !== 0) {\n            return { unit: 'minute', value: ms / (1000 * 60) };\n        }\n        if (ms) {\n            return { unit: 'hour', value: ms / (1000 * 60 * 60) };\n        }\n    }\n    if (dur.days) {\n        if (dur.specifiedWeeks && dur.days % 7 === 0) {\n            return { unit: 'week', value: dur.days / 7 };\n        }\n        return { unit: 'day', value: dur.days };\n    }\n    if (dur.months) {\n        return { unit: 'month', value: dur.months };\n    }\n    if (dur.years) {\n        return { unit: 'year', value: dur.years };\n    }\n    return { unit: 'millisecond', value: 0 };\n}\n\n// timeZoneOffset is in minutes\nfunction buildIsoString(marker, timeZoneOffset, stripZeroTime) {\n    if (stripZeroTime === void 0) { stripZeroTime = false; }\n    var s = marker.toISOString();\n    s = s.replace('.000', '');\n    if (stripZeroTime) {\n        s = s.replace('T00:00:00Z', '');\n    }\n    if (s.length > 10) { // time part wasn't stripped, can add timezone info\n        if (timeZoneOffset == null) {\n            s = s.replace('Z', '');\n        }\n        else if (timeZoneOffset !== 0) {\n            s = s.replace('Z', formatTimeZoneOffset(timeZoneOffset, true));\n        }\n        // otherwise, its UTC-0 and we want to keep the Z\n    }\n    return s;\n}\n// formats the date, but with no time part\n// TODO: somehow merge with buildIsoString and stripZeroTime\n// TODO: rename. omit \"string\"\nfunction formatDayString(marker) {\n    return marker.toISOString().replace(/T.*$/, '');\n}\n// TODO: use Date::toISOString and use everything after the T?\nfunction formatIsoTimeString(marker) {\n    return padStart(marker.getUTCHours(), 2) + ':' +\n        padStart(marker.getUTCMinutes(), 2) + ':' +\n        padStart(marker.getUTCSeconds(), 2);\n}\nfunction formatTimeZoneOffset(minutes, doIso) {\n    if (doIso === void 0) { doIso = false; }\n    var sign = minutes < 0 ? '-' : '+';\n    var abs = Math.abs(minutes);\n    var hours = Math.floor(abs / 60);\n    var mins = Math.round(abs % 60);\n    if (doIso) {\n        return sign + padStart(hours, 2) + \":\" + padStart(mins, 2);\n    }\n    return \"GMT\" + sign + hours + (mins ? \":\" + padStart(mins, 2) : '');\n}\n\n// TODO: new util arrayify?\nfunction removeExact(array, exactVal) {\n    var removeCnt = 0;\n    var i = 0;\n    while (i < array.length) {\n        if (array[i] === exactVal) {\n            array.splice(i, 1);\n            removeCnt += 1;\n        }\n        else {\n            i += 1;\n        }\n    }\n    return removeCnt;\n}\nfunction isArraysEqual(a0, a1, equalityFunc) {\n    if (a0 === a1) {\n        return true;\n    }\n    var len = a0.length;\n    var i;\n    if (len !== a1.length) { // not array? or not same length?\n        return false;\n    }\n    for (i = 0; i < len; i += 1) {\n        if (!(equalityFunc ? equalityFunc(a0[i], a1[i]) : a0[i] === a1[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoize(workerFunc, resEquality, teardownFunc) {\n    var currentArgs;\n    var currentRes;\n    return function () {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (!currentArgs) {\n            currentRes = workerFunc.apply(this, newArgs);\n        }\n        else if (!isArraysEqual(currentArgs, newArgs)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.apply(this, newArgs);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArgs = newArgs;\n        return currentRes;\n    };\n}\nfunction memoizeObjArg(workerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArg;\n    var currentRes;\n    return function (newArg) {\n        if (!currentArg) {\n            currentRes = workerFunc.call(_this, newArg);\n        }\n        else if (!isPropsEqual(currentArg, newArg)) {\n            if (teardownFunc) {\n                teardownFunc(currentRes);\n            }\n            var res = workerFunc.call(_this, newArg);\n            if (!resEquality || !resEquality(res, currentRes)) {\n                currentRes = res;\n            }\n        }\n        currentArg = newArg;\n        return currentRes;\n    };\n}\nfunction memoizeArraylike(// used at all?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgSets = [];\n    var currentResults = [];\n    return function (newArgSets) {\n        var currentLen = currentArgSets.length;\n        var newLen = newArgSets.length;\n        var i = 0;\n        for (; i < currentLen; i += 1) {\n            if (!newArgSets[i]) { // one of the old sets no longer exists\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n            }\n            else if (!isArraysEqual(currentArgSets[i], newArgSets[i])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResults[i]);\n                }\n                var res = workerFunc.apply(_this, newArgSets[i]);\n                if (!resEquality || !resEquality(res, currentResults[i])) {\n                    currentResults[i] = res;\n                }\n            }\n        }\n        for (; i < newLen; i += 1) {\n            currentResults[i] = workerFunc.apply(_this, newArgSets[i]);\n        }\n        currentArgSets = newArgSets;\n        currentResults.splice(newLen); // remove excess\n        return currentResults;\n    };\n}\nfunction memoizeHashlike(// used?\nworkerFunc, resEquality, teardownFunc) {\n    var _this = this;\n    var currentArgHash = {};\n    var currentResHash = {};\n    return function (newArgHash) {\n        var newResHash = {};\n        for (var key in newArgHash) {\n            if (!currentResHash[key]) {\n                newResHash[key] = workerFunc.apply(_this, newArgHash[key]);\n            }\n            else if (!isArraysEqual(currentArgHash[key], newArgHash[key])) {\n                if (teardownFunc) {\n                    teardownFunc(currentResHash[key]);\n                }\n                var res = workerFunc.apply(_this, newArgHash[key]);\n                newResHash[key] = (resEquality && resEquality(res, currentResHash[key]))\n                    ? currentResHash[key]\n                    : res;\n            }\n            else {\n                newResHash[key] = currentResHash[key];\n            }\n        }\n        currentArgHash = newArgHash;\n        currentResHash = newResHash;\n        return newResHash;\n    };\n}\n\nvar EXTENDED_SETTINGS_AND_SEVERITIES = {\n    week: 3,\n    separator: 0,\n    omitZeroMinute: 0,\n    meridiem: 0,\n    omitCommas: 0,\n};\nvar STANDARD_DATE_PROP_SEVERITIES = {\n    timeZoneName: 7,\n    era: 6,\n    year: 5,\n    month: 4,\n    day: 2,\n    weekday: 2,\n    hour: 1,\n    minute: 1,\n    second: 1,\n};\nvar MERIDIEM_RE = /\\s*([ap])\\.?m\\.?/i; // eats up leading spaces too\nvar COMMA_RE = /,/g; // we need re for globalness\nvar MULTI_SPACE_RE = /\\s+/g;\nvar LTR_RE = /\\u200e/g; // control character\nvar UTC_RE = /UTC|GMT/;\nvar NativeFormatter = /** @class */ (function () {\n    function NativeFormatter(formatSettings) {\n        var standardDateProps = {};\n        var extendedSettings = {};\n        var severity = 0;\n        for (var name_1 in formatSettings) {\n            if (name_1 in EXTENDED_SETTINGS_AND_SEVERITIES) {\n                extendedSettings[name_1] = formatSettings[name_1];\n                severity = Math.max(EXTENDED_SETTINGS_AND_SEVERITIES[name_1], severity);\n            }\n            else {\n                standardDateProps[name_1] = formatSettings[name_1];\n                if (name_1 in STANDARD_DATE_PROP_SEVERITIES) { // TODO: what about hour12? no severity\n                    severity = Math.max(STANDARD_DATE_PROP_SEVERITIES[name_1], severity);\n                }\n            }\n        }\n        this.standardDateProps = standardDateProps;\n        this.extendedSettings = extendedSettings;\n        this.severity = severity;\n        this.buildFormattingFunc = memoize(buildFormattingFunc);\n    }\n    NativeFormatter.prototype.format = function (date, context) {\n        return this.buildFormattingFunc(this.standardDateProps, this.extendedSettings, context)(date);\n    };\n    NativeFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        var _a = this, standardDateProps = _a.standardDateProps, extendedSettings = _a.extendedSettings;\n        var diffSeverity = computeMarkerDiffSeverity(start.marker, end.marker, context.calendarSystem);\n        if (!diffSeverity) {\n            return this.format(start, context);\n        }\n        var biggestUnitForPartial = diffSeverity;\n        if (biggestUnitForPartial > 1 && // the two dates are different in a way that's larger scale than time\n            (standardDateProps.year === 'numeric' || standardDateProps.year === '2-digit') &&\n            (standardDateProps.month === 'numeric' || standardDateProps.month === '2-digit') &&\n            (standardDateProps.day === 'numeric' || standardDateProps.day === '2-digit')) {\n            biggestUnitForPartial = 1; // make it look like the dates are only different in terms of time\n        }\n        var full0 = this.format(start, context);\n        var full1 = this.format(end, context);\n        if (full0 === full1) {\n            return full0;\n        }\n        var partialDateProps = computePartialFormattingOptions(standardDateProps, biggestUnitForPartial);\n        var partialFormattingFunc = buildFormattingFunc(partialDateProps, extendedSettings, context);\n        var partial0 = partialFormattingFunc(start);\n        var partial1 = partialFormattingFunc(end);\n        var insertion = findCommonInsertion(full0, partial0, full1, partial1);\n        var separator = extendedSettings.separator || betterDefaultSeparator || context.defaultSeparator || '';\n        if (insertion) {\n            return insertion.before + partial0 + separator + partial1 + insertion.after;\n        }\n        return full0 + separator + full1;\n    };\n    NativeFormatter.prototype.getLargestUnit = function () {\n        switch (this.severity) {\n            case 7:\n            case 6:\n            case 5:\n                return 'year';\n            case 4:\n                return 'month';\n            case 3:\n                return 'week';\n            case 2:\n                return 'day';\n            default:\n                return 'time'; // really?\n        }\n    };\n    return NativeFormatter;\n}());\nfunction buildFormattingFunc(standardDateProps, extendedSettings, context) {\n    var standardDatePropCnt = Object.keys(standardDateProps).length;\n    if (standardDatePropCnt === 1 && standardDateProps.timeZoneName === 'short') {\n        return function (date) { return (formatTimeZoneOffset(date.timeZoneOffset)); };\n    }\n    if (standardDatePropCnt === 0 && extendedSettings.week) {\n        return function (date) { return (formatWeekNumber(context.computeWeekNumber(date.marker), context.weekText, context.locale, extendedSettings.week)); };\n    }\n    return buildNativeFormattingFunc(standardDateProps, extendedSettings, context);\n}\nfunction buildNativeFormattingFunc(standardDateProps, extendedSettings, context) {\n    standardDateProps = __assign({}, standardDateProps); // copy\n    extendedSettings = __assign({}, extendedSettings); // copy\n    sanitizeSettings(standardDateProps, extendedSettings);\n    standardDateProps.timeZone = 'UTC'; // we leverage the only guaranteed timeZone for our UTC markers\n    var normalFormat = new Intl.DateTimeFormat(context.locale.codes, standardDateProps);\n    var zeroFormat; // needed?\n    if (extendedSettings.omitZeroMinute) {\n        var zeroProps = __assign({}, standardDateProps);\n        delete zeroProps.minute; // seconds and ms were already considered in sanitizeSettings\n        zeroFormat = new Intl.DateTimeFormat(context.locale.codes, zeroProps);\n    }\n    return function (date) {\n        var marker = date.marker;\n        var format;\n        if (zeroFormat && !marker.getUTCMinutes()) {\n            format = zeroFormat;\n        }\n        else {\n            format = normalFormat;\n        }\n        var s = format.format(marker);\n        return postProcess(s, date, standardDateProps, extendedSettings, context);\n    };\n}\nfunction sanitizeSettings(standardDateProps, extendedSettings) {\n    // deal with a browser inconsistency where formatting the timezone\n    // requires that the hour/minute be present.\n    if (standardDateProps.timeZoneName) {\n        if (!standardDateProps.hour) {\n            standardDateProps.hour = '2-digit';\n        }\n        if (!standardDateProps.minute) {\n            standardDateProps.minute = '2-digit';\n        }\n    }\n    // only support short timezone names\n    if (standardDateProps.timeZoneName === 'long') {\n        standardDateProps.timeZoneName = 'short';\n    }\n    // if requesting to display seconds, MUST display minutes\n    if (extendedSettings.omitZeroMinute && (standardDateProps.second || standardDateProps.millisecond)) {\n        delete extendedSettings.omitZeroMinute;\n    }\n}\nfunction postProcess(s, date, standardDateProps, extendedSettings, context) {\n    s = s.replace(LTR_RE, ''); // remove left-to-right control chars. do first. good for other regexes\n    if (standardDateProps.timeZoneName === 'short') {\n        s = injectTzoStr(s, (context.timeZone === 'UTC' || date.timeZoneOffset == null) ?\n            'UTC' : // important to normalize for IE, which does \"GMT\"\n            formatTimeZoneOffset(date.timeZoneOffset));\n    }\n    if (extendedSettings.omitCommas) {\n        s = s.replace(COMMA_RE, '').trim();\n    }\n    if (extendedSettings.omitZeroMinute) {\n        s = s.replace(':00', ''); // zeroFormat doesn't always achieve this\n    }\n    // ^ do anything that might create adjacent spaces before this point,\n    // because MERIDIEM_RE likes to eat up loading spaces\n    if (extendedSettings.meridiem === false) {\n        s = s.replace(MERIDIEM_RE, '').trim();\n    }\n    else if (extendedSettings.meridiem === 'narrow') { // a/p\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase(); });\n    }\n    else if (extendedSettings.meridiem === 'short') { // am/pm\n        s = s.replace(MERIDIEM_RE, function (m0, m1) { return m1.toLocaleLowerCase() + \"m\"; });\n    }\n    else if (extendedSettings.meridiem === 'lowercase') { // other meridiem transformers already converted to lowercase\n        s = s.replace(MERIDIEM_RE, function (m0) { return m0.toLocaleLowerCase(); });\n    }\n    s = s.replace(MULTI_SPACE_RE, ' ');\n    s = s.trim();\n    return s;\n}\nfunction injectTzoStr(s, tzoStr) {\n    var replaced = false;\n    s = s.replace(UTC_RE, function () {\n        replaced = true;\n        return tzoStr;\n    });\n    // IE11 doesn't include UTC/GMT in the original string, so append to end\n    if (!replaced) {\n        s += \" \" + tzoStr;\n    }\n    return s;\n}\nfunction formatWeekNumber(num, weekText, locale, display) {\n    var parts = [];\n    if (display === 'narrow') {\n        parts.push(weekText);\n    }\n    else if (display === 'short') {\n        parts.push(weekText, ' ');\n    }\n    // otherwise, considered 'numeric'\n    parts.push(locale.simpleNumberFormat.format(num));\n    if (locale.options.direction === 'rtl') { // TODO: use control characters instead?\n        parts.reverse();\n    }\n    return parts.join('');\n}\n// Range Formatting Utils\n// 0 = exactly the same\n// 1 = different by time\n// and bigger\nfunction computeMarkerDiffSeverity(d0, d1, ca) {\n    if (ca.getMarkerYear(d0) !== ca.getMarkerYear(d1)) {\n        return 5;\n    }\n    if (ca.getMarkerMonth(d0) !== ca.getMarkerMonth(d1)) {\n        return 4;\n    }\n    if (ca.getMarkerDay(d0) !== ca.getMarkerDay(d1)) {\n        return 2;\n    }\n    if (timeAsMs(d0) !== timeAsMs(d1)) {\n        return 1;\n    }\n    return 0;\n}\nfunction computePartialFormattingOptions(options, biggestUnit) {\n    var partialOptions = {};\n    for (var name_2 in options) {\n        if (!(name_2 in STANDARD_DATE_PROP_SEVERITIES) || // not a date part prop (like timeZone)\n            STANDARD_DATE_PROP_SEVERITIES[name_2] <= biggestUnit) {\n            partialOptions[name_2] = options[name_2];\n        }\n    }\n    return partialOptions;\n}\nfunction findCommonInsertion(full0, partial0, full1, partial1) {\n    var i0 = 0;\n    while (i0 < full0.length) {\n        var found0 = full0.indexOf(partial0, i0);\n        if (found0 === -1) {\n            break;\n        }\n        var before0 = full0.substr(0, found0);\n        i0 = found0 + partial0.length;\n        var after0 = full0.substr(i0);\n        var i1 = 0;\n        while (i1 < full1.length) {\n            var found1 = full1.indexOf(partial1, i1);\n            if (found1 === -1) {\n                break;\n            }\n            var before1 = full1.substr(0, found1);\n            i1 = found1 + partial1.length;\n            var after1 = full1.substr(i1);\n            if (before0 === before1 && after0 === after1) {\n                return {\n                    before: before0,\n                    after: after0,\n                };\n            }\n        }\n    }\n    return null;\n}\n\nfunction expandZonedMarker(dateInfo, calendarSystem) {\n    var a = calendarSystem.markerToArray(dateInfo.marker);\n    return {\n        marker: dateInfo.marker,\n        timeZoneOffset: dateInfo.timeZoneOffset,\n        array: a,\n        year: a[0],\n        month: a[1],\n        day: a[2],\n        hour: a[3],\n        minute: a[4],\n        second: a[5],\n        millisecond: a[6],\n    };\n}\n\nfunction createVerboseFormattingArg(start, end, context, betterDefaultSeparator) {\n    var startInfo = expandZonedMarker(start, context.calendarSystem);\n    var endInfo = end ? expandZonedMarker(end, context.calendarSystem) : null;\n    return {\n        date: startInfo,\n        start: startInfo,\n        end: endInfo,\n        timeZone: context.timeZone,\n        localeCodes: context.locale.codes,\n        defaultSeparator: betterDefaultSeparator || context.defaultSeparator,\n    };\n}\n\n/*\nTODO: fix the terminology of \"formatter\" vs \"formatting func\"\n*/\n/*\nAt the time of instantiation, this object does not know which cmd-formatting system it will use.\nIt receives this at the time of formatting, as a setting.\n*/\nvar CmdFormatter = /** @class */ (function () {\n    function CmdFormatter(cmdStr) {\n        this.cmdStr = cmdStr;\n    }\n    CmdFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    CmdFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return context.cmdFormatter(this.cmdStr, createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return CmdFormatter;\n}());\n\nvar FuncFormatter = /** @class */ (function () {\n    function FuncFormatter(func) {\n        this.func = func;\n    }\n    FuncFormatter.prototype.format = function (date, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(date, null, context, betterDefaultSeparator));\n    };\n    FuncFormatter.prototype.formatRange = function (start, end, context, betterDefaultSeparator) {\n        return this.func(createVerboseFormattingArg(start, end, context, betterDefaultSeparator));\n    };\n    return FuncFormatter;\n}());\n\nfunction createFormatter(input) {\n    if (typeof input === 'object' && input) { // non-null object\n        return new NativeFormatter(input);\n    }\n    if (typeof input === 'string') {\n        return new CmdFormatter(input);\n    }\n    if (typeof input === 'function') {\n        return new FuncFormatter(input);\n    }\n    return null;\n}\n\n// base options\n// ------------\nvar BASE_OPTION_REFINERS = {\n    navLinkDayClick: identity,\n    navLinkWeekClick: identity,\n    duration: createDuration,\n    bootstrapFontAwesome: identity,\n    buttonIcons: identity,\n    customButtons: identity,\n    defaultAllDayEventDuration: createDuration,\n    defaultTimedEventDuration: createDuration,\n    nextDayThreshold: createDuration,\n    scrollTime: createDuration,\n    scrollTimeReset: Boolean,\n    slotMinTime: createDuration,\n    slotMaxTime: createDuration,\n    dayPopoverFormat: createFormatter,\n    slotDuration: createDuration,\n    snapDuration: createDuration,\n    headerToolbar: identity,\n    footerToolbar: identity,\n    defaultRangeSeparator: String,\n    titleRangeSeparator: String,\n    forceEventDuration: Boolean,\n    dayHeaders: Boolean,\n    dayHeaderFormat: createFormatter,\n    dayHeaderClassNames: identity,\n    dayHeaderContent: identity,\n    dayHeaderDidMount: identity,\n    dayHeaderWillUnmount: identity,\n    dayCellClassNames: identity,\n    dayCellContent: identity,\n    dayCellDidMount: identity,\n    dayCellWillUnmount: identity,\n    initialView: String,\n    aspectRatio: Number,\n    weekends: Boolean,\n    weekNumberCalculation: identity,\n    weekNumbers: Boolean,\n    weekNumberClassNames: identity,\n    weekNumberContent: identity,\n    weekNumberDidMount: identity,\n    weekNumberWillUnmount: identity,\n    editable: Boolean,\n    viewClassNames: identity,\n    viewDidMount: identity,\n    viewWillUnmount: identity,\n    nowIndicator: Boolean,\n    nowIndicatorClassNames: identity,\n    nowIndicatorContent: identity,\n    nowIndicatorDidMount: identity,\n    nowIndicatorWillUnmount: identity,\n    showNonCurrentDates: Boolean,\n    lazyFetching: Boolean,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n    timeZone: String,\n    locales: identity,\n    locale: identity,\n    themeSystem: String,\n    dragRevertDuration: Number,\n    dragScroll: Boolean,\n    allDayMaintainDuration: Boolean,\n    unselectAuto: Boolean,\n    dropAccept: identity,\n    eventOrder: parseFieldSpecs,\n    eventOrderStrict: Boolean,\n    handleWindowResize: Boolean,\n    windowResizeDelay: Number,\n    longPressDelay: Number,\n    eventDragMinDistance: Number,\n    expandRows: Boolean,\n    height: identity,\n    contentHeight: identity,\n    direction: String,\n    weekNumberFormat: createFormatter,\n    eventResizableFromStart: Boolean,\n    displayEventTime: Boolean,\n    displayEventEnd: Boolean,\n    weekText: String,\n    progressiveEventRendering: Boolean,\n    businessHours: identity,\n    initialDate: identity,\n    now: identity,\n    eventDataTransform: identity,\n    stickyHeaderDates: identity,\n    stickyFooterScrollbar: identity,\n    viewHeight: identity,\n    defaultAllDay: Boolean,\n    eventSourceFailure: identity,\n    eventSourceSuccess: identity,\n    eventDisplay: String,\n    eventStartEditable: Boolean,\n    eventDurationEditable: Boolean,\n    eventOverlap: identity,\n    eventConstraint: identity,\n    eventAllow: identity,\n    eventBackgroundColor: String,\n    eventBorderColor: String,\n    eventTextColor: String,\n    eventColor: String,\n    eventClassNames: identity,\n    eventContent: identity,\n    eventDidMount: identity,\n    eventWillUnmount: identity,\n    selectConstraint: identity,\n    selectOverlap: identity,\n    selectAllow: identity,\n    droppable: Boolean,\n    unselectCancel: String,\n    slotLabelFormat: identity,\n    slotLaneClassNames: identity,\n    slotLaneContent: identity,\n    slotLaneDidMount: identity,\n    slotLaneWillUnmount: identity,\n    slotLabelClassNames: identity,\n    slotLabelContent: identity,\n    slotLabelDidMount: identity,\n    slotLabelWillUnmount: identity,\n    dayMaxEvents: identity,\n    dayMaxEventRows: identity,\n    dayMinWidth: Number,\n    slotLabelInterval: createDuration,\n    allDayText: String,\n    allDayClassNames: identity,\n    allDayContent: identity,\n    allDayDidMount: identity,\n    allDayWillUnmount: identity,\n    slotMinWidth: Number,\n    navLinks: Boolean,\n    eventTimeFormat: createFormatter,\n    rerenderDelay: Number,\n    moreLinkText: identity,\n    selectMinDistance: Number,\n    selectable: Boolean,\n    selectLongPressDelay: Number,\n    eventLongPressDelay: Number,\n    selectMirror: Boolean,\n    eventMaxStack: Number,\n    eventMinHeight: Number,\n    eventMinWidth: Number,\n    eventShortHeight: Number,\n    slotEventOverlap: Boolean,\n    plugins: identity,\n    firstDay: Number,\n    dayCount: Number,\n    dateAlignment: String,\n    dateIncrement: createDuration,\n    hiddenDays: identity,\n    monthMode: Boolean,\n    fixedWeekCount: Boolean,\n    validRange: identity,\n    visibleRange: identity,\n    titleFormat: identity,\n    // only used by list-view, but languages define the value, so we need it in base options\n    noEventsText: String,\n    moreLinkClick: identity,\n    moreLinkClassNames: identity,\n    moreLinkContent: identity,\n    moreLinkDidMount: identity,\n    moreLinkWillUnmount: identity,\n};\n// do NOT give a type here. need `typeof BASE_OPTION_DEFAULTS` to give real results.\n// raw values.\nvar BASE_OPTION_DEFAULTS = {\n    eventDisplay: 'auto',\n    defaultRangeSeparator: ' - ',\n    titleRangeSeparator: ' \\u2013 ',\n    defaultTimedEventDuration: '01:00:00',\n    defaultAllDayEventDuration: { day: 1 },\n    forceEventDuration: false,\n    nextDayThreshold: '00:00:00',\n    dayHeaders: true,\n    initialView: '',\n    aspectRatio: 1.35,\n    headerToolbar: {\n        start: 'title',\n        center: '',\n        end: 'today prev,next',\n    },\n    weekends: true,\n    weekNumbers: false,\n    weekNumberCalculation: 'local',\n    editable: false,\n    nowIndicator: false,\n    scrollTime: '06:00:00',\n    scrollTimeReset: true,\n    slotMinTime: '00:00:00',\n    slotMaxTime: '24:00:00',\n    showNonCurrentDates: true,\n    lazyFetching: true,\n    startParam: 'start',\n    endParam: 'end',\n    timeZoneParam: 'timeZone',\n    timeZone: 'local',\n    locales: [],\n    locale: '',\n    themeSystem: 'standard',\n    dragRevertDuration: 500,\n    dragScroll: true,\n    allDayMaintainDuration: false,\n    unselectAuto: true,\n    dropAccept: '*',\n    eventOrder: 'start,-duration,allDay,title',\n    dayPopoverFormat: { month: 'long', day: 'numeric', year: 'numeric' },\n    handleWindowResize: true,\n    windowResizeDelay: 100,\n    longPressDelay: 1000,\n    eventDragMinDistance: 5,\n    expandRows: false,\n    navLinks: false,\n    selectable: false,\n    eventMinHeight: 15,\n    eventMinWidth: 30,\n    eventShortHeight: 30,\n};\n// calendar listeners\n// ------------------\nvar CALENDAR_LISTENER_REFINERS = {\n    datesSet: identity,\n    eventsSet: identity,\n    eventAdd: identity,\n    eventChange: identity,\n    eventRemove: identity,\n    windowResize: identity,\n    eventClick: identity,\n    eventMouseEnter: identity,\n    eventMouseLeave: identity,\n    select: identity,\n    unselect: identity,\n    loading: identity,\n    // internal\n    _unmount: identity,\n    _beforeprint: identity,\n    _afterprint: identity,\n    _noEventDrop: identity,\n    _noEventResize: identity,\n    _resize: identity,\n    _scrollRequest: identity,\n};\n// calendar-specific options\n// -------------------------\nvar CALENDAR_OPTION_REFINERS = {\n    buttonText: identity,\n    views: identity,\n    plugins: identity,\n    initialEvents: identity,\n    events: identity,\n    eventSources: identity,\n};\nvar COMPLEX_OPTION_COMPARATORS = {\n    headerToolbar: isBoolComplexEqual,\n    footerToolbar: isBoolComplexEqual,\n    buttonText: isBoolComplexEqual,\n    buttonIcons: isBoolComplexEqual,\n};\nfunction isBoolComplexEqual(a, b) {\n    if (typeof a === 'object' && typeof b === 'object' && a && b) { // both non-null objects\n        return isPropsEqual(a, b);\n    }\n    return a === b;\n}\n// view-specific options\n// ---------------------\nvar VIEW_OPTION_REFINERS = {\n    type: String,\n    component: identity,\n    buttonText: String,\n    buttonTextKey: String,\n    dateProfileGeneratorClass: identity,\n    usesMinMaxTime: Boolean,\n    classNames: identity,\n    content: identity,\n    didMount: identity,\n    willUnmount: identity,\n};\n// util funcs\n// ----------------------------------------------------------------------------------------------------\nfunction mergeRawOptions(optionSets) {\n    return mergeProps(optionSets, COMPLEX_OPTION_COMPARATORS);\n}\nfunction refineProps(input, refiners) {\n    var refined = {};\n    var extra = {};\n    for (var propName in refiners) {\n        if (propName in input) {\n            refined[propName] = refiners[propName](input[propName]);\n        }\n    }\n    for (var propName in input) {\n        if (!(propName in refiners)) {\n            extra[propName] = input[propName];\n        }\n    }\n    return { refined: refined, extra: extra };\n}\nfunction identity(raw) {\n    return raw;\n}\n\nfunction parseEvents(rawEvents, eventSource, context, allowOpenRange) {\n    var eventStore = createEmptyEventStore();\n    var eventRefiners = buildEventRefiners(context);\n    for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n        var rawEvent = rawEvents_1[_i];\n        var tuple = parseEvent(rawEvent, eventSource, context, allowOpenRange, eventRefiners);\n        if (tuple) {\n            eventTupleToStore(tuple, eventStore);\n        }\n    }\n    return eventStore;\n}\nfunction eventTupleToStore(tuple, eventStore) {\n    if (eventStore === void 0) { eventStore = createEmptyEventStore(); }\n    eventStore.defs[tuple.def.defId] = tuple.def;\n    if (tuple.instance) {\n        eventStore.instances[tuple.instance.instanceId] = tuple.instance;\n    }\n    return eventStore;\n}\n// retrieves events that have the same groupId as the instance specified by `instanceId`\n// or they are the same as the instance.\n// why might instanceId not be in the store? an event from another calendar?\nfunction getRelevantEvents(eventStore, instanceId) {\n    var instance = eventStore.instances[instanceId];\n    if (instance) {\n        var def_1 = eventStore.defs[instance.defId];\n        // get events/instances with same group\n        var newStore = filterEventStoreDefs(eventStore, function (lookDef) { return isEventDefsGrouped(def_1, lookDef); });\n        // add the original\n        // TODO: wish we could use eventTupleToStore or something like it\n        newStore.defs[def_1.defId] = def_1;\n        newStore.instances[instance.instanceId] = instance;\n        return newStore;\n    }\n    return createEmptyEventStore();\n}\nfunction isEventDefsGrouped(def0, def1) {\n    return Boolean(def0.groupId && def0.groupId === def1.groupId);\n}\nfunction createEmptyEventStore() {\n    return { defs: {}, instances: {} };\n}\nfunction mergeEventStores(store0, store1) {\n    return {\n        defs: __assign(__assign({}, store0.defs), store1.defs),\n        instances: __assign(__assign({}, store0.instances), store1.instances),\n    };\n}\nfunction filterEventStoreDefs(eventStore, filterFunc) {\n    var defs = filterHash(eventStore.defs, filterFunc);\n    var instances = filterHash(eventStore.instances, function (instance) { return (defs[instance.defId] // still exists?\n    ); });\n    return { defs: defs, instances: instances };\n}\nfunction excludeSubEventStore(master, sub) {\n    var defs = master.defs, instances = master.instances;\n    var filteredDefs = {};\n    var filteredInstances = {};\n    for (var defId in defs) {\n        if (!sub.defs[defId]) { // not explicitly excluded\n            filteredDefs[defId] = defs[defId];\n        }\n    }\n    for (var instanceId in instances) {\n        if (!sub.instances[instanceId] && // not explicitly excluded\n            filteredDefs[instances[instanceId].defId] // def wasn't filtered away\n        ) {\n            filteredInstances[instanceId] = instances[instanceId];\n        }\n    }\n    return {\n        defs: filteredDefs,\n        instances: filteredInstances,\n    };\n}\n\nfunction normalizeConstraint(input, context) {\n    if (Array.isArray(input)) {\n        return parseEvents(input, null, context, true); // allowOpenRange=true\n    }\n    if (typeof input === 'object' && input) { // non-null object\n        return parseEvents([input], null, context, true); // allowOpenRange=true\n    }\n    if (input != null) {\n        return String(input);\n    }\n    return null;\n}\n\nfunction parseClassNames(raw) {\n    if (Array.isArray(raw)) {\n        return raw;\n    }\n    if (typeof raw === 'string') {\n        return raw.split(/\\s+/);\n    }\n    return [];\n}\n\n// TODO: better called \"EventSettings\" or \"EventConfig\"\n// TODO: move this file into structs\n// TODO: separate constraint/overlap/allow, because selection uses only that, not other props\nvar EVENT_UI_REFINERS = {\n    display: String,\n    editable: Boolean,\n    startEditable: Boolean,\n    durationEditable: Boolean,\n    constraint: identity,\n    overlap: identity,\n    allow: identity,\n    className: parseClassNames,\n    classNames: parseClassNames,\n    color: String,\n    backgroundColor: String,\n    borderColor: String,\n    textColor: String,\n};\nvar EMPTY_EVENT_UI = {\n    display: null,\n    startEditable: null,\n    durationEditable: null,\n    constraints: [],\n    overlap: null,\n    allows: [],\n    backgroundColor: '',\n    borderColor: '',\n    textColor: '',\n    classNames: [],\n};\nfunction createEventUi(refined, context) {\n    var constraint = normalizeConstraint(refined.constraint, context);\n    return {\n        display: refined.display || null,\n        startEditable: refined.startEditable != null ? refined.startEditable : refined.editable,\n        durationEditable: refined.durationEditable != null ? refined.durationEditable : refined.editable,\n        constraints: constraint != null ? [constraint] : [],\n        overlap: refined.overlap != null ? refined.overlap : null,\n        allows: refined.allow != null ? [refined.allow] : [],\n        backgroundColor: refined.backgroundColor || refined.color || '',\n        borderColor: refined.borderColor || refined.color || '',\n        textColor: refined.textColor || '',\n        classNames: (refined.className || []).concat(refined.classNames || []), // join singular and plural\n    };\n}\n// TODO: prevent against problems with <2 args!\nfunction combineEventUis(uis) {\n    return uis.reduce(combineTwoEventUis, EMPTY_EVENT_UI);\n}\nfunction combineTwoEventUis(item0, item1) {\n    return {\n        display: item1.display != null ? item1.display : item0.display,\n        startEditable: item1.startEditable != null ? item1.startEditable : item0.startEditable,\n        durationEditable: item1.durationEditable != null ? item1.durationEditable : item0.durationEditable,\n        constraints: item0.constraints.concat(item1.constraints),\n        overlap: typeof item1.overlap === 'boolean' ? item1.overlap : item0.overlap,\n        allows: item0.allows.concat(item1.allows),\n        backgroundColor: item1.backgroundColor || item0.backgroundColor,\n        borderColor: item1.borderColor || item0.borderColor,\n        textColor: item1.textColor || item0.textColor,\n        classNames: item0.classNames.concat(item1.classNames),\n    };\n}\n\nvar EVENT_NON_DATE_REFINERS = {\n    id: String,\n    groupId: String,\n    title: String,\n    url: String,\n};\nvar EVENT_DATE_REFINERS = {\n    start: identity,\n    end: identity,\n    date: identity,\n    allDay: Boolean,\n};\nvar EVENT_REFINERS = __assign(__assign(__assign({}, EVENT_NON_DATE_REFINERS), EVENT_DATE_REFINERS), { extendedProps: identity });\nfunction parseEvent(raw, eventSource, context, allowOpenRange, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    var _a = refineEventDef(raw, context, refiners), refined = _a.refined, extra = _a.extra;\n    var defaultAllDay = computeIsDefaultAllDay(eventSource, context);\n    var recurringRes = parseRecurring(refined, defaultAllDay, context.dateEnv, context.pluginHooks.recurringTypes);\n    if (recurringRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', recurringRes.allDay, Boolean(recurringRes.duration), context);\n        def.recurringDef = {\n            typeId: recurringRes.typeId,\n            typeData: recurringRes.typeData,\n            duration: recurringRes.duration,\n        };\n        return { def: def, instance: null };\n    }\n    var singleRes = parseSingle(refined, defaultAllDay, context, allowOpenRange);\n    if (singleRes) {\n        var def = parseEventDef(refined, extra, eventSource ? eventSource.sourceId : '', singleRes.allDay, singleRes.hasEnd, context);\n        var instance = createEventInstance(def.defId, singleRes.range, singleRes.forcedStartTzo, singleRes.forcedEndTzo);\n        return { def: def, instance: instance };\n    }\n    return null;\n}\nfunction refineEventDef(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventRefiners(context); }\n    return refineProps(raw, refiners);\n}\nfunction buildEventRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_REFINERS), context.pluginHooks.eventRefiners);\n}\n/*\nWill NOT populate extendedProps with the leftover properties.\nWill NOT populate date-related props.\n*/\nfunction parseEventDef(refined, extra, sourceId, allDay, hasEnd, context) {\n    var def = {\n        title: refined.title || '',\n        groupId: refined.groupId || '',\n        publicId: refined.id || '',\n        url: refined.url || '',\n        recurringDef: null,\n        defId: guid(),\n        sourceId: sourceId,\n        allDay: allDay,\n        hasEnd: hasEnd,\n        ui: createEventUi(refined, context),\n        extendedProps: __assign(__assign({}, (refined.extendedProps || {})), extra),\n    };\n    for (var _i = 0, _a = context.pluginHooks.eventDefMemberAdders; _i < _a.length; _i++) {\n        var memberAdder = _a[_i];\n        __assign(def, memberAdder(refined));\n    }\n    // help out EventApi from having user modify props\n    Object.freeze(def.ui.classNames);\n    Object.freeze(def.extendedProps);\n    return def;\n}\nfunction parseSingle(refined, defaultAllDay, context, allowOpenRange) {\n    var allDay = refined.allDay;\n    var startMeta;\n    var startMarker = null;\n    var hasEnd = false;\n    var endMeta;\n    var endMarker = null;\n    var startInput = refined.start != null ? refined.start : refined.date;\n    startMeta = context.dateEnv.createMarkerMeta(startInput);\n    if (startMeta) {\n        startMarker = startMeta.marker;\n    }\n    else if (!allowOpenRange) {\n        return null;\n    }\n    if (refined.end != null) {\n        endMeta = context.dateEnv.createMarkerMeta(refined.end);\n    }\n    if (allDay == null) {\n        if (defaultAllDay != null) {\n            allDay = defaultAllDay;\n        }\n        else {\n            // fall back to the date props LAST\n            allDay = (!startMeta || startMeta.isTimeUnspecified) &&\n                (!endMeta || endMeta.isTimeUnspecified);\n        }\n    }\n    if (allDay && startMarker) {\n        startMarker = startOfDay(startMarker);\n    }\n    if (endMeta) {\n        endMarker = endMeta.marker;\n        if (allDay) {\n            endMarker = startOfDay(endMarker);\n        }\n        if (startMarker && endMarker <= startMarker) {\n            endMarker = null;\n        }\n    }\n    if (endMarker) {\n        hasEnd = true;\n    }\n    else if (!allowOpenRange) {\n        hasEnd = context.options.forceEventDuration || false;\n        endMarker = context.dateEnv.add(startMarker, allDay ?\n            context.options.defaultAllDayEventDuration :\n            context.options.defaultTimedEventDuration);\n    }\n    return {\n        allDay: allDay,\n        hasEnd: hasEnd,\n        range: { start: startMarker, end: endMarker },\n        forcedStartTzo: startMeta ? startMeta.forcedTzo : null,\n        forcedEndTzo: endMeta ? endMeta.forcedTzo : null,\n    };\n}\nfunction computeIsDefaultAllDay(eventSource, context) {\n    var res = null;\n    if (eventSource) {\n        res = eventSource.defaultAllDay;\n    }\n    if (res == null) {\n        res = context.options.defaultAllDay;\n    }\n    return res;\n}\n\n/* Date stuff that doesn't belong in datelib core\n----------------------------------------------------------------------------------------------------------------------*/\n// given a timed range, computes an all-day range that has the same exact duration,\n// but whose start time is aligned with the start of the day.\nfunction computeAlignedDayRange(timedRange) {\n    var dayCnt = Math.floor(diffDays(timedRange.start, timedRange.end)) || 1;\n    var start = startOfDay(timedRange.start);\n    var end = addDays(start, dayCnt);\n    return { start: start, end: end };\n}\n// given a timed range, computes an all-day range based on how for the end date bleeds into the next day\n// TODO: give nextDayThreshold a default arg\nfunction computeVisibleDayRange(timedRange, nextDayThreshold) {\n    if (nextDayThreshold === void 0) { nextDayThreshold = createDuration(0); }\n    var startDay = null;\n    var endDay = null;\n    if (timedRange.end) {\n        endDay = startOfDay(timedRange.end);\n        var endTimeMS = timedRange.end.valueOf() - endDay.valueOf(); // # of milliseconds into `endDay`\n        // If the end time is actually inclusively part of the next day and is equal to or\n        // beyond the next day threshold, adjust the end to be the exclusive end of `endDay`.\n        // Otherwise, leaving it as inclusive will cause it to exclude `endDay`.\n        if (endTimeMS && endTimeMS >= asRoughMs(nextDayThreshold)) {\n            endDay = addDays(endDay, 1);\n        }\n    }\n    if (timedRange.start) {\n        startDay = startOfDay(timedRange.start); // the beginning of the day the range starts\n        // If end is within `startDay` but not past nextDayThreshold, assign the default duration of one day.\n        if (endDay && endDay <= startDay) {\n            endDay = addDays(startDay, 1);\n        }\n    }\n    return { start: startDay, end: endDay };\n}\n// spans from one day into another?\nfunction isMultiDayRange(range) {\n    var visibleRange = computeVisibleDayRange(range);\n    return diffDays(visibleRange.start, visibleRange.end) > 1;\n}\nfunction diffDates(date0, date1, dateEnv, largeUnit) {\n    if (largeUnit === 'year') {\n        return createDuration(dateEnv.diffWholeYears(date0, date1), 'year');\n    }\n    if (largeUnit === 'month') {\n        return createDuration(dateEnv.diffWholeMonths(date0, date1), 'month');\n    }\n    return diffDayAndTime(date0, date1); // returns a duration\n}\n\nfunction parseRange(input, dateEnv) {\n    var start = null;\n    var end = null;\n    if (input.start) {\n        start = dateEnv.createMarker(input.start);\n    }\n    if (input.end) {\n        end = dateEnv.createMarker(input.end);\n    }\n    if (!start && !end) {\n        return null;\n    }\n    if (start && end && end < start) {\n        return null;\n    }\n    return { start: start, end: end };\n}\n// SIDE-EFFECT: will mutate ranges.\n// Will return a new array result.\nfunction invertRanges(ranges, constraintRange) {\n    var invertedRanges = [];\n    var start = constraintRange.start; // the end of the previous range. the start of the new range\n    var i;\n    var dateRange;\n    // ranges need to be in order. required for our date-walking algorithm\n    ranges.sort(compareRanges);\n    for (i = 0; i < ranges.length; i += 1) {\n        dateRange = ranges[i];\n        // add the span of time before the event (if there is any)\n        if (dateRange.start > start) { // compare millisecond time (skip any ambig logic)\n            invertedRanges.push({ start: start, end: dateRange.start });\n        }\n        if (dateRange.end > start) {\n            start = dateRange.end;\n        }\n    }\n    // add the span of time after the last event (if there is any)\n    if (start < constraintRange.end) { // compare millisecond time (skip any ambig logic)\n        invertedRanges.push({ start: start, end: constraintRange.end });\n    }\n    return invertedRanges;\n}\nfunction compareRanges(range0, range1) {\n    return range0.start.valueOf() - range1.start.valueOf(); // earlier ranges go first\n}\nfunction intersectRanges(range0, range1) {\n    var start = range0.start, end = range0.end;\n    var newRange = null;\n    if (range1.start !== null) {\n        if (start === null) {\n            start = range1.start;\n        }\n        else {\n            start = new Date(Math.max(start.valueOf(), range1.start.valueOf()));\n        }\n    }\n    if (range1.end != null) {\n        if (end === null) {\n            end = range1.end;\n        }\n        else {\n            end = new Date(Math.min(end.valueOf(), range1.end.valueOf()));\n        }\n    }\n    if (start === null || end === null || start < end) {\n        newRange = { start: start, end: end };\n    }\n    return newRange;\n}\nfunction rangesEqual(range0, range1) {\n    return (range0.start === null ? null : range0.start.valueOf()) === (range1.start === null ? null : range1.start.valueOf()) &&\n        (range0.end === null ? null : range0.end.valueOf()) === (range1.end === null ? null : range1.end.valueOf());\n}\nfunction rangesIntersect(range0, range1) {\n    return (range0.end === null || range1.start === null || range0.end > range1.start) &&\n        (range0.start === null || range1.end === null || range0.start < range1.end);\n}\nfunction rangeContainsRange(outerRange, innerRange) {\n    return (outerRange.start === null || (innerRange.start !== null && innerRange.start >= outerRange.start)) &&\n        (outerRange.end === null || (innerRange.end !== null && innerRange.end <= outerRange.end));\n}\nfunction rangeContainsMarker(range, date) {\n    return (range.start === null || date >= range.start) &&\n        (range.end === null || date < range.end);\n}\n// If the given date is not within the given range, move it inside.\n// (If it's past the end, make it one millisecond before the end).\nfunction constrainMarkerToRange(date, range) {\n    if (range.start != null && date < range.start) {\n        return range.start;\n    }\n    if (range.end != null && date >= range.end) {\n        return new Date(range.end.valueOf() - 1);\n    }\n    return date;\n}\n\n/*\nSpecifying nextDayThreshold signals that all-day ranges should be sliced.\n*/\nfunction sliceEventStore(eventStore, eventUiBases, framingRange, nextDayThreshold) {\n    var inverseBgByGroupId = {};\n    var inverseBgByDefId = {};\n    var defByGroupId = {};\n    var bgRanges = [];\n    var fgRanges = [];\n    var eventUis = compileEventUis(eventStore.defs, eventUiBases);\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        var ui = eventUis[def.defId];\n        if (ui.display === 'inverse-background') {\n            if (def.groupId) {\n                inverseBgByGroupId[def.groupId] = [];\n                if (!defByGroupId[def.groupId]) {\n                    defByGroupId[def.groupId] = def;\n                }\n            }\n            else {\n                inverseBgByDefId[defId] = [];\n            }\n        }\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = eventStore.defs[instance.defId];\n        var ui = eventUis[def.defId];\n        var origRange = instance.range;\n        var normalRange = (!def.allDay && nextDayThreshold) ?\n            computeVisibleDayRange(origRange, nextDayThreshold) :\n            origRange;\n        var slicedRange = intersectRanges(normalRange, framingRange);\n        if (slicedRange) {\n            if (ui.display === 'inverse-background') {\n                if (def.groupId) {\n                    inverseBgByGroupId[def.groupId].push(slicedRange);\n                }\n                else {\n                    inverseBgByDefId[instance.defId].push(slicedRange);\n                }\n            }\n            else if (ui.display !== 'none') {\n                (ui.display === 'background' ? bgRanges : fgRanges).push({\n                    def: def,\n                    ui: ui,\n                    instance: instance,\n                    range: slicedRange,\n                    isStart: normalRange.start && normalRange.start.valueOf() === slicedRange.start.valueOf(),\n                    isEnd: normalRange.end && normalRange.end.valueOf() === slicedRange.end.valueOf(),\n                });\n            }\n        }\n    }\n    for (var groupId in inverseBgByGroupId) { // BY GROUP\n        var ranges = inverseBgByGroupId[groupId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _i = 0, invertedRanges_1 = invertedRanges; _i < invertedRanges_1.length; _i++) {\n            var invertedRange = invertedRanges_1[_i];\n            var def = defByGroupId[groupId];\n            var ui = eventUis[def.defId];\n            bgRanges.push({\n                def: def,\n                ui: ui,\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    for (var defId in inverseBgByDefId) {\n        var ranges = inverseBgByDefId[defId];\n        var invertedRanges = invertRanges(ranges, framingRange);\n        for (var _a = 0, invertedRanges_2 = invertedRanges; _a < invertedRanges_2.length; _a++) {\n            var invertedRange = invertedRanges_2[_a];\n            bgRanges.push({\n                def: eventStore.defs[defId],\n                ui: eventUis[defId],\n                instance: null,\n                range: invertedRange,\n                isStart: false,\n                isEnd: false,\n            });\n        }\n    }\n    return { bg: bgRanges, fg: fgRanges };\n}\nfunction hasBgRendering(def) {\n    return def.ui.display === 'background' || def.ui.display === 'inverse-background';\n}\nfunction setElSeg(el, seg) {\n    el.fcSeg = seg;\n}\nfunction getElSeg(el) {\n    return el.fcSeg ||\n        el.parentNode.fcSeg || // for the harness\n        null;\n}\n// event ui computation\nfunction compileEventUis(eventDefs, eventUiBases) {\n    return mapHash(eventDefs, function (eventDef) { return compileEventUi(eventDef, eventUiBases); });\n}\nfunction compileEventUi(eventDef, eventUiBases) {\n    var uis = [];\n    if (eventUiBases['']) {\n        uis.push(eventUiBases['']);\n    }\n    if (eventUiBases[eventDef.defId]) {\n        uis.push(eventUiBases[eventDef.defId]);\n    }\n    uis.push(eventDef.ui);\n    return combineEventUis(uis);\n}\nfunction sortEventSegs(segs, eventOrderSpecs) {\n    var objs = segs.map(buildSegCompareObj);\n    objs.sort(function (obj0, obj1) { return compareByFieldSpecs(obj0, obj1, eventOrderSpecs); });\n    return objs.map(function (c) { return c._seg; });\n}\n// returns a object with all primitive props that can be compared\nfunction buildSegCompareObj(seg) {\n    var eventRange = seg.eventRange;\n    var eventDef = eventRange.def;\n    var range = eventRange.instance ? eventRange.instance.range : eventRange.range;\n    var start = range.start ? range.start.valueOf() : 0; // TODO: better support for open-range events\n    var end = range.end ? range.end.valueOf() : 0; // \"\n    return __assign(__assign(__assign({}, eventDef.extendedProps), eventDef), { id: eventDef.publicId, start: start,\n        end: end, duration: end - start, allDay: Number(eventDef.allDay), _seg: seg });\n}\nfunction computeSegDraggable(seg, context) {\n    var pluginHooks = context.pluginHooks;\n    var transformers = pluginHooks.isDraggableTransformers;\n    var _a = seg.eventRange, def = _a.def, ui = _a.ui;\n    var val = ui.startEditable;\n    for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n        var transformer = transformers_1[_i];\n        val = transformer(val, def, ui, context);\n    }\n    return val;\n}\nfunction computeSegStartResizable(seg, context) {\n    return seg.isStart && seg.eventRange.ui.durationEditable && context.options.eventResizableFromStart;\n}\nfunction computeSegEndResizable(seg, context) {\n    return seg.isEnd && seg.eventRange.ui.durationEditable;\n}\nfunction buildSegTimeText(seg, timeFormat, context, defaultDisplayEventTime, // defaults to true\ndefaultDisplayEventEnd, // defaults to true\nstartOverride, endOverride) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var displayEventTime = options.displayEventTime, displayEventEnd = options.displayEventEnd;\n    var eventDef = seg.eventRange.def;\n    var eventInstance = seg.eventRange.instance;\n    if (displayEventTime == null) {\n        displayEventTime = defaultDisplayEventTime !== false;\n    }\n    if (displayEventEnd == null) {\n        displayEventEnd = defaultDisplayEventEnd !== false;\n    }\n    var wholeEventStart = eventInstance.range.start;\n    var wholeEventEnd = eventInstance.range.end;\n    var segStart = startOverride || seg.start || seg.eventRange.range.start;\n    var segEnd = endOverride || seg.end || seg.eventRange.range.end;\n    var isStartDay = startOfDay(wholeEventStart).valueOf() === startOfDay(segStart).valueOf();\n    var isEndDay = startOfDay(addMs(wholeEventEnd, -1)).valueOf() === startOfDay(addMs(segEnd, -1)).valueOf();\n    if (displayEventTime && !eventDef.allDay && (isStartDay || isEndDay)) {\n        segStart = isStartDay ? wholeEventStart : segStart;\n        segEnd = isEndDay ? wholeEventEnd : segEnd;\n        if (displayEventEnd && eventDef.hasEnd) {\n            return dateEnv.formatRange(segStart, segEnd, timeFormat, {\n                forcedStartTzo: startOverride ? null : eventInstance.forcedStartTzo,\n                forcedEndTzo: endOverride ? null : eventInstance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(segStart, timeFormat, {\n            forcedTzo: startOverride ? null : eventInstance.forcedStartTzo, // nooooo, same\n        });\n    }\n    return '';\n}\nfunction getSegMeta(seg, todayRange, nowDate) {\n    var segRange = seg.eventRange.range;\n    return {\n        isPast: segRange.end < (nowDate || todayRange.start),\n        isFuture: segRange.start >= (nowDate || todayRange.end),\n        isToday: todayRange && rangeContainsMarker(todayRange, segRange.start),\n    };\n}\nfunction getEventClassNames(props) {\n    var classNames = ['fc-event'];\n    if (props.isMirror) {\n        classNames.push('fc-event-mirror');\n    }\n    if (props.isDraggable) {\n        classNames.push('fc-event-draggable');\n    }\n    if (props.isStartResizable || props.isEndResizable) {\n        classNames.push('fc-event-resizable');\n    }\n    if (props.isDragging) {\n        classNames.push('fc-event-dragging');\n    }\n    if (props.isResizing) {\n        classNames.push('fc-event-resizing');\n    }\n    if (props.isSelected) {\n        classNames.push('fc-event-selected');\n    }\n    if (props.isStart) {\n        classNames.push('fc-event-start');\n    }\n    if (props.isEnd) {\n        classNames.push('fc-event-end');\n    }\n    if (props.isPast) {\n        classNames.push('fc-event-past');\n    }\n    if (props.isToday) {\n        classNames.push('fc-event-today');\n    }\n    if (props.isFuture) {\n        classNames.push('fc-event-future');\n    }\n    return classNames;\n}\nfunction buildEventRangeKey(eventRange) {\n    return eventRange.instance\n        ? eventRange.instance.instanceId\n        : eventRange.def.defId + \":\" + eventRange.range.start.toISOString();\n    // inverse-background events don't have specific instances. TODO: better solution\n}\n\nvar STANDARD_PROPS = {\n    start: identity,\n    end: identity,\n    allDay: Boolean,\n};\nfunction parseDateSpan(raw, dateEnv, defaultDuration) {\n    var span = parseOpenDateSpan(raw, dateEnv);\n    var range = span.range;\n    if (!range.start) {\n        return null;\n    }\n    if (!range.end) {\n        if (defaultDuration == null) {\n            return null;\n        }\n        range.end = dateEnv.add(range.start, defaultDuration);\n    }\n    return span;\n}\n/*\nTODO: somehow combine with parseRange?\nWill return null if the start/end props were present but parsed invalidly.\n*/\nfunction parseOpenDateSpan(raw, dateEnv) {\n    var _a = refineProps(raw, STANDARD_PROPS), standardProps = _a.refined, extra = _a.extra;\n    var startMeta = standardProps.start ? dateEnv.createMarkerMeta(standardProps.start) : null;\n    var endMeta = standardProps.end ? dateEnv.createMarkerMeta(standardProps.end) : null;\n    var allDay = standardProps.allDay;\n    if (allDay == null) {\n        allDay = (startMeta && startMeta.isTimeUnspecified) &&\n            (!endMeta || endMeta.isTimeUnspecified);\n    }\n    return __assign({ range: {\n            start: startMeta ? startMeta.marker : null,\n            end: endMeta ? endMeta.marker : null,\n        }, allDay: allDay }, extra);\n}\nfunction isDateSpansEqual(span0, span1) {\n    return rangesEqual(span0.range, span1.range) &&\n        span0.allDay === span1.allDay &&\n        isSpanPropsEqual(span0, span1);\n}\n// the NON-DATE-RELATED props\nfunction isSpanPropsEqual(span0, span1) {\n    for (var propName in span1) {\n        if (propName !== 'range' && propName !== 'allDay') {\n            if (span0[propName] !== span1[propName]) {\n                return false;\n            }\n        }\n    }\n    // are there any props that span0 has that span1 DOESN'T have?\n    // both have range/allDay, so no need to special-case.\n    for (var propName in span0) {\n        if (!(propName in span1)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction buildDateSpanApi(span, dateEnv) {\n    return __assign(__assign({}, buildRangeApi(span.range, dateEnv, span.allDay)), { allDay: span.allDay });\n}\nfunction buildRangeApiWithTimeZone(range, dateEnv, omitTime) {\n    return __assign(__assign({}, buildRangeApi(range, dateEnv, omitTime)), { timeZone: dateEnv.timeZone });\n}\nfunction buildRangeApi(range, dateEnv, omitTime) {\n    return {\n        start: dateEnv.toDate(range.start),\n        end: dateEnv.toDate(range.end),\n        startStr: dateEnv.formatIso(range.start, { omitTime: omitTime }),\n        endStr: dateEnv.formatIso(range.end, { omitTime: omitTime }),\n    };\n}\nfunction fabricateEventRange(dateSpan, eventUiBases, context) {\n    var res = refineEventDef({ editable: false }, context);\n    var def = parseEventDef(res.refined, res.extra, '', // sourceId\n    dateSpan.allDay, true, // hasEnd\n    context);\n    return {\n        def: def,\n        ui: compileEventUi(def, eventUiBases),\n        instance: createEventInstance(def.defId, dateSpan.range),\n        range: dateSpan.range,\n        isStart: true,\n        isEnd: true,\n    };\n}\n\nfunction triggerDateSelect(selection, pev, context) {\n    context.emitter.trigger('select', __assign(__assign({}, buildDateSpanApiWithContext(selection, context)), { jsEvent: pev ? pev.origEvent : null, view: context.viewApi || context.calendarApi.view }));\n}\nfunction triggerDateUnselect(pev, context) {\n    context.emitter.trigger('unselect', {\n        jsEvent: pev ? pev.origEvent : null,\n        view: context.viewApi || context.calendarApi.view,\n    });\n}\nfunction buildDateSpanApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.dateSpanTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDateSpanApi(dateSpan, context.dateEnv));\n    return props;\n}\n// Given an event's allDay status and start date, return what its fallback end date should be.\n// TODO: rename to computeDefaultEventEnd\nfunction getDefaultEventEnd(allDay, marker, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var end = marker;\n    if (allDay) {\n        end = startOfDay(end);\n        end = dateEnv.add(end, options.defaultAllDayEventDuration);\n    }\n    else {\n        end = dateEnv.add(end, options.defaultTimedEventDuration);\n    }\n    return end;\n}\n\n// applies the mutation to ALL defs/instances within the event store\nfunction applyMutationToEventStore(eventStore, eventConfigBase, mutation, context) {\n    var eventConfigs = compileEventUis(eventStore.defs, eventConfigBase);\n    var dest = createEmptyEventStore();\n    for (var defId in eventStore.defs) {\n        var def = eventStore.defs[defId];\n        dest.defs[defId] = applyMutationToEventDef(def, eventConfigs[defId], mutation, context);\n    }\n    for (var instanceId in eventStore.instances) {\n        var instance = eventStore.instances[instanceId];\n        var def = dest.defs[instance.defId]; // important to grab the newly modified def\n        dest.instances[instanceId] = applyMutationToEventInstance(instance, def, eventConfigs[instance.defId], mutation, context);\n    }\n    return dest;\n}\nfunction applyMutationToEventDef(eventDef, eventConfig, mutation, context) {\n    var standardProps = mutation.standardProps || {};\n    // if hasEnd has not been specified, guess a good value based on deltas.\n    // if duration will change, there's no way the default duration will persist,\n    // and thus, we need to mark the event as having a real end\n    if (standardProps.hasEnd == null &&\n        eventConfig.durationEditable &&\n        (mutation.startDelta || mutation.endDelta)) {\n        standardProps.hasEnd = true; // TODO: is this mutation okay?\n    }\n    var copy = __assign(__assign(__assign({}, eventDef), standardProps), { ui: __assign(__assign({}, eventDef.ui), standardProps.ui) });\n    if (mutation.extendedProps) {\n        copy.extendedProps = __assign(__assign({}, copy.extendedProps), mutation.extendedProps);\n    }\n    for (var _i = 0, _a = context.pluginHooks.eventDefMutationAppliers; _i < _a.length; _i++) {\n        var applier = _a[_i];\n        applier(copy, mutation, context);\n    }\n    if (!copy.hasEnd && context.options.forceEventDuration) {\n        copy.hasEnd = true;\n    }\n    return copy;\n}\nfunction applyMutationToEventInstance(eventInstance, eventDef, // must first be modified by applyMutationToEventDef\neventConfig, mutation, context) {\n    var dateEnv = context.dateEnv;\n    var forceAllDay = mutation.standardProps && mutation.standardProps.allDay === true;\n    var clearEnd = mutation.standardProps && mutation.standardProps.hasEnd === false;\n    var copy = __assign({}, eventInstance);\n    if (forceAllDay) {\n        copy.range = computeAlignedDayRange(copy.range);\n    }\n    if (mutation.datesDelta && eventConfig.startEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.datesDelta),\n            end: dateEnv.add(copy.range.end, mutation.datesDelta),\n        };\n    }\n    if (mutation.startDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: dateEnv.add(copy.range.start, mutation.startDelta),\n            end: copy.range.end,\n        };\n    }\n    if (mutation.endDelta && eventConfig.durationEditable) {\n        copy.range = {\n            start: copy.range.start,\n            end: dateEnv.add(copy.range.end, mutation.endDelta),\n        };\n    }\n    if (clearEnd) {\n        copy.range = {\n            start: copy.range.start,\n            end: getDefaultEventEnd(eventDef.allDay, copy.range.start, context),\n        };\n    }\n    // in case event was all-day but the supplied deltas were not\n    // better util for this?\n    if (eventDef.allDay) {\n        copy.range = {\n            start: startOfDay(copy.range.start),\n            end: startOfDay(copy.range.end),\n        };\n    }\n    // handle invalid durations\n    if (copy.range.end < copy.range.start) {\n        copy.range.end = getDefaultEventEnd(eventDef.allDay, copy.range.start, context);\n    }\n    return copy;\n}\n\n// no public types yet. when there are, export from:\n// import {} from './api-type-deps'\nvar ViewApi = /** @class */ (function () {\n    function ViewApi(type, getCurrentData, dateEnv) {\n        this.type = type;\n        this.getCurrentData = getCurrentData;\n        this.dateEnv = dateEnv;\n    }\n    Object.defineProperty(ViewApi.prototype, \"calendar\", {\n        get: function () {\n            return this.getCurrentData().calendarApi;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"title\", {\n        get: function () {\n            return this.getCurrentData().viewTitle;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"activeEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentStart\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ViewApi.prototype, \"currentEnd\", {\n        get: function () {\n            return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ViewApi.prototype.getOption = function (name) {\n        return this.getCurrentData().options[name]; // are the view-specific options\n    };\n    return ViewApi;\n}());\n\nvar EVENT_SOURCE_REFINERS = {\n    id: String,\n    defaultAllDay: Boolean,\n    url: String,\n    format: String,\n    events: identity,\n    eventDataTransform: identity,\n    // for any network-related sources\n    success: identity,\n    failure: identity,\n};\nfunction parseEventSource(raw, context, refiners) {\n    if (refiners === void 0) { refiners = buildEventSourceRefiners(context); }\n    var rawObj;\n    if (typeof raw === 'string') {\n        rawObj = { url: raw };\n    }\n    else if (typeof raw === 'function' || Array.isArray(raw)) {\n        rawObj = { events: raw };\n    }\n    else if (typeof raw === 'object' && raw) { // not null\n        rawObj = raw;\n    }\n    if (rawObj) {\n        var _a = refineProps(rawObj, refiners), refined = _a.refined, extra = _a.extra;\n        var metaRes = buildEventSourceMeta(refined, context);\n        if (metaRes) {\n            return {\n                _raw: raw,\n                isFetching: false,\n                latestFetchId: '',\n                fetchRange: null,\n                defaultAllDay: refined.defaultAllDay,\n                eventDataTransform: refined.eventDataTransform,\n                success: refined.success,\n                failure: refined.failure,\n                publicId: refined.id || '',\n                sourceId: guid(),\n                sourceDefId: metaRes.sourceDefId,\n                meta: metaRes.meta,\n                ui: createEventUi(refined, context),\n                extendedProps: extra,\n            };\n        }\n    }\n    return null;\n}\nfunction buildEventSourceRefiners(context) {\n    return __assign(__assign(__assign({}, EVENT_UI_REFINERS), EVENT_SOURCE_REFINERS), context.pluginHooks.eventSourceRefiners);\n}\nfunction buildEventSourceMeta(raw, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    for (var i = defs.length - 1; i >= 0; i -= 1) { // later-added plugins take precedence\n        var def = defs[i];\n        var meta = def.parseMeta(raw);\n        if (meta) {\n            return { sourceDefId: i, meta: meta };\n        }\n    }\n    return null;\n}\n\nfunction reduceCurrentDate(currentDate, action) {\n    switch (action.type) {\n        case 'CHANGE_DATE':\n            return action.dateMarker;\n        default:\n            return currentDate;\n    }\n}\nfunction getInitialDate(options, dateEnv) {\n    var initialDateInput = options.initialDate;\n    // compute the initial ambig-timezone date\n    if (initialDateInput != null) {\n        return dateEnv.createMarker(initialDateInput);\n    }\n    return getNow(options.now, dateEnv); // getNow already returns unzoned\n}\nfunction getNow(nowInput, dateEnv) {\n    if (typeof nowInput === 'function') {\n        nowInput = nowInput();\n    }\n    if (nowInput == null) {\n        return dateEnv.createNowMarker();\n    }\n    return dateEnv.createMarker(nowInput);\n}\n\nvar CalendarApi = /** @class */ (function () {\n    function CalendarApi() {\n    }\n    CalendarApi.prototype.getCurrentData = function () {\n        return this.currentDataManager.getCurrentData();\n    };\n    CalendarApi.prototype.dispatch = function (action) {\n        return this.currentDataManager.dispatch(action);\n    };\n    Object.defineProperty(CalendarApi.prototype, \"view\", {\n        get: function () { return this.getCurrentData().viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    CalendarApi.prototype.batchRendering = function (callback) {\n        callback();\n    };\n    CalendarApi.prototype.updateSize = function () {\n        this.trigger('_resize', true);\n    };\n    // Options\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.setOption = function (name, val) {\n        this.dispatch({\n            type: 'SET_OPTION',\n            optionName: name,\n            rawOptionValue: val,\n        });\n    };\n    CalendarApi.prototype.getOption = function (name) {\n        return this.currentDataManager.currentCalendarOptionsInput[name];\n    };\n    CalendarApi.prototype.getAvailableLocaleCodes = function () {\n        return Object.keys(this.getCurrentData().availableRawLocales);\n    };\n    // Trigger\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.on = function (handlerName, handler) {\n        var currentDataManager = this.currentDataManager;\n        if (currentDataManager.currentCalendarOptionsRefiners[handlerName]) {\n            currentDataManager.emitter.on(handlerName, handler);\n        }\n        else {\n            console.warn(\"Unknown listener name '\" + handlerName + \"'\");\n        }\n    };\n    CalendarApi.prototype.off = function (handlerName, handler) {\n        this.currentDataManager.emitter.off(handlerName, handler);\n    };\n    // not meant for public use\n    CalendarApi.prototype.trigger = function (handlerName) {\n        var _a;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        (_a = this.currentDataManager.emitter).trigger.apply(_a, __spreadArray([handlerName], args));\n    };\n    // View\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.changeView = function (viewType, dateOrRange) {\n        var _this = this;\n        this.batchRendering(function () {\n            _this.unselect();\n            if (dateOrRange) {\n                if (dateOrRange.start && dateOrRange.end) { // a range\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                    });\n                    _this.dispatch({\n                        type: 'SET_OPTION',\n                        optionName: 'visibleRange',\n                        rawOptionValue: dateOrRange,\n                    });\n                }\n                else {\n                    var dateEnv = _this.getCurrentData().dateEnv;\n                    _this.dispatch({\n                        type: 'CHANGE_VIEW_TYPE',\n                        viewType: viewType,\n                        dateMarker: dateEnv.createMarker(dateOrRange),\n                    });\n                }\n            }\n            else {\n                _this.dispatch({\n                    type: 'CHANGE_VIEW_TYPE',\n                    viewType: viewType,\n                });\n            }\n        });\n    };\n    // Forces navigation to a view for the given date.\n    // `viewType` can be a specific view name or a generic one like \"week\" or \"day\".\n    // needs to change\n    CalendarApi.prototype.zoomTo = function (dateMarker, viewType) {\n        var state = this.getCurrentData();\n        var spec;\n        viewType = viewType || 'day'; // day is default zoom\n        spec = state.viewSpecs[viewType] || this.getUnitViewSpec(viewType);\n        this.unselect();\n        if (spec) {\n            this.dispatch({\n                type: 'CHANGE_VIEW_TYPE',\n                viewType: spec.type,\n                dateMarker: dateMarker,\n            });\n        }\n        else {\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: dateMarker,\n            });\n        }\n    };\n    // Given a duration singular unit, like \"week\" or \"day\", finds a matching view spec.\n    // Preference is given to views that have corresponding buttons.\n    CalendarApi.prototype.getUnitViewSpec = function (unit) {\n        var _a = this.getCurrentData(), viewSpecs = _a.viewSpecs, toolbarConfig = _a.toolbarConfig;\n        var viewTypes = [].concat(toolbarConfig.viewsWithButtons);\n        var i;\n        var spec;\n        for (var viewType in viewSpecs) {\n            viewTypes.push(viewType);\n        }\n        for (i = 0; i < viewTypes.length; i += 1) {\n            spec = viewSpecs[viewTypes[i]];\n            if (spec) {\n                if (spec.singleUnit === unit) {\n                    return spec;\n                }\n            }\n        }\n        return null;\n    };\n    // Current Date\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.prev = function () {\n        this.unselect();\n        this.dispatch({ type: 'PREV' });\n    };\n    CalendarApi.prototype.next = function () {\n        this.unselect();\n        this.dispatch({ type: 'NEXT' });\n    };\n    CalendarApi.prototype.prevYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, -1),\n        });\n    };\n    CalendarApi.prototype.nextYear = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.addYears(state.currentDate, 1),\n        });\n    };\n    CalendarApi.prototype.today = function () {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: getNow(state.calendarOptions.now, state.dateEnv),\n        });\n    };\n    CalendarApi.prototype.gotoDate = function (zonedDateInput) {\n        var state = this.getCurrentData();\n        this.unselect();\n        this.dispatch({\n            type: 'CHANGE_DATE',\n            dateMarker: state.dateEnv.createMarker(zonedDateInput),\n        });\n    };\n    CalendarApi.prototype.incrementDate = function (deltaInput) {\n        var state = this.getCurrentData();\n        var delta = createDuration(deltaInput);\n        if (delta) { // else, warn about invalid input?\n            this.unselect();\n            this.dispatch({\n                type: 'CHANGE_DATE',\n                dateMarker: state.dateEnv.add(state.currentDate, delta),\n            });\n        }\n    };\n    // for external API\n    CalendarApi.prototype.getDate = function () {\n        var state = this.getCurrentData();\n        return state.dateEnv.toDate(state.currentDate);\n    };\n    // Date Formatting Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.formatDate = function (d, formatter) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.format(dateEnv.createMarker(d), createFormatter(formatter));\n    };\n    // `settings` is for formatter AND isEndExclusive\n    CalendarApi.prototype.formatRange = function (d0, d1, settings) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatRange(dateEnv.createMarker(d0), dateEnv.createMarker(d1), createFormatter(settings), settings);\n    };\n    CalendarApi.prototype.formatIso = function (d, omitTime) {\n        var dateEnv = this.getCurrentData().dateEnv;\n        return dateEnv.formatIso(dateEnv.createMarker(d), { omitTime: omitTime });\n    };\n    // Date Selection / Event Selection / DayClick\n    // -----------------------------------------------------------------------------------------------------------------\n    // this public method receives start/end dates in any format, with any timezone\n    // NOTE: args were changed from v3\n    CalendarApi.prototype.select = function (dateOrObj, endDate) {\n        var selectionInput;\n        if (endDate == null) {\n            if (dateOrObj.start != null) {\n                selectionInput = dateOrObj;\n            }\n            else {\n                selectionInput = {\n                    start: dateOrObj,\n                    end: null,\n                };\n            }\n        }\n        else {\n            selectionInput = {\n                start: dateOrObj,\n                end: endDate,\n            };\n        }\n        var state = this.getCurrentData();\n        var selection = parseDateSpan(selectionInput, state.dateEnv, createDuration({ days: 1 }));\n        if (selection) { // throw parse error otherwise?\n            this.dispatch({ type: 'SELECT_DATES', selection: selection });\n            triggerDateSelect(selection, null, state);\n        }\n    };\n    // public method\n    CalendarApi.prototype.unselect = function (pev) {\n        var state = this.getCurrentData();\n        if (state.dateSelection) {\n            this.dispatch({ type: 'UNSELECT_DATES' });\n            triggerDateUnselect(pev, state);\n        }\n    };\n    // Public Events API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.addEvent = function (eventInput, sourceInput) {\n        if (eventInput instanceof EventApi) {\n            var def = eventInput._def;\n            var instance = eventInput._instance;\n            var currentData = this.getCurrentData();\n            // not already present? don't want to add an old snapshot\n            if (!currentData.eventStore.defs[def.defId]) {\n                this.dispatch({\n                    type: 'ADD_EVENTS',\n                    eventStore: eventTupleToStore({ def: def, instance: instance }), // TODO: better util for two args?\n                });\n                this.triggerEventAdd(eventInput);\n            }\n            return eventInput;\n        }\n        var state = this.getCurrentData();\n        var eventSource;\n        if (sourceInput instanceof EventSourceApi) {\n            eventSource = sourceInput.internalEventSource;\n        }\n        else if (typeof sourceInput === 'boolean') {\n            if (sourceInput) { // true. part of the first event source\n                eventSource = hashValuesToArray(state.eventSources)[0];\n            }\n        }\n        else if (sourceInput != null) { // an ID. accepts a number too\n            var sourceApi = this.getEventSourceById(sourceInput); // TODO: use an internal function\n            if (!sourceApi) {\n                console.warn(\"Could not find an event source with ID \\\"\" + sourceInput + \"\\\"\"); // TODO: test\n                return null;\n            }\n            eventSource = sourceApi.internalEventSource;\n        }\n        var tuple = parseEvent(eventInput, eventSource, state, false);\n        if (tuple) {\n            var newEventApi = new EventApi(state, tuple.def, tuple.def.recurringDef ? null : tuple.instance);\n            this.dispatch({\n                type: 'ADD_EVENTS',\n                eventStore: eventTupleToStore(tuple),\n            });\n            this.triggerEventAdd(newEventApi);\n            return newEventApi;\n        }\n        return null;\n    };\n    CalendarApi.prototype.triggerEventAdd = function (eventApi) {\n        var _this = this;\n        var emitter = this.getCurrentData().emitter;\n        emitter.trigger('eventAdd', {\n            event: eventApi,\n            relatedEvents: [],\n            revert: function () {\n                _this.dispatch({\n                    type: 'REMOVE_EVENTS',\n                    eventStore: eventApiToStore(eventApi),\n                });\n            },\n        });\n    };\n    // TODO: optimize\n    CalendarApi.prototype.getEventById = function (id) {\n        var state = this.getCurrentData();\n        var _a = state.eventStore, defs = _a.defs, instances = _a.instances;\n        id = String(id);\n        for (var defId in defs) {\n            var def = defs[defId];\n            if (def.publicId === id) {\n                if (def.recurringDef) {\n                    return new EventApi(state, def, null);\n                }\n                for (var instanceId in instances) {\n                    var instance = instances[instanceId];\n                    if (instance.defId === def.defId) {\n                        return new EventApi(state, def, instance);\n                    }\n                }\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.getEvents = function () {\n        var currentData = this.getCurrentData();\n        return buildEventApis(currentData.eventStore, currentData);\n    };\n    CalendarApi.prototype.removeAllEvents = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENTS' });\n    };\n    // Public Event Sources API\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.getEventSources = function () {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        var sourceApis = [];\n        for (var internalId in sourceHash) {\n            sourceApis.push(new EventSourceApi(state, sourceHash[internalId]));\n        }\n        return sourceApis;\n    };\n    CalendarApi.prototype.getEventSourceById = function (id) {\n        var state = this.getCurrentData();\n        var sourceHash = state.eventSources;\n        id = String(id);\n        for (var sourceId in sourceHash) {\n            if (sourceHash[sourceId].publicId === id) {\n                return new EventSourceApi(state, sourceHash[sourceId]);\n            }\n        }\n        return null;\n    };\n    CalendarApi.prototype.addEventSource = function (sourceInput) {\n        var state = this.getCurrentData();\n        if (sourceInput instanceof EventSourceApi) {\n            // not already present? don't want to add an old snapshot\n            if (!state.eventSources[sourceInput.internalEventSource.sourceId]) {\n                this.dispatch({\n                    type: 'ADD_EVENT_SOURCES',\n                    sources: [sourceInput.internalEventSource],\n                });\n            }\n            return sourceInput;\n        }\n        var eventSource = parseEventSource(sourceInput, state);\n        if (eventSource) { // TODO: error otherwise?\n            this.dispatch({ type: 'ADD_EVENT_SOURCES', sources: [eventSource] });\n            return new EventSourceApi(state, eventSource);\n        }\n        return null;\n    };\n    CalendarApi.prototype.removeAllEventSources = function () {\n        this.dispatch({ type: 'REMOVE_ALL_EVENT_SOURCES' });\n    };\n    CalendarApi.prototype.refetchEvents = function () {\n        this.dispatch({ type: 'FETCH_EVENT_SOURCES', isRefetch: true });\n    };\n    // Scroll\n    // -----------------------------------------------------------------------------------------------------------------\n    CalendarApi.prototype.scrollToTime = function (timeInput) {\n        var time = createDuration(timeInput);\n        if (time) {\n            this.trigger('_scrollRequest', { time: time });\n        }\n    };\n    return CalendarApi;\n}());\n\nvar EventApi = /** @class */ (function () {\n    // instance will be null if expressing a recurring event that has no current instances,\n    // OR if trying to validate an incoming external event that has no dates assigned\n    function EventApi(context, def, instance) {\n        this._context = context;\n        this._def = def;\n        this._instance = instance || null;\n    }\n    /*\n    TODO: make event struct more responsible for this\n    */\n    EventApi.prototype.setProp = function (name, val) {\n        var _a, _b;\n        if (name in EVENT_DATE_REFINERS) {\n            console.warn('Could not set date-related prop \\'name\\'. Use one of the date-related methods instead.');\n            // TODO: make proper aliasing system?\n        }\n        else if (name === 'id') {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: { publicId: val }, // hardcoded internal name\n            });\n        }\n        else if (name in EVENT_NON_DATE_REFINERS) {\n            val = EVENT_NON_DATE_REFINERS[name](val);\n            this.mutate({\n                standardProps: (_a = {}, _a[name] = val, _a),\n            });\n        }\n        else if (name in EVENT_UI_REFINERS) {\n            var ui = EVENT_UI_REFINERS[name](val);\n            if (name === 'color') {\n                ui = { backgroundColor: val, borderColor: val };\n            }\n            else if (name === 'editable') {\n                ui = { startEditable: val, durationEditable: val };\n            }\n            else {\n                ui = (_b = {}, _b[name] = val, _b);\n            }\n            this.mutate({\n                standardProps: { ui: ui },\n            });\n        }\n        else {\n            console.warn(\"Could not set prop '\" + name + \"'. Use setExtendedProp instead.\");\n        }\n    };\n    EventApi.prototype.setExtendedProp = function (name, val) {\n        var _a;\n        this.mutate({\n            extendedProps: (_a = {}, _a[name] = val, _a),\n        });\n    };\n    EventApi.prototype.setStart = function (startInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var start = dateEnv.createMarker(startInput);\n        if (start && this._instance) { // TODO: warning if parsed bad\n            var instanceRange = this._instance.range;\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity); // what if parsed bad!?\n            if (options.maintainDuration) {\n                this.mutate({ datesDelta: startDelta });\n            }\n            else {\n                this.mutate({ startDelta: startDelta });\n            }\n        }\n    };\n    EventApi.prototype.setEnd = function (endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var end;\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) {\n                return; // TODO: warning if parsed bad\n            }\n        }\n        if (this._instance) {\n            if (end) {\n                var endDelta = diffDates(this._instance.range.end, end, dateEnv, options.granularity);\n                this.mutate({ endDelta: endDelta });\n            }\n            else {\n                this.mutate({ standardProps: { hasEnd: false } });\n            }\n        }\n    };\n    EventApi.prototype.setDates = function (startInput, endInput, options) {\n        if (options === void 0) { options = {}; }\n        var dateEnv = this._context.dateEnv;\n        var standardProps = { allDay: options.allDay };\n        var start = dateEnv.createMarker(startInput);\n        var end;\n        if (!start) {\n            return; // TODO: warning if parsed bad\n        }\n        if (endInput != null) {\n            end = dateEnv.createMarker(endInput);\n            if (!end) { // TODO: warning if parsed bad\n                return;\n            }\n        }\n        if (this._instance) {\n            var instanceRange = this._instance.range;\n            // when computing the diff for an event being converted to all-day,\n            // compute diff off of the all-day values the way event-mutation does.\n            if (options.allDay === true) {\n                instanceRange = computeAlignedDayRange(instanceRange);\n            }\n            var startDelta = diffDates(instanceRange.start, start, dateEnv, options.granularity);\n            if (end) {\n                var endDelta = diffDates(instanceRange.end, end, dateEnv, options.granularity);\n                if (durationsEqual(startDelta, endDelta)) {\n                    this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n                }\n                else {\n                    this.mutate({ startDelta: startDelta, endDelta: endDelta, standardProps: standardProps });\n                }\n            }\n            else { // means \"clear the end\"\n                standardProps.hasEnd = false;\n                this.mutate({ datesDelta: startDelta, standardProps: standardProps });\n            }\n        }\n    };\n    EventApi.prototype.moveStart = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ startDelta: delta });\n        }\n    };\n    EventApi.prototype.moveEnd = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ endDelta: delta });\n        }\n    };\n    EventApi.prototype.moveDates = function (deltaInput) {\n        var delta = createDuration(deltaInput);\n        if (delta) { // TODO: warning if parsed bad\n            this.mutate({ datesDelta: delta });\n        }\n    };\n    EventApi.prototype.setAllDay = function (allDay, options) {\n        if (options === void 0) { options = {}; }\n        var standardProps = { allDay: allDay };\n        var maintainDuration = options.maintainDuration;\n        if (maintainDuration == null) {\n            maintainDuration = this._context.options.allDayMaintainDuration;\n        }\n        if (this._def.allDay !== allDay) {\n            standardProps.hasEnd = maintainDuration;\n        }\n        this.mutate({ standardProps: standardProps });\n    };\n    EventApi.prototype.formatRange = function (formatInput) {\n        var dateEnv = this._context.dateEnv;\n        var instance = this._instance;\n        var formatter = createFormatter(formatInput);\n        if (this._def.hasEnd) {\n            return dateEnv.formatRange(instance.range.start, instance.range.end, formatter, {\n                forcedStartTzo: instance.forcedStartTzo,\n                forcedEndTzo: instance.forcedEndTzo,\n            });\n        }\n        return dateEnv.format(instance.range.start, formatter, {\n            forcedTzo: instance.forcedStartTzo,\n        });\n    };\n    EventApi.prototype.mutate = function (mutation) {\n        var instance = this._instance;\n        if (instance) {\n            var def = this._def;\n            var context_1 = this._context;\n            var eventStore_1 = context_1.getCurrentData().eventStore;\n            var relevantEvents = getRelevantEvents(eventStore_1, instance.instanceId);\n            var eventConfigBase = {\n                '': {\n                    display: '',\n                    startEditable: true,\n                    durationEditable: true,\n                    constraints: [],\n                    overlap: null,\n                    allows: [],\n                    backgroundColor: '',\n                    borderColor: '',\n                    textColor: '',\n                    classNames: [],\n                },\n            };\n            relevantEvents = applyMutationToEventStore(relevantEvents, eventConfigBase, mutation, context_1);\n            var oldEvent = new EventApi(context_1, def, instance); // snapshot\n            this._def = relevantEvents.defs[def.defId];\n            this._instance = relevantEvents.instances[instance.instanceId];\n            context_1.dispatch({\n                type: 'MERGE_EVENTS',\n                eventStore: relevantEvents,\n            });\n            context_1.emitter.trigger('eventChange', {\n                oldEvent: oldEvent,\n                event: this,\n                relatedEvents: buildEventApis(relevantEvents, context_1, instance),\n                revert: function () {\n                    context_1.dispatch({\n                        type: 'RESET_EVENTS',\n                        eventStore: eventStore_1,\n                    });\n                },\n            });\n        }\n    };\n    EventApi.prototype.remove = function () {\n        var context = this._context;\n        var asStore = eventApiToStore(this);\n        context.dispatch({\n            type: 'REMOVE_EVENTS',\n            eventStore: asStore,\n        });\n        context.emitter.trigger('eventRemove', {\n            event: this,\n            relatedEvents: [],\n            revert: function () {\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: asStore,\n                });\n            },\n        });\n    };\n    Object.defineProperty(EventApi.prototype, \"source\", {\n        get: function () {\n            var sourceId = this._def.sourceId;\n            if (sourceId) {\n                return new EventSourceApi(this._context, this._context.getCurrentData().eventSources[sourceId]);\n            }\n            return null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"start\", {\n        get: function () {\n            return this._instance ?\n                this._context.dateEnv.toDate(this._instance.range.start) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"end\", {\n        get: function () {\n            return (this._instance && this._def.hasEnd) ?\n                this._context.dateEnv.toDate(this._instance.range.end) :\n                null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance) {\n                return this._context.dateEnv.formatIso(instance.range.start, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedStartTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"endStr\", {\n        get: function () {\n            var instance = this._instance;\n            if (instance && this._def.hasEnd) {\n                return this._context.dateEnv.formatIso(instance.range.end, {\n                    omitTime: this._def.allDay,\n                    forcedTzo: instance.forcedEndTzo,\n                });\n            }\n            return '';\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"id\", {\n        // computable props that all access the def\n        // TODO: find a TypeScript-compatible way to do this at scale\n        get: function () { return this._def.publicId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"groupId\", {\n        get: function () { return this._def.groupId; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allDay\", {\n        get: function () { return this._def.allDay; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"title\", {\n        get: function () { return this._def.title; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"url\", {\n        get: function () { return this._def.url; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"display\", {\n        get: function () { return this._def.ui.display || 'auto'; } // bad. just normalize the type earlier\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"startEditable\", {\n        get: function () { return this._def.ui.startEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"durationEditable\", {\n        get: function () { return this._def.ui.durationEditable; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"constraint\", {\n        get: function () { return this._def.ui.constraints[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"overlap\", {\n        get: function () { return this._def.ui.overlap; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"allow\", {\n        get: function () { return this._def.ui.allows[0] || null; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"backgroundColor\", {\n        get: function () { return this._def.ui.backgroundColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"borderColor\", {\n        get: function () { return this._def.ui.borderColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"textColor\", {\n        get: function () { return this._def.ui.textColor; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"classNames\", {\n        // NOTE: user can't modify these because Object.freeze was called in event-def parsing\n        get: function () { return this._def.ui.classNames; },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(EventApi.prototype, \"extendedProps\", {\n        get: function () { return this._def.extendedProps; },\n        enumerable: false,\n        configurable: true\n    });\n    EventApi.prototype.toPlainObject = function (settings) {\n        if (settings === void 0) { settings = {}; }\n        var def = this._def;\n        var ui = def.ui;\n        var _a = this, startStr = _a.startStr, endStr = _a.endStr;\n        var res = {};\n        if (def.title) {\n            res.title = def.title;\n        }\n        if (startStr) {\n            res.start = startStr;\n        }\n        if (endStr) {\n            res.end = endStr;\n        }\n        if (def.publicId) {\n            res.id = def.publicId;\n        }\n        if (def.groupId) {\n            res.groupId = def.groupId;\n        }\n        if (def.url) {\n            res.url = def.url;\n        }\n        if (ui.display && ui.display !== 'auto') {\n            res.display = ui.display;\n        }\n        // TODO: what about recurring-event properties???\n        // TODO: include startEditable/durationEditable/constraint/overlap/allow\n        if (settings.collapseColor && ui.backgroundColor && ui.backgroundColor === ui.borderColor) {\n            res.color = ui.backgroundColor;\n        }\n        else {\n            if (ui.backgroundColor) {\n                res.backgroundColor = ui.backgroundColor;\n            }\n            if (ui.borderColor) {\n                res.borderColor = ui.borderColor;\n            }\n        }\n        if (ui.textColor) {\n            res.textColor = ui.textColor;\n        }\n        if (ui.classNames.length) {\n            res.classNames = ui.classNames;\n        }\n        if (Object.keys(def.extendedProps).length) {\n            if (settings.collapseExtendedProps) {\n                __assign(res, def.extendedProps);\n            }\n            else {\n                res.extendedProps = def.extendedProps;\n            }\n        }\n        return res;\n    };\n    EventApi.prototype.toJSON = function () {\n        return this.toPlainObject();\n    };\n    return EventApi;\n}());\nfunction eventApiToStore(eventApi) {\n    var _a, _b;\n    var def = eventApi._def;\n    var instance = eventApi._instance;\n    return {\n        defs: (_a = {}, _a[def.defId] = def, _a),\n        instances: instance\n            ? (_b = {}, _b[instance.instanceId] = instance, _b) : {},\n    };\n}\nfunction buildEventApis(eventStore, context, excludeInstance) {\n    var defs = eventStore.defs, instances = eventStore.instances;\n    var eventApis = [];\n    var excludeInstanceId = excludeInstance ? excludeInstance.instanceId : '';\n    for (var id in instances) {\n        var instance = instances[id];\n        var def = defs[instance.defId];\n        if (instance.instanceId !== excludeInstanceId) {\n            eventApis.push(new EventApi(context, def, instance));\n        }\n    }\n    return eventApis;\n}\n\nvar calendarSystemClassMap = {};\nfunction registerCalendarSystem(name, theClass) {\n    calendarSystemClassMap[name] = theClass;\n}\nfunction createCalendarSystem(name) {\n    return new calendarSystemClassMap[name]();\n}\nvar GregorianCalendarSystem = /** @class */ (function () {\n    function GregorianCalendarSystem() {\n    }\n    GregorianCalendarSystem.prototype.getMarkerYear = function (d) {\n        return d.getUTCFullYear();\n    };\n    GregorianCalendarSystem.prototype.getMarkerMonth = function (d) {\n        return d.getUTCMonth();\n    };\n    GregorianCalendarSystem.prototype.getMarkerDay = function (d) {\n        return d.getUTCDate();\n    };\n    GregorianCalendarSystem.prototype.arrayToMarker = function (arr) {\n        return arrayToUtcDate(arr);\n    };\n    GregorianCalendarSystem.prototype.markerToArray = function (marker) {\n        return dateToUtcArray(marker);\n    };\n    return GregorianCalendarSystem;\n}());\nregisterCalendarSystem('gregory', GregorianCalendarSystem);\n\nvar ISO_RE = /^\\s*(\\d{4})(-?(\\d{2})(-?(\\d{2})([T ](\\d{2}):?(\\d{2})(:?(\\d{2})(\\.(\\d+))?)?(Z|(([-+])(\\d{2})(:?(\\d{2}))?))?)?)?)?$/;\nfunction parse(str) {\n    var m = ISO_RE.exec(str);\n    if (m) {\n        var marker = new Date(Date.UTC(Number(m[1]), m[3] ? Number(m[3]) - 1 : 0, Number(m[5] || 1), Number(m[7] || 0), Number(m[8] || 0), Number(m[10] || 0), m[12] ? Number(\"0.\" + m[12]) * 1000 : 0));\n        if (isValidDate(marker)) {\n            var timeZoneOffset = null;\n            if (m[13]) {\n                timeZoneOffset = (m[15] === '-' ? -1 : 1) * (Number(m[16] || 0) * 60 +\n                    Number(m[18] || 0));\n            }\n            return {\n                marker: marker,\n                isTimeUnspecified: !m[6],\n                timeZoneOffset: timeZoneOffset,\n            };\n        }\n    }\n    return null;\n}\n\nvar DateEnv = /** @class */ (function () {\n    function DateEnv(settings) {\n        var timeZone = this.timeZone = settings.timeZone;\n        var isNamedTimeZone = timeZone !== 'local' && timeZone !== 'UTC';\n        if (settings.namedTimeZoneImpl && isNamedTimeZone) {\n            this.namedTimeZoneImpl = new settings.namedTimeZoneImpl(timeZone);\n        }\n        this.canComputeOffset = Boolean(!isNamedTimeZone || this.namedTimeZoneImpl);\n        this.calendarSystem = createCalendarSystem(settings.calendarSystem);\n        this.locale = settings.locale;\n        this.weekDow = settings.locale.week.dow;\n        this.weekDoy = settings.locale.week.doy;\n        if (settings.weekNumberCalculation === 'ISO') {\n            this.weekDow = 1;\n            this.weekDoy = 4;\n        }\n        if (typeof settings.firstDay === 'number') {\n            this.weekDow = settings.firstDay;\n        }\n        if (typeof settings.weekNumberCalculation === 'function') {\n            this.weekNumberFunc = settings.weekNumberCalculation;\n        }\n        this.weekText = settings.weekText != null ? settings.weekText : settings.locale.options.weekText;\n        this.cmdFormatter = settings.cmdFormatter;\n        this.defaultSeparator = settings.defaultSeparator;\n    }\n    // Creating / Parsing\n    DateEnv.prototype.createMarker = function (input) {\n        var meta = this.createMarkerMeta(input);\n        if (meta === null) {\n            return null;\n        }\n        return meta.marker;\n    };\n    DateEnv.prototype.createNowMarker = function () {\n        if (this.canComputeOffset) {\n            return this.timestampToMarker(new Date().valueOf());\n        }\n        // if we can't compute the current date val for a timezone,\n        // better to give the current local date vals than UTC\n        return arrayToUtcDate(dateToLocalArray(new Date()));\n    };\n    DateEnv.prototype.createMarkerMeta = function (input) {\n        if (typeof input === 'string') {\n            return this.parse(input);\n        }\n        var marker = null;\n        if (typeof input === 'number') {\n            marker = this.timestampToMarker(input);\n        }\n        else if (input instanceof Date) {\n            input = input.valueOf();\n            if (!isNaN(input)) {\n                marker = this.timestampToMarker(input);\n            }\n        }\n        else if (Array.isArray(input)) {\n            marker = arrayToUtcDate(input);\n        }\n        if (marker === null || !isValidDate(marker)) {\n            return null;\n        }\n        return { marker: marker, isTimeUnspecified: false, forcedTzo: null };\n    };\n    DateEnv.prototype.parse = function (s) {\n        var parts = parse(s);\n        if (parts === null) {\n            return null;\n        }\n        var marker = parts.marker;\n        var forcedTzo = null;\n        if (parts.timeZoneOffset !== null) {\n            if (this.canComputeOffset) {\n                marker = this.timestampToMarker(marker.valueOf() - parts.timeZoneOffset * 60 * 1000);\n            }\n            else {\n                forcedTzo = parts.timeZoneOffset;\n            }\n        }\n        return { marker: marker, isTimeUnspecified: parts.isTimeUnspecified, forcedTzo: forcedTzo };\n    };\n    // Accessors\n    DateEnv.prototype.getYear = function (marker) {\n        return this.calendarSystem.getMarkerYear(marker);\n    };\n    DateEnv.prototype.getMonth = function (marker) {\n        return this.calendarSystem.getMarkerMonth(marker);\n    };\n    // Adding / Subtracting\n    DateEnv.prototype.add = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += dur.years;\n        a[1] += dur.months;\n        a[2] += dur.days;\n        a[6] += dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.subtract = function (marker, dur) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] -= dur.years;\n        a[1] -= dur.months;\n        a[2] -= dur.days;\n        a[6] -= dur.milliseconds;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addYears = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[0] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    DateEnv.prototype.addMonths = function (marker, n) {\n        var a = this.calendarSystem.markerToArray(marker);\n        a[1] += n;\n        return this.calendarSystem.arrayToMarker(a);\n    };\n    // Diffing Whole Units\n    DateEnv.prototype.diffWholeYears = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1) &&\n            calendarSystem.getMarkerMonth(m0) === calendarSystem.getMarkerMonth(m1)) {\n            return calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0);\n        }\n        return null;\n    };\n    DateEnv.prototype.diffWholeMonths = function (m0, m1) {\n        var calendarSystem = this.calendarSystem;\n        if (timeAsMs(m0) === timeAsMs(m1) &&\n            calendarSystem.getMarkerDay(m0) === calendarSystem.getMarkerDay(m1)) {\n            return (calendarSystem.getMarkerMonth(m1) - calendarSystem.getMarkerMonth(m0)) +\n                (calendarSystem.getMarkerYear(m1) - calendarSystem.getMarkerYear(m0)) * 12;\n        }\n        return null;\n    };\n    // Range / Duration\n    DateEnv.prototype.greatestWholeUnit = function (m0, m1) {\n        var n = this.diffWholeYears(m0, m1);\n        if (n !== null) {\n            return { unit: 'year', value: n };\n        }\n        n = this.diffWholeMonths(m0, m1);\n        if (n !== null) {\n            return { unit: 'month', value: n };\n        }\n        n = diffWholeWeeks(m0, m1);\n        if (n !== null) {\n            return { unit: 'week', value: n };\n        }\n        n = diffWholeDays(m0, m1);\n        if (n !== null) {\n            return { unit: 'day', value: n };\n        }\n        n = diffHours(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'hour', value: n };\n        }\n        n = diffMinutes(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'minute', value: n };\n        }\n        n = diffSeconds(m0, m1);\n        if (isInt(n)) {\n            return { unit: 'second', value: n };\n        }\n        return { unit: 'millisecond', value: m1.valueOf() - m0.valueOf() };\n    };\n    DateEnv.prototype.countDurationsBetween = function (m0, m1, d) {\n        // TODO: can use greatestWholeUnit\n        var diff;\n        if (d.years) {\n            diff = this.diffWholeYears(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughYears(d);\n            }\n        }\n        if (d.months) {\n            diff = this.diffWholeMonths(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughMonths(d);\n            }\n        }\n        if (d.days) {\n            diff = diffWholeDays(m0, m1);\n            if (diff !== null) {\n                return diff / asRoughDays(d);\n            }\n        }\n        return (m1.valueOf() - m0.valueOf()) / asRoughMs(d);\n    };\n    // Start-Of\n    // these DON'T return zoned-dates. only UTC start-of dates\n    DateEnv.prototype.startOf = function (m, unit) {\n        if (unit === 'year') {\n            return this.startOfYear(m);\n        }\n        if (unit === 'month') {\n            return this.startOfMonth(m);\n        }\n        if (unit === 'week') {\n            return this.startOfWeek(m);\n        }\n        if (unit === 'day') {\n            return startOfDay(m);\n        }\n        if (unit === 'hour') {\n            return startOfHour(m);\n        }\n        if (unit === 'minute') {\n            return startOfMinute(m);\n        }\n        if (unit === 'second') {\n            return startOfSecond(m);\n        }\n        return null;\n    };\n    DateEnv.prototype.startOfYear = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n        ]);\n    };\n    DateEnv.prototype.startOfMonth = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n        ]);\n    };\n    DateEnv.prototype.startOfWeek = function (m) {\n        return this.calendarSystem.arrayToMarker([\n            this.calendarSystem.getMarkerYear(m),\n            this.calendarSystem.getMarkerMonth(m),\n            m.getUTCDate() - ((m.getUTCDay() - this.weekDow + 7) % 7),\n        ]);\n    };\n    // Week Number\n    DateEnv.prototype.computeWeekNumber = function (marker) {\n        if (this.weekNumberFunc) {\n            return this.weekNumberFunc(this.toDate(marker));\n        }\n        return weekOfYear(marker, this.weekDow, this.weekDoy);\n    };\n    // TODO: choke on timeZoneName: long\n    DateEnv.prototype.format = function (marker, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        return formatter.format({\n            marker: marker,\n            timeZoneOffset: dateOptions.forcedTzo != null ?\n                dateOptions.forcedTzo :\n                this.offsetForMarker(marker),\n        }, this);\n    };\n    DateEnv.prototype.formatRange = function (start, end, formatter, dateOptions) {\n        if (dateOptions === void 0) { dateOptions = {}; }\n        if (dateOptions.isEndExclusive) {\n            end = addMs(end, -1);\n        }\n        return formatter.formatRange({\n            marker: start,\n            timeZoneOffset: dateOptions.forcedStartTzo != null ?\n                dateOptions.forcedStartTzo :\n                this.offsetForMarker(start),\n        }, {\n            marker: end,\n            timeZoneOffset: dateOptions.forcedEndTzo != null ?\n                dateOptions.forcedEndTzo :\n                this.offsetForMarker(end),\n        }, this, dateOptions.defaultSeparator);\n    };\n    /*\n    DUMB: the omitTime arg is dumb. if we omit the time, we want to omit the timezone offset. and if we do that,\n    might as well use buildIsoString or some other util directly\n    */\n    DateEnv.prototype.formatIso = function (marker, extraOptions) {\n        if (extraOptions === void 0) { extraOptions = {}; }\n        var timeZoneOffset = null;\n        if (!extraOptions.omitTimeZoneOffset) {\n            if (extraOptions.forcedTzo != null) {\n                timeZoneOffset = extraOptions.forcedTzo;\n            }\n            else {\n                timeZoneOffset = this.offsetForMarker(marker);\n            }\n        }\n        return buildIsoString(marker, timeZoneOffset, extraOptions.omitTime);\n    };\n    // TimeZone\n    DateEnv.prototype.timestampToMarker = function (ms) {\n        if (this.timeZone === 'local') {\n            return arrayToUtcDate(dateToLocalArray(new Date(ms)));\n        }\n        if (this.timeZone === 'UTC' || !this.namedTimeZoneImpl) {\n            return new Date(ms);\n        }\n        return arrayToUtcDate(this.namedTimeZoneImpl.timestampToArray(ms));\n    };\n    DateEnv.prototype.offsetForMarker = function (m) {\n        if (this.timeZone === 'local') {\n            return -arrayToLocalDate(dateToUtcArray(m)).getTimezoneOffset(); // convert \"inverse\" offset to \"normal\" offset\n        }\n        if (this.timeZone === 'UTC') {\n            return 0;\n        }\n        if (this.namedTimeZoneImpl) {\n            return this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m));\n        }\n        return null;\n    };\n    // Conversion\n    DateEnv.prototype.toDate = function (m, forcedTzo) {\n        if (this.timeZone === 'local') {\n            return arrayToLocalDate(dateToUtcArray(m));\n        }\n        if (this.timeZone === 'UTC') {\n            return new Date(m.valueOf()); // make sure it's a copy\n        }\n        if (!this.namedTimeZoneImpl) {\n            return new Date(m.valueOf() - (forcedTzo || 0));\n        }\n        return new Date(m.valueOf() -\n            this.namedTimeZoneImpl.offsetForArray(dateToUtcArray(m)) * 1000 * 60);\n    };\n    return DateEnv;\n}());\n\nvar globalLocales = [];\n\nvar RAW_EN_LOCALE = {\n    code: 'en',\n    week: {\n        dow: 0,\n        doy: 4, // 4 days need to be within the year to be considered the first week\n    },\n    direction: 'ltr',\n    buttonText: {\n        prev: 'prev',\n        next: 'next',\n        prevYear: 'prev year',\n        nextYear: 'next year',\n        year: 'year',\n        today: 'today',\n        month: 'month',\n        week: 'week',\n        day: 'day',\n        list: 'list',\n    },\n    weekText: 'W',\n    allDayText: 'all-day',\n    moreLinkText: 'more',\n    noEventsText: 'No events to display',\n};\nfunction organizeRawLocales(explicitRawLocales) {\n    var defaultCode = explicitRawLocales.length > 0 ? explicitRawLocales[0].code : 'en';\n    var allRawLocales = globalLocales.concat(explicitRawLocales);\n    var rawLocaleMap = {\n        en: RAW_EN_LOCALE, // necessary?\n    };\n    for (var _i = 0, allRawLocales_1 = allRawLocales; _i < allRawLocales_1.length; _i++) {\n        var rawLocale = allRawLocales_1[_i];\n        rawLocaleMap[rawLocale.code] = rawLocale;\n    }\n    return {\n        map: rawLocaleMap,\n        defaultCode: defaultCode,\n    };\n}\nfunction buildLocale(inputSingular, available) {\n    if (typeof inputSingular === 'object' && !Array.isArray(inputSingular)) {\n        return parseLocale(inputSingular.code, [inputSingular.code], inputSingular);\n    }\n    return queryLocale(inputSingular, available);\n}\nfunction queryLocale(codeArg, available) {\n    var codes = [].concat(codeArg || []); // will convert to array\n    var raw = queryRawLocale(codes, available) || RAW_EN_LOCALE;\n    return parseLocale(codeArg, codes, raw);\n}\nfunction queryRawLocale(codes, available) {\n    for (var i = 0; i < codes.length; i += 1) {\n        var parts = codes[i].toLocaleLowerCase().split('-');\n        for (var j = parts.length; j > 0; j -= 1) {\n            var simpleId = parts.slice(0, j).join('-');\n            if (available[simpleId]) {\n                return available[simpleId];\n            }\n        }\n    }\n    return null;\n}\nfunction parseLocale(codeArg, codes, raw) {\n    var merged = mergeProps([RAW_EN_LOCALE, raw], ['buttonText']);\n    delete merged.code; // don't want this part of the options\n    var week = merged.week;\n    delete merged.week;\n    return {\n        codeArg: codeArg,\n        codes: codes,\n        week: week,\n        simpleNumberFormat: new Intl.NumberFormat(codeArg),\n        options: merged,\n    };\n}\n\nfunction formatDate(dateInput, options) {\n    if (options === void 0) { options = {}; }\n    var dateEnv = buildDateEnv$1(options);\n    var formatter = createFormatter(options);\n    var dateMeta = dateEnv.createMarkerMeta(dateInput);\n    if (!dateMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.format(dateMeta.marker, formatter, {\n        forcedTzo: dateMeta.forcedTzo,\n    });\n}\nfunction formatRange(startInput, endInput, options) {\n    var dateEnv = buildDateEnv$1(typeof options === 'object' && options ? options : {}); // pass in if non-null object\n    var formatter = createFormatter(options);\n    var startMeta = dateEnv.createMarkerMeta(startInput);\n    var endMeta = dateEnv.createMarkerMeta(endInput);\n    if (!startMeta || !endMeta) { // TODO: warning?\n        return '';\n    }\n    return dateEnv.formatRange(startMeta.marker, endMeta.marker, formatter, {\n        forcedStartTzo: startMeta.forcedTzo,\n        forcedEndTzo: endMeta.forcedTzo,\n        isEndExclusive: options.isEndExclusive,\n        defaultSeparator: BASE_OPTION_DEFAULTS.defaultRangeSeparator,\n    });\n}\n// TODO: more DRY and optimized\nfunction buildDateEnv$1(settings) {\n    var locale = buildLocale(settings.locale || 'en', organizeRawLocales([]).map); // TODO: don't hardcode 'en' everywhere\n    return new DateEnv(__assign(__assign({ timeZone: BASE_OPTION_DEFAULTS.timeZone, calendarSystem: 'gregory' }, settings), { locale: locale }));\n}\n\nvar DEF_DEFAULTS = {\n    startTime: '09:00',\n    endTime: '17:00',\n    daysOfWeek: [1, 2, 3, 4, 5],\n    display: 'inverse-background',\n    classNames: 'fc-non-business',\n    groupId: '_businessHours', // so multiple defs get grouped\n};\n/*\nTODO: pass around as EventDefHash!!!\n*/\nfunction parseBusinessHours(input, context) {\n    return parseEvents(refineInputs(input), null, context);\n}\nfunction refineInputs(input) {\n    var rawDefs;\n    if (input === true) {\n        rawDefs = [{}]; // will get DEF_DEFAULTS verbatim\n    }\n    else if (Array.isArray(input)) {\n        // if specifying an array, every sub-definition NEEDS a day-of-week\n        rawDefs = input.filter(function (rawDef) { return rawDef.daysOfWeek; });\n    }\n    else if (typeof input === 'object' && input) { // non-null object\n        rawDefs = [input];\n    }\n    else { // is probably false\n        rawDefs = [];\n    }\n    rawDefs = rawDefs.map(function (rawDef) { return (__assign(__assign({}, DEF_DEFAULTS), rawDef)); });\n    return rawDefs;\n}\n\nfunction pointInsideRect(point, rect) {\n    return point.left >= rect.left &&\n        point.left < rect.right &&\n        point.top >= rect.top &&\n        point.top < rect.bottom;\n}\n// Returns a new rectangle that is the intersection of the two rectangles. If they don't intersect, returns false\nfunction intersectRects(rect1, rect2) {\n    var res = {\n        left: Math.max(rect1.left, rect2.left),\n        right: Math.min(rect1.right, rect2.right),\n        top: Math.max(rect1.top, rect2.top),\n        bottom: Math.min(rect1.bottom, rect2.bottom),\n    };\n    if (res.left < res.right && res.top < res.bottom) {\n        return res;\n    }\n    return false;\n}\nfunction translateRect(rect, deltaX, deltaY) {\n    return {\n        left: rect.left + deltaX,\n        right: rect.right + deltaX,\n        top: rect.top + deltaY,\n        bottom: rect.bottom + deltaY,\n    };\n}\n// Returns a new point that will have been moved to reside within the given rectangle\nfunction constrainPoint(point, rect) {\n    return {\n        left: Math.min(Math.max(point.left, rect.left), rect.right),\n        top: Math.min(Math.max(point.top, rect.top), rect.bottom),\n    };\n}\n// Returns a point that is the center of the given rectangle\nfunction getRectCenter(rect) {\n    return {\n        left: (rect.left + rect.right) / 2,\n        top: (rect.top + rect.bottom) / 2,\n    };\n}\n// Subtracts point2's coordinates from point1's coordinates, returning a delta\nfunction diffPoints(point1, point2) {\n    return {\n        left: point1.left - point2.left,\n        top: point1.top - point2.top,\n    };\n}\n\nvar canVGrowWithinCell;\nfunction getCanVGrowWithinCell() {\n    if (canVGrowWithinCell == null) {\n        canVGrowWithinCell = computeCanVGrowWithinCell();\n    }\n    return canVGrowWithinCell;\n}\nfunction computeCanVGrowWithinCell() {\n    // for SSR, because this function is call immediately at top-level\n    // TODO: just make this logic execute top-level, immediately, instead of doing lazily\n    if (typeof document === 'undefined') {\n        return true;\n    }\n    var el = document.createElement('div');\n    el.style.position = 'absolute';\n    el.style.top = '0px';\n    el.style.left = '0px';\n    el.innerHTML = '<table><tr><td><div></div></td></tr></table>';\n    el.querySelector('table').style.height = '100px';\n    el.querySelector('div').style.height = '100%';\n    document.body.appendChild(el);\n    var div = el.querySelector('div');\n    var possible = div.offsetHeight > 0;\n    document.body.removeChild(el);\n    return possible;\n}\n\nvar EMPTY_EVENT_STORE = createEmptyEventStore(); // for purecomponents. TODO: keep elsewhere\nvar Splitter = /** @class */ (function () {\n    function Splitter() {\n        this.getKeysForEventDefs = memoize(this._getKeysForEventDefs);\n        this.splitDateSelection = memoize(this._splitDateSpan);\n        this.splitEventStore = memoize(this._splitEventStore);\n        this.splitIndividualUi = memoize(this._splitIndividualUi);\n        this.splitEventDrag = memoize(this._splitInteraction);\n        this.splitEventResize = memoize(this._splitInteraction);\n        this.eventUiBuilders = {}; // TODO: typescript protection\n    }\n    Splitter.prototype.splitProps = function (props) {\n        var _this = this;\n        var keyInfos = this.getKeyInfo(props);\n        var defKeys = this.getKeysForEventDefs(props.eventStore);\n        var dateSelections = this.splitDateSelection(props.dateSelection);\n        var individualUi = this.splitIndividualUi(props.eventUiBases, defKeys); // the individual *bases*\n        var eventStores = this.splitEventStore(props.eventStore, defKeys);\n        var eventDrags = this.splitEventDrag(props.eventDrag);\n        var eventResizes = this.splitEventResize(props.eventResize);\n        var splitProps = {};\n        this.eventUiBuilders = mapHash(keyInfos, function (info, key) { return _this.eventUiBuilders[key] || memoize(buildEventUiForKey); });\n        for (var key in keyInfos) {\n            var keyInfo = keyInfos[key];\n            var eventStore = eventStores[key] || EMPTY_EVENT_STORE;\n            var buildEventUi = this.eventUiBuilders[key];\n            splitProps[key] = {\n                businessHours: keyInfo.businessHours || props.businessHours,\n                dateSelection: dateSelections[key] || null,\n                eventStore: eventStore,\n                eventUiBases: buildEventUi(props.eventUiBases[''], keyInfo.ui, individualUi[key]),\n                eventSelection: eventStore.instances[props.eventSelection] ? props.eventSelection : '',\n                eventDrag: eventDrags[key] || null,\n                eventResize: eventResizes[key] || null,\n            };\n        }\n        return splitProps;\n    };\n    Splitter.prototype._splitDateSpan = function (dateSpan) {\n        var dateSpans = {};\n        if (dateSpan) {\n            var keys = this.getKeysForDateSpan(dateSpan);\n            for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n                var key = keys_1[_i];\n                dateSpans[key] = dateSpan;\n            }\n        }\n        return dateSpans;\n    };\n    Splitter.prototype._getKeysForEventDefs = function (eventStore) {\n        var _this = this;\n        return mapHash(eventStore.defs, function (eventDef) { return _this.getKeysForEventDef(eventDef); });\n    };\n    Splitter.prototype._splitEventStore = function (eventStore, defKeys) {\n        var defs = eventStore.defs, instances = eventStore.instances;\n        var splitStores = {};\n        for (var defId in defs) {\n            for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                var key = _a[_i];\n                if (!splitStores[key]) {\n                    splitStores[key] = createEmptyEventStore();\n                }\n                splitStores[key].defs[defId] = defs[defId];\n            }\n        }\n        for (var instanceId in instances) {\n            var instance = instances[instanceId];\n            for (var _b = 0, _c = defKeys[instance.defId]; _b < _c.length; _b++) {\n                var key = _c[_b];\n                if (splitStores[key]) { // must have already been created\n                    splitStores[key].instances[instanceId] = instance;\n                }\n            }\n        }\n        return splitStores;\n    };\n    Splitter.prototype._splitIndividualUi = function (eventUiBases, defKeys) {\n        var splitHashes = {};\n        for (var defId in eventUiBases) {\n            if (defId) { // not the '' key\n                for (var _i = 0, _a = defKeys[defId]; _i < _a.length; _i++) {\n                    var key = _a[_i];\n                    if (!splitHashes[key]) {\n                        splitHashes[key] = {};\n                    }\n                    splitHashes[key][defId] = eventUiBases[defId];\n                }\n            }\n        }\n        return splitHashes;\n    };\n    Splitter.prototype._splitInteraction = function (interaction) {\n        var splitStates = {};\n        if (interaction) {\n            var affectedStores_1 = this._splitEventStore(interaction.affectedEvents, this._getKeysForEventDefs(interaction.affectedEvents));\n            // can't rely on defKeys because event data is mutated\n            var mutatedKeysByDefId = this._getKeysForEventDefs(interaction.mutatedEvents);\n            var mutatedStores_1 = this._splitEventStore(interaction.mutatedEvents, mutatedKeysByDefId);\n            var populate = function (key) {\n                if (!splitStates[key]) {\n                    splitStates[key] = {\n                        affectedEvents: affectedStores_1[key] || EMPTY_EVENT_STORE,\n                        mutatedEvents: mutatedStores_1[key] || EMPTY_EVENT_STORE,\n                        isEvent: interaction.isEvent,\n                    };\n                }\n            };\n            for (var key in affectedStores_1) {\n                populate(key);\n            }\n            for (var key in mutatedStores_1) {\n                populate(key);\n            }\n        }\n        return splitStates;\n    };\n    return Splitter;\n}());\nfunction buildEventUiForKey(allUi, eventUiForKey, individualUi) {\n    var baseParts = [];\n    if (allUi) {\n        baseParts.push(allUi);\n    }\n    if (eventUiForKey) {\n        baseParts.push(eventUiForKey);\n    }\n    var stuff = {\n        '': combineEventUis(baseParts),\n    };\n    if (individualUi) {\n        __assign(stuff, individualUi);\n    }\n    return stuff;\n}\n\nfunction getDateMeta(date, todayRange, nowDate, dateProfile) {\n    return {\n        dow: date.getUTCDay(),\n        isDisabled: Boolean(dateProfile && !rangeContainsMarker(dateProfile.activeRange, date)),\n        isOther: Boolean(dateProfile && !rangeContainsMarker(dateProfile.currentRange, date)),\n        isToday: Boolean(todayRange && rangeContainsMarker(todayRange, date)),\n        isPast: Boolean(nowDate ? (date < nowDate) : todayRange ? (date < todayRange.start) : false),\n        isFuture: Boolean(nowDate ? (date > nowDate) : todayRange ? (date >= todayRange.end) : false),\n    };\n}\nfunction getDayClassNames(meta, theme) {\n    var classNames = [\n        'fc-day',\n        \"fc-day-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-day-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-day-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-day-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-day-future');\n        }\n        if (meta.isOther) {\n            classNames.push('fc-day-other');\n        }\n    }\n    return classNames;\n}\nfunction getSlotClassNames(meta, theme) {\n    var classNames = [\n        'fc-slot',\n        \"fc-slot-\" + DAY_IDS[meta.dow],\n    ];\n    if (meta.isDisabled) {\n        classNames.push('fc-slot-disabled');\n    }\n    else {\n        if (meta.isToday) {\n            classNames.push('fc-slot-today');\n            classNames.push(theme.getClass('today'));\n        }\n        if (meta.isPast) {\n            classNames.push('fc-slot-past');\n        }\n        if (meta.isFuture) {\n            classNames.push('fc-slot-future');\n        }\n    }\n    return classNames;\n}\n\nfunction buildNavLinkData(date, type) {\n    if (type === void 0) { type = 'day'; }\n    return JSON.stringify({\n        date: formatDayString(date),\n        type: type,\n    });\n}\n\nvar _isRtlScrollbarOnLeft = null;\nfunction getIsRtlScrollbarOnLeft() {\n    if (_isRtlScrollbarOnLeft === null) {\n        _isRtlScrollbarOnLeft = computeIsRtlScrollbarOnLeft();\n    }\n    return _isRtlScrollbarOnLeft;\n}\nfunction computeIsRtlScrollbarOnLeft() {\n    var outerEl = document.createElement('div');\n    applyStyle(outerEl, {\n        position: 'absolute',\n        top: -1000,\n        left: 0,\n        border: 0,\n        padding: 0,\n        overflow: 'scroll',\n        direction: 'rtl',\n    });\n    outerEl.innerHTML = '<div></div>';\n    document.body.appendChild(outerEl);\n    var innerEl = outerEl.firstChild;\n    var res = innerEl.getBoundingClientRect().left > outerEl.getBoundingClientRect().left;\n    removeElement(outerEl);\n    return res;\n}\n\nvar _scrollbarWidths;\nfunction getScrollbarWidths() {\n    if (!_scrollbarWidths) {\n        _scrollbarWidths = computeScrollbarWidths();\n    }\n    return _scrollbarWidths;\n}\nfunction computeScrollbarWidths() {\n    var el = document.createElement('div');\n    el.style.overflow = 'scroll';\n    el.style.position = 'absolute';\n    el.style.top = '-9999px';\n    el.style.left = '-9999px';\n    document.body.appendChild(el);\n    var res = computeScrollbarWidthsForEl(el);\n    document.body.removeChild(el);\n    return res;\n}\n// WARNING: will include border\nfunction computeScrollbarWidthsForEl(el) {\n    return {\n        x: el.offsetHeight - el.clientHeight,\n        y: el.offsetWidth - el.clientWidth,\n    };\n}\n\nfunction computeEdges(el, getPadding) {\n    if (getPadding === void 0) { getPadding = false; }\n    var computedStyle = window.getComputedStyle(el);\n    var borderLeft = parseInt(computedStyle.borderLeftWidth, 10) || 0;\n    var borderRight = parseInt(computedStyle.borderRightWidth, 10) || 0;\n    var borderTop = parseInt(computedStyle.borderTopWidth, 10) || 0;\n    var borderBottom = parseInt(computedStyle.borderBottomWidth, 10) || 0;\n    var badScrollbarWidths = computeScrollbarWidthsForEl(el); // includes border!\n    var scrollbarLeftRight = badScrollbarWidths.y - borderLeft - borderRight;\n    var scrollbarBottom = badScrollbarWidths.x - borderTop - borderBottom;\n    var res = {\n        borderLeft: borderLeft,\n        borderRight: borderRight,\n        borderTop: borderTop,\n        borderBottom: borderBottom,\n        scrollbarBottom: scrollbarBottom,\n        scrollbarLeft: 0,\n        scrollbarRight: 0,\n    };\n    if (getIsRtlScrollbarOnLeft() && computedStyle.direction === 'rtl') { // is the scrollbar on the left side?\n        res.scrollbarLeft = scrollbarLeftRight;\n    }\n    else {\n        res.scrollbarRight = scrollbarLeftRight;\n    }\n    if (getPadding) {\n        res.paddingLeft = parseInt(computedStyle.paddingLeft, 10) || 0;\n        res.paddingRight = parseInt(computedStyle.paddingRight, 10) || 0;\n        res.paddingTop = parseInt(computedStyle.paddingTop, 10) || 0;\n        res.paddingBottom = parseInt(computedStyle.paddingBottom, 10) || 0;\n    }\n    return res;\n}\nfunction computeInnerRect(el, goWithinPadding, doFromWindowViewport) {\n    if (goWithinPadding === void 0) { goWithinPadding = false; }\n    var outerRect = doFromWindowViewport ? el.getBoundingClientRect() : computeRect(el);\n    var edges = computeEdges(el, goWithinPadding);\n    var res = {\n        left: outerRect.left + edges.borderLeft + edges.scrollbarLeft,\n        right: outerRect.right - edges.borderRight - edges.scrollbarRight,\n        top: outerRect.top + edges.borderTop,\n        bottom: outerRect.bottom - edges.borderBottom - edges.scrollbarBottom,\n    };\n    if (goWithinPadding) {\n        res.left += edges.paddingLeft;\n        res.right -= edges.paddingRight;\n        res.top += edges.paddingTop;\n        res.bottom -= edges.paddingBottom;\n    }\n    return res;\n}\nfunction computeRect(el) {\n    var rect = el.getBoundingClientRect();\n    return {\n        left: rect.left + window.pageXOffset,\n        top: rect.top + window.pageYOffset,\n        right: rect.right + window.pageXOffset,\n        bottom: rect.bottom + window.pageYOffset,\n    };\n}\nfunction computeClippedClientRect(el) {\n    var clippingParents = getClippingParents(el);\n    var rect = el.getBoundingClientRect();\n    for (var _i = 0, clippingParents_1 = clippingParents; _i < clippingParents_1.length; _i++) {\n        var clippingParent = clippingParents_1[_i];\n        var intersection = intersectRects(rect, clippingParent.getBoundingClientRect());\n        if (intersection) {\n            rect = intersection;\n        }\n        else {\n            return null;\n        }\n    }\n    return rect;\n}\nfunction computeHeightAndMargins(el) {\n    return el.getBoundingClientRect().height + computeVMargins(el);\n}\nfunction computeVMargins(el) {\n    var computed = window.getComputedStyle(el);\n    return parseInt(computed.marginTop, 10) +\n        parseInt(computed.marginBottom, 10);\n}\n// does not return window\nfunction getClippingParents(el) {\n    var parents = [];\n    while (el instanceof HTMLElement) { // will stop when gets to document or null\n        var computedStyle = window.getComputedStyle(el);\n        if (computedStyle.position === 'fixed') {\n            break;\n        }\n        if ((/(auto|scroll)/).test(computedStyle.overflow + computedStyle.overflowY + computedStyle.overflowX)) {\n            parents.push(el);\n        }\n        el = el.parentNode;\n    }\n    return parents;\n}\n\n// given a function that resolves a result asynchronously.\n// the function can either call passed-in success and failure callbacks,\n// or it can return a promise.\n// if you need to pass additional params to func, bind them first.\nfunction unpromisify(func, success, failure) {\n    // guard against success/failure callbacks being called more than once\n    // and guard against a promise AND callback being used together.\n    var isResolved = false;\n    var wrappedSuccess = function () {\n        if (!isResolved) {\n            isResolved = true;\n            success.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        }\n    };\n    var wrappedFailure = function () {\n        if (!isResolved) {\n            isResolved = true;\n            if (failure) {\n                failure.apply(this, arguments); // eslint-disable-line prefer-rest-params\n            }\n        }\n    };\n    var res = func(wrappedSuccess, wrappedFailure);\n    if (res && typeof res.then === 'function') {\n        res.then(wrappedSuccess, wrappedFailure);\n    }\n}\n\nvar Emitter = /** @class */ (function () {\n    function Emitter() {\n        this.handlers = {};\n        this.thisContext = null;\n    }\n    Emitter.prototype.setThisContext = function (thisContext) {\n        this.thisContext = thisContext;\n    };\n    Emitter.prototype.setOptions = function (options) {\n        this.options = options;\n    };\n    Emitter.prototype.on = function (type, handler) {\n        addToHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.off = function (type, handler) {\n        removeFromHash(this.handlers, type, handler);\n    };\n    Emitter.prototype.trigger = function (type) {\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var attachedHandlers = this.handlers[type] || [];\n        var optionHandler = this.options && this.options[type];\n        var handlers = [].concat(optionHandler || [], attachedHandlers);\n        for (var _a = 0, handlers_1 = handlers; _a < handlers_1.length; _a++) {\n            var handler = handlers_1[_a];\n            handler.apply(this.thisContext, args);\n        }\n    };\n    Emitter.prototype.hasHandlers = function (type) {\n        return (this.handlers[type] && this.handlers[type].length) ||\n            (this.options && this.options[type]);\n    };\n    return Emitter;\n}());\nfunction addToHash(hash, type, handler) {\n    (hash[type] || (hash[type] = []))\n        .push(handler);\n}\nfunction removeFromHash(hash, type, handler) {\n    if (handler) {\n        if (hash[type]) {\n            hash[type] = hash[type].filter(function (func) { return func !== handler; });\n        }\n    }\n    else {\n        delete hash[type]; // remove all handler funcs for this type\n    }\n}\n\n/*\nRecords offset information for a set of elements, relative to an origin element.\nCan record the left/right OR the top/bottom OR both.\nProvides methods for querying the cache by position.\n*/\nvar PositionCache = /** @class */ (function () {\n    function PositionCache(originEl, els, isHorizontal, isVertical) {\n        this.els = els;\n        var originClientRect = this.originClientRect = originEl.getBoundingClientRect(); // relative to viewport top-left\n        if (isHorizontal) {\n            this.buildElHorizontals(originClientRect.left);\n        }\n        if (isVertical) {\n            this.buildElVerticals(originClientRect.top);\n        }\n    }\n    // Populates the left/right internal coordinate arrays\n    PositionCache.prototype.buildElHorizontals = function (originClientLeft) {\n        var lefts = [];\n        var rights = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            lefts.push(rect.left - originClientLeft);\n            rights.push(rect.right - originClientLeft);\n        }\n        this.lefts = lefts;\n        this.rights = rights;\n    };\n    // Populates the top/bottom internal coordinate arrays\n    PositionCache.prototype.buildElVerticals = function (originClientTop) {\n        var tops = [];\n        var bottoms = [];\n        for (var _i = 0, _a = this.els; _i < _a.length; _i++) {\n            var el = _a[_i];\n            var rect = el.getBoundingClientRect();\n            tops.push(rect.top - originClientTop);\n            bottoms.push(rect.bottom - originClientTop);\n        }\n        this.tops = tops;\n        this.bottoms = bottoms;\n    };\n    // Given a left offset (from document left), returns the index of the el that it horizontally intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.leftToIndex = function (leftPosition) {\n        var _a = this, lefts = _a.lefts, rights = _a.rights;\n        var len = lefts.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (leftPosition >= lefts[i] && leftPosition < rights[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Given a top offset (from document top), returns the index of the el that it vertically intersects.\n    // If no intersection is made, returns undefined.\n    PositionCache.prototype.topToIndex = function (topPosition) {\n        var _a = this, tops = _a.tops, bottoms = _a.bottoms;\n        var len = tops.length;\n        var i;\n        for (i = 0; i < len; i += 1) {\n            if (topPosition >= tops[i] && topPosition < bottoms[i]) {\n                return i;\n            }\n        }\n        return undefined; // TODO: better\n    };\n    // Gets the width of the element at the given index\n    PositionCache.prototype.getWidth = function (leftIndex) {\n        return this.rights[leftIndex] - this.lefts[leftIndex];\n    };\n    // Gets the height of the element at the given index\n    PositionCache.prototype.getHeight = function (topIndex) {\n        return this.bottoms[topIndex] - this.tops[topIndex];\n    };\n    return PositionCache;\n}());\n\n/* eslint max-classes-per-file: \"off\" */\n/*\nAn object for getting/setting scroll-related information for an element.\nInternally, this is done very differently for window versus DOM element,\nso this object serves as a common interface.\n*/\nvar ScrollController = /** @class */ (function () {\n    function ScrollController() {\n    }\n    ScrollController.prototype.getMaxScrollTop = function () {\n        return this.getScrollHeight() - this.getClientHeight();\n    };\n    ScrollController.prototype.getMaxScrollLeft = function () {\n        return this.getScrollWidth() - this.getClientWidth();\n    };\n    ScrollController.prototype.canScrollVertically = function () {\n        return this.getMaxScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollHorizontally = function () {\n        return this.getMaxScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollUp = function () {\n        return this.getScrollTop() > 0;\n    };\n    ScrollController.prototype.canScrollDown = function () {\n        return this.getScrollTop() < this.getMaxScrollTop();\n    };\n    ScrollController.prototype.canScrollLeft = function () {\n        return this.getScrollLeft() > 0;\n    };\n    ScrollController.prototype.canScrollRight = function () {\n        return this.getScrollLeft() < this.getMaxScrollLeft();\n    };\n    return ScrollController;\n}());\nvar ElementScrollController = /** @class */ (function (_super) {\n    __extends(ElementScrollController, _super);\n    function ElementScrollController(el) {\n        var _this = _super.call(this) || this;\n        _this.el = el;\n        return _this;\n    }\n    ElementScrollController.prototype.getScrollTop = function () {\n        return this.el.scrollTop;\n    };\n    ElementScrollController.prototype.getScrollLeft = function () {\n        return this.el.scrollLeft;\n    };\n    ElementScrollController.prototype.setScrollTop = function (top) {\n        this.el.scrollTop = top;\n    };\n    ElementScrollController.prototype.setScrollLeft = function (left) {\n        this.el.scrollLeft = left;\n    };\n    ElementScrollController.prototype.getScrollWidth = function () {\n        return this.el.scrollWidth;\n    };\n    ElementScrollController.prototype.getScrollHeight = function () {\n        return this.el.scrollHeight;\n    };\n    ElementScrollController.prototype.getClientHeight = function () {\n        return this.el.clientHeight;\n    };\n    ElementScrollController.prototype.getClientWidth = function () {\n        return this.el.clientWidth;\n    };\n    return ElementScrollController;\n}(ScrollController));\nvar WindowScrollController = /** @class */ (function (_super) {\n    __extends(WindowScrollController, _super);\n    function WindowScrollController() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    WindowScrollController.prototype.getScrollTop = function () {\n        return window.pageYOffset;\n    };\n    WindowScrollController.prototype.getScrollLeft = function () {\n        return window.pageXOffset;\n    };\n    WindowScrollController.prototype.setScrollTop = function (n) {\n        window.scroll(window.pageXOffset, n);\n    };\n    WindowScrollController.prototype.setScrollLeft = function (n) {\n        window.scroll(n, window.pageYOffset);\n    };\n    WindowScrollController.prototype.getScrollWidth = function () {\n        return document.documentElement.scrollWidth;\n    };\n    WindowScrollController.prototype.getScrollHeight = function () {\n        return document.documentElement.scrollHeight;\n    };\n    WindowScrollController.prototype.getClientHeight = function () {\n        return document.documentElement.clientHeight;\n    };\n    WindowScrollController.prototype.getClientWidth = function () {\n        return document.documentElement.clientWidth;\n    };\n    return WindowScrollController;\n}(ScrollController));\n\nvar Theme = /** @class */ (function () {\n    function Theme(calendarOptions) {\n        if (this.iconOverrideOption) {\n            this.setIconOverride(calendarOptions[this.iconOverrideOption]);\n        }\n    }\n    Theme.prototype.setIconOverride = function (iconOverrideHash) {\n        var iconClassesCopy;\n        var buttonName;\n        if (typeof iconOverrideHash === 'object' && iconOverrideHash) { // non-null object\n            iconClassesCopy = __assign({}, this.iconClasses);\n            for (buttonName in iconOverrideHash) {\n                iconClassesCopy[buttonName] = this.applyIconOverridePrefix(iconOverrideHash[buttonName]);\n            }\n            this.iconClasses = iconClassesCopy;\n        }\n        else if (iconOverrideHash === false) {\n            this.iconClasses = {};\n        }\n    };\n    Theme.prototype.applyIconOverridePrefix = function (className) {\n        var prefix = this.iconOverridePrefix;\n        if (prefix && className.indexOf(prefix) !== 0) { // if not already present\n            className = prefix + className;\n        }\n        return className;\n    };\n    Theme.prototype.getClass = function (key) {\n        return this.classes[key] || '';\n    };\n    Theme.prototype.getIconClass = function (buttonName, isRtl) {\n        var className;\n        if (isRtl && this.rtlIconClasses) {\n            className = this.rtlIconClasses[buttonName] || this.iconClasses[buttonName];\n        }\n        else {\n            className = this.iconClasses[buttonName];\n        }\n        if (className) {\n            return this.baseIconClass + \" \" + className;\n        }\n        return '';\n    };\n    Theme.prototype.getCustomButtonIconClass = function (customButtonProps) {\n        var className;\n        if (this.iconOverrideCustomButtonOption) {\n            className = customButtonProps[this.iconOverrideCustomButtonOption];\n            if (className) {\n                return this.baseIconClass + \" \" + this.applyIconOverridePrefix(className);\n            }\n        }\n        return '';\n    };\n    return Theme;\n}());\nTheme.prototype.classes = {};\nTheme.prototype.iconClasses = {};\nTheme.prototype.baseIconClass = '';\nTheme.prototype.iconOverridePrefix = '';\n\nvar ScrollResponder = /** @class */ (function () {\n    function ScrollResponder(execFunc, emitter, scrollTime, scrollTimeReset) {\n        var _this = this;\n        this.execFunc = execFunc;\n        this.emitter = emitter;\n        this.scrollTime = scrollTime;\n        this.scrollTimeReset = scrollTimeReset;\n        this.handleScrollRequest = function (request) {\n            _this.queuedRequest = __assign({}, _this.queuedRequest || {}, request);\n            _this.drain();\n        };\n        emitter.on('_scrollRequest', this.handleScrollRequest);\n        this.fireInitialScroll();\n    }\n    ScrollResponder.prototype.detach = function () {\n        this.emitter.off('_scrollRequest', this.handleScrollRequest);\n    };\n    ScrollResponder.prototype.update = function (isDatesNew) {\n        if (isDatesNew && this.scrollTimeReset) {\n            this.fireInitialScroll(); // will drain\n        }\n        else {\n            this.drain();\n        }\n    };\n    ScrollResponder.prototype.fireInitialScroll = function () {\n        this.handleScrollRequest({\n            time: this.scrollTime,\n        });\n    };\n    ScrollResponder.prototype.drain = function () {\n        if (this.queuedRequest && this.execFunc(this.queuedRequest)) {\n            this.queuedRequest = null;\n        }\n    };\n    return ScrollResponder;\n}());\n\nvar ViewContextType = createContext({}); // for Components\nfunction buildViewContext(viewSpec, viewApi, viewOptions, dateProfileGenerator, dateEnv, theme, pluginHooks, dispatch, getCurrentData, emitter, calendarApi, registerInteractiveComponent, unregisterInteractiveComponent) {\n    return {\n        dateEnv: dateEnv,\n        options: viewOptions,\n        pluginHooks: pluginHooks,\n        emitter: emitter,\n        dispatch: dispatch,\n        getCurrentData: getCurrentData,\n        calendarApi: calendarApi,\n        viewSpec: viewSpec,\n        viewApi: viewApi,\n        dateProfileGenerator: dateProfileGenerator,\n        theme: theme,\n        isRtl: viewOptions.direction === 'rtl',\n        addResizeHandler: function (handler) {\n            emitter.on('_resize', handler);\n        },\n        removeResizeHandler: function (handler) {\n            emitter.off('_resize', handler);\n        },\n        createScrollResponder: function (execFunc) {\n            return new ScrollResponder(execFunc, emitter, createDuration(viewOptions.scrollTime), viewOptions.scrollTimeReset);\n        },\n        registerInteractiveComponent: registerInteractiveComponent,\n        unregisterInteractiveComponent: unregisterInteractiveComponent,\n    };\n}\n\n/* eslint max-classes-per-file: off */\nvar PureComponent = /** @class */ (function (_super) {\n    __extends(PureComponent, _super);\n    function PureComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    PureComponent.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n        if (this.debug) {\n            // eslint-disable-next-line no-console\n            console.log(getUnequalProps(nextProps, this.props), getUnequalProps(nextState, this.state));\n        }\n        return !compareObjs(this.props, nextProps, this.propEquality) ||\n            !compareObjs(this.state, nextState, this.stateEquality);\n    };\n    PureComponent.addPropsEquality = addPropsEquality;\n    PureComponent.addStateEquality = addStateEquality;\n    PureComponent.contextType = ViewContextType;\n    return PureComponent;\n}(Component));\nPureComponent.prototype.propEquality = {};\nPureComponent.prototype.stateEquality = {};\nvar BaseComponent = /** @class */ (function (_super) {\n    __extends(BaseComponent, _super);\n    function BaseComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BaseComponent.contextType = ViewContextType;\n    return BaseComponent;\n}(PureComponent));\nfunction addPropsEquality(propEquality) {\n    var hash = Object.create(this.prototype.propEquality);\n    __assign(hash, propEquality);\n    this.prototype.propEquality = hash;\n}\nfunction addStateEquality(stateEquality) {\n    var hash = Object.create(this.prototype.stateEquality);\n    __assign(hash, stateEquality);\n    this.prototype.stateEquality = hash;\n}\n// use other one\nfunction setRef(ref, current) {\n    if (typeof ref === 'function') {\n        ref(current);\n    }\n    else if (ref) {\n        // see https://github.com/facebook/react/issues/13029\n        ref.current = current;\n    }\n}\n\n/*\nan INTERACTABLE date component\n\nPURPOSES:\n- hook up to fg, fill, and mirror renderers\n- interface for dragging and hits\n*/\nvar DateComponent = /** @class */ (function (_super) {\n    __extends(DateComponent, _super);\n    function DateComponent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.uid = guid();\n        return _this;\n    }\n    // Hit System\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.prepareHits = function () {\n    };\n    DateComponent.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        return null; // this should be abstract\n    };\n    // Pointer Interaction Utils\n    // -----------------------------------------------------------------------------------------------------------------\n    DateComponent.prototype.isValidSegDownEl = function (el) {\n        return !this.props.eventDrag && // HACK\n            !this.props.eventResize && // HACK\n            !elementClosest(el, '.fc-event-mirror');\n    };\n    DateComponent.prototype.isValidDateDownEl = function (el) {\n        return !elementClosest(el, '.fc-event:not(.fc-bg-event)') &&\n            !elementClosest(el, '.fc-more-link') && // a \"more..\" link\n            !elementClosest(el, 'a[data-navlink]') && // a clickable nav link\n            !elementClosest(el, '.fc-popover'); // hack\n    };\n    return DateComponent;\n}(BaseComponent));\n\n// TODO: easier way to add new hooks? need to update a million things\nfunction createPlugin(input) {\n    return {\n        id: guid(),\n        deps: input.deps || [],\n        reducers: input.reducers || [],\n        isLoadingFuncs: input.isLoadingFuncs || [],\n        contextInit: [].concat(input.contextInit || []),\n        eventRefiners: input.eventRefiners || {},\n        eventDefMemberAdders: input.eventDefMemberAdders || [],\n        eventSourceRefiners: input.eventSourceRefiners || {},\n        isDraggableTransformers: input.isDraggableTransformers || [],\n        eventDragMutationMassagers: input.eventDragMutationMassagers || [],\n        eventDefMutationAppliers: input.eventDefMutationAppliers || [],\n        dateSelectionTransformers: input.dateSelectionTransformers || [],\n        datePointTransforms: input.datePointTransforms || [],\n        dateSpanTransforms: input.dateSpanTransforms || [],\n        views: input.views || {},\n        viewPropsTransformers: input.viewPropsTransformers || [],\n        isPropsValid: input.isPropsValid || null,\n        externalDefTransforms: input.externalDefTransforms || [],\n        viewContainerAppends: input.viewContainerAppends || [],\n        eventDropTransformers: input.eventDropTransformers || [],\n        componentInteractions: input.componentInteractions || [],\n        calendarInteractions: input.calendarInteractions || [],\n        themeClasses: input.themeClasses || {},\n        eventSourceDefs: input.eventSourceDefs || [],\n        cmdFormatter: input.cmdFormatter,\n        recurringTypes: input.recurringTypes || [],\n        namedTimeZonedImpl: input.namedTimeZonedImpl,\n        initialView: input.initialView || '',\n        elementDraggingImpl: input.elementDraggingImpl,\n        optionChangeHandlers: input.optionChangeHandlers || {},\n        scrollGridImpl: input.scrollGridImpl || null,\n        contentTypeHandlers: input.contentTypeHandlers || {},\n        listenerRefiners: input.listenerRefiners || {},\n        optionRefiners: input.optionRefiners || {},\n        propSetHandlers: input.propSetHandlers || {},\n    };\n}\nfunction buildPluginHooks(pluginDefs, globalDefs) {\n    var isAdded = {};\n    var hooks = {\n        reducers: [],\n        isLoadingFuncs: [],\n        contextInit: [],\n        eventRefiners: {},\n        eventDefMemberAdders: [],\n        eventSourceRefiners: {},\n        isDraggableTransformers: [],\n        eventDragMutationMassagers: [],\n        eventDefMutationAppliers: [],\n        dateSelectionTransformers: [],\n        datePointTransforms: [],\n        dateSpanTransforms: [],\n        views: {},\n        viewPropsTransformers: [],\n        isPropsValid: null,\n        externalDefTransforms: [],\n        viewContainerAppends: [],\n        eventDropTransformers: [],\n        componentInteractions: [],\n        calendarInteractions: [],\n        themeClasses: {},\n        eventSourceDefs: [],\n        cmdFormatter: null,\n        recurringTypes: [],\n        namedTimeZonedImpl: null,\n        initialView: '',\n        elementDraggingImpl: null,\n        optionChangeHandlers: {},\n        scrollGridImpl: null,\n        contentTypeHandlers: {},\n        listenerRefiners: {},\n        optionRefiners: {},\n        propSetHandlers: {},\n    };\n    function addDefs(defs) {\n        for (var _i = 0, defs_1 = defs; _i < defs_1.length; _i++) {\n            var def = defs_1[_i];\n            if (!isAdded[def.id]) {\n                isAdded[def.id] = true;\n                addDefs(def.deps);\n                hooks = combineHooks(hooks, def);\n            }\n        }\n    }\n    if (pluginDefs) {\n        addDefs(pluginDefs);\n    }\n    addDefs(globalDefs);\n    return hooks;\n}\nfunction buildBuildPluginHooks() {\n    var currentOverrideDefs = [];\n    var currentGlobalDefs = [];\n    var currentHooks;\n    return function (overrideDefs, globalDefs) {\n        if (!currentHooks || !isArraysEqual(overrideDefs, currentOverrideDefs) || !isArraysEqual(globalDefs, currentGlobalDefs)) {\n            currentHooks = buildPluginHooks(overrideDefs, globalDefs);\n        }\n        currentOverrideDefs = overrideDefs;\n        currentGlobalDefs = globalDefs;\n        return currentHooks;\n    };\n}\nfunction combineHooks(hooks0, hooks1) {\n    return {\n        reducers: hooks0.reducers.concat(hooks1.reducers),\n        isLoadingFuncs: hooks0.isLoadingFuncs.concat(hooks1.isLoadingFuncs),\n        contextInit: hooks0.contextInit.concat(hooks1.contextInit),\n        eventRefiners: __assign(__assign({}, hooks0.eventRefiners), hooks1.eventRefiners),\n        eventDefMemberAdders: hooks0.eventDefMemberAdders.concat(hooks1.eventDefMemberAdders),\n        eventSourceRefiners: __assign(__assign({}, hooks0.eventSourceRefiners), hooks1.eventSourceRefiners),\n        isDraggableTransformers: hooks0.isDraggableTransformers.concat(hooks1.isDraggableTransformers),\n        eventDragMutationMassagers: hooks0.eventDragMutationMassagers.concat(hooks1.eventDragMutationMassagers),\n        eventDefMutationAppliers: hooks0.eventDefMutationAppliers.concat(hooks1.eventDefMutationAppliers),\n        dateSelectionTransformers: hooks0.dateSelectionTransformers.concat(hooks1.dateSelectionTransformers),\n        datePointTransforms: hooks0.datePointTransforms.concat(hooks1.datePointTransforms),\n        dateSpanTransforms: hooks0.dateSpanTransforms.concat(hooks1.dateSpanTransforms),\n        views: __assign(__assign({}, hooks0.views), hooks1.views),\n        viewPropsTransformers: hooks0.viewPropsTransformers.concat(hooks1.viewPropsTransformers),\n        isPropsValid: hooks1.isPropsValid || hooks0.isPropsValid,\n        externalDefTransforms: hooks0.externalDefTransforms.concat(hooks1.externalDefTransforms),\n        viewContainerAppends: hooks0.viewContainerAppends.concat(hooks1.viewContainerAppends),\n        eventDropTransformers: hooks0.eventDropTransformers.concat(hooks1.eventDropTransformers),\n        calendarInteractions: hooks0.calendarInteractions.concat(hooks1.calendarInteractions),\n        componentInteractions: hooks0.componentInteractions.concat(hooks1.componentInteractions),\n        themeClasses: __assign(__assign({}, hooks0.themeClasses), hooks1.themeClasses),\n        eventSourceDefs: hooks0.eventSourceDefs.concat(hooks1.eventSourceDefs),\n        cmdFormatter: hooks1.cmdFormatter || hooks0.cmdFormatter,\n        recurringTypes: hooks0.recurringTypes.concat(hooks1.recurringTypes),\n        namedTimeZonedImpl: hooks1.namedTimeZonedImpl || hooks0.namedTimeZonedImpl,\n        initialView: hooks0.initialView || hooks1.initialView,\n        elementDraggingImpl: hooks0.elementDraggingImpl || hooks1.elementDraggingImpl,\n        optionChangeHandlers: __assign(__assign({}, hooks0.optionChangeHandlers), hooks1.optionChangeHandlers),\n        scrollGridImpl: hooks1.scrollGridImpl || hooks0.scrollGridImpl,\n        contentTypeHandlers: __assign(__assign({}, hooks0.contentTypeHandlers), hooks1.contentTypeHandlers),\n        listenerRefiners: __assign(__assign({}, hooks0.listenerRefiners), hooks1.listenerRefiners),\n        optionRefiners: __assign(__assign({}, hooks0.optionRefiners), hooks1.optionRefiners),\n        propSetHandlers: __assign(__assign({}, hooks0.propSetHandlers), hooks1.propSetHandlers),\n    };\n}\n\nvar StandardTheme = /** @class */ (function (_super) {\n    __extends(StandardTheme, _super);\n    function StandardTheme() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return StandardTheme;\n}(Theme));\nStandardTheme.prototype.classes = {\n    root: 'fc-theme-standard',\n    tableCellShaded: 'fc-cell-shaded',\n    buttonGroup: 'fc-button-group',\n    button: 'fc-button fc-button-primary',\n    buttonActive: 'fc-button-active',\n};\nStandardTheme.prototype.baseIconClass = 'fc-icon';\nStandardTheme.prototype.iconClasses = {\n    close: 'fc-icon-x',\n    prev: 'fc-icon-chevron-left',\n    next: 'fc-icon-chevron-right',\n    prevYear: 'fc-icon-chevrons-left',\n    nextYear: 'fc-icon-chevrons-right',\n};\nStandardTheme.prototype.rtlIconClasses = {\n    prev: 'fc-icon-chevron-right',\n    next: 'fc-icon-chevron-left',\n    prevYear: 'fc-icon-chevrons-right',\n    nextYear: 'fc-icon-chevrons-left',\n};\nStandardTheme.prototype.iconOverrideOption = 'buttonIcons'; // TODO: make TS-friendly\nStandardTheme.prototype.iconOverrideCustomButtonOption = 'icon';\nStandardTheme.prototype.iconOverridePrefix = 'fc-icon-';\n\nfunction compileViewDefs(defaultConfigs, overrideConfigs) {\n    var hash = {};\n    var viewType;\n    for (viewType in defaultConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    for (viewType in overrideConfigs) {\n        ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    }\n    return hash;\n}\nfunction ensureViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    if (hash[viewType]) {\n        return hash[viewType];\n    }\n    var viewDef = buildViewDef(viewType, hash, defaultConfigs, overrideConfigs);\n    if (viewDef) {\n        hash[viewType] = viewDef;\n    }\n    return viewDef;\n}\nfunction buildViewDef(viewType, hash, defaultConfigs, overrideConfigs) {\n    var defaultConfig = defaultConfigs[viewType];\n    var overrideConfig = overrideConfigs[viewType];\n    var queryProp = function (name) { return ((defaultConfig && defaultConfig[name] !== null) ? defaultConfig[name] :\n        ((overrideConfig && overrideConfig[name] !== null) ? overrideConfig[name] : null)); };\n    var theComponent = queryProp('component');\n    var superType = queryProp('superType');\n    var superDef = null;\n    if (superType) {\n        if (superType === viewType) {\n            throw new Error('Can\\'t have a custom view type that references itself');\n        }\n        superDef = ensureViewDef(superType, hash, defaultConfigs, overrideConfigs);\n    }\n    if (!theComponent && superDef) {\n        theComponent = superDef.component;\n    }\n    if (!theComponent) {\n        return null; // don't throw a warning, might be settings for a single-unit view\n    }\n    return {\n        type: viewType,\n        component: theComponent,\n        defaults: __assign(__assign({}, (superDef ? superDef.defaults : {})), (defaultConfig ? defaultConfig.rawOptions : {})),\n        overrides: __assign(__assign({}, (superDef ? superDef.overrides : {})), (overrideConfig ? overrideConfig.rawOptions : {})),\n    };\n}\n\n/* eslint max-classes-per-file: off */\n// NOTE: in JSX, you should always use this class with <HookProps> arg. otherwise, will default to any???\nvar RenderHook = /** @class */ (function (_super) {\n    __extends(RenderHook, _super);\n    function RenderHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        return _this;\n    }\n    RenderHook.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var hookProps = props.hookProps;\n        return (createElement(MountHook, { hookProps: hookProps, didMount: props.didMount, willUnmount: props.willUnmount, elRef: this.handleRootEl }, function (rootElRef) { return (createElement(ContentHook, { hookProps: hookProps, content: props.content, defaultContent: props.defaultContent, backupElRef: _this.rootElRef }, function (innerElRef, innerContent) { return props.children(rootElRef, normalizeClassNames(props.classNames, hookProps), innerElRef, innerContent); })); }));\n    };\n    return RenderHook;\n}(BaseComponent));\n// TODO: rename to be about function, not default. use in above type\n// for forcing rerender of components that use the ContentHook\nvar CustomContentRenderContext = createContext(0);\nfunction ContentHook(props) {\n    return (createElement(CustomContentRenderContext.Consumer, null, function (renderId) { return (createElement(ContentHookInner, __assign({ renderId: renderId }, props))); }));\n}\nvar ContentHookInner = /** @class */ (function (_super) {\n    __extends(ContentHookInner, _super);\n    function ContentHookInner() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.innerElRef = createRef();\n        return _this;\n    }\n    ContentHookInner.prototype.render = function () {\n        return this.props.children(this.innerElRef, this.renderInnerContent());\n    };\n    ContentHookInner.prototype.componentDidMount = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentDidUpdate = function () {\n        this.updateCustomContent();\n    };\n    ContentHookInner.prototype.componentWillUnmount = function () {\n        if (this.customContentInfo && this.customContentInfo.destroy) {\n            this.customContentInfo.destroy();\n        }\n    };\n    ContentHookInner.prototype.renderInnerContent = function () {\n        var contentTypeHandlers = this.context.pluginHooks.contentTypeHandlers;\n        var _a = this, props = _a.props, customContentInfo = _a.customContentInfo;\n        var rawVal = props.content;\n        var innerContent = normalizeContent(rawVal, props.hookProps);\n        var innerContentVDom = null;\n        if (innerContent === undefined) { // use the default\n            innerContent = normalizeContent(props.defaultContent, props.hookProps);\n        }\n        if (innerContent !== undefined) { // we allow custom content handlers to return nothing\n            if (customContentInfo) {\n                customContentInfo.contentVal = innerContent[customContentInfo.contentKey];\n            }\n            else if (typeof innerContent === 'object') {\n                // look for a prop that would indicate a custom content handler is needed\n                for (var contentKey in contentTypeHandlers) {\n                    if (innerContent[contentKey] !== undefined) {\n                        var stuff = contentTypeHandlers[contentKey]();\n                        customContentInfo = this.customContentInfo = __assign({ contentKey: contentKey, contentVal: innerContent[contentKey] }, stuff);\n                        break;\n                    }\n                }\n            }\n            if (customContentInfo) {\n                innerContentVDom = []; // signal that something was specified\n            }\n            else {\n                innerContentVDom = innerContent; // assume a [p]react vdom node. use it\n            }\n        }\n        return innerContentVDom;\n    };\n    ContentHookInner.prototype.updateCustomContent = function () {\n        if (this.customContentInfo) {\n            this.customContentInfo.render(this.innerElRef.current || this.props.backupElRef.current, // the element to render into\n            this.customContentInfo.contentVal);\n        }\n    };\n    return ContentHookInner;\n}(BaseComponent));\nvar MountHook = /** @class */ (function (_super) {\n    __extends(MountHook, _super);\n    function MountHook() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, rootEl);\n            }\n        };\n        return _this;\n    }\n    MountHook.prototype.render = function () {\n        return this.props.children(this.handleRootEl);\n    };\n    MountHook.prototype.componentDidMount = function () {\n        var callback = this.props.didMount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    MountHook.prototype.componentWillUnmount = function () {\n        var callback = this.props.willUnmount;\n        if (callback) {\n            callback(__assign(__assign({}, this.props.hookProps), { el: this.rootEl }));\n        }\n    };\n    return MountHook;\n}(BaseComponent));\nfunction buildClassNameNormalizer() {\n    var currentGenerator;\n    var currentHookProps;\n    var currentClassNames = [];\n    return function (generator, hookProps) {\n        if (!currentHookProps || !isPropsEqual(currentHookProps, hookProps) || generator !== currentGenerator) {\n            currentGenerator = generator;\n            currentHookProps = hookProps;\n            currentClassNames = normalizeClassNames(generator, hookProps);\n        }\n        return currentClassNames;\n    };\n}\nfunction normalizeClassNames(classNames, hookProps) {\n    if (typeof classNames === 'function') {\n        classNames = classNames(hookProps);\n    }\n    return parseClassNames(classNames);\n}\nfunction normalizeContent(input, hookProps) {\n    if (typeof input === 'function') {\n        return input(hookProps, createElement); // give the function the vdom-creation func\n    }\n    return input;\n}\n\nvar ViewRoot = /** @class */ (function (_super) {\n    __extends(ViewRoot, _super);\n    function ViewRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    ViewRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = { view: context.viewApi };\n        var customClassNames = this.normalizeClassNames(options.viewClassNames, hookProps);\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.viewDidMount, willUnmount: options.viewWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, [\"fc-\" + props.viewSpec.type + \"-view\", 'fc-view'].concat(customClassNames)); }));\n    };\n    return ViewRoot;\n}(BaseComponent));\n\nfunction parseViewConfigs(inputs) {\n    return mapHash(inputs, parseViewConfig);\n}\nfunction parseViewConfig(input) {\n    var rawOptions = typeof input === 'function' ?\n        { component: input } :\n        input;\n    var component = rawOptions.component;\n    if (rawOptions.content) {\n        component = createViewHookComponent(rawOptions);\n        // TODO: remove content/classNames/didMount/etc from options?\n    }\n    return {\n        superType: rawOptions.type,\n        component: component,\n        rawOptions: rawOptions,\n    };\n}\nfunction createViewHookComponent(options) {\n    return function (viewProps) { return (createElement(ViewContextType.Consumer, null, function (context) { return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (viewElRef, viewClassNames) {\n        var hookProps = __assign(__assign({}, viewProps), { nextDayThreshold: context.options.nextDayThreshold });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.classNames, content: options.content, didMount: options.didMount, willUnmount: options.willUnmount, elRef: viewElRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"div\", { className: viewClassNames.concat(customClassNames).join(' '), ref: rootElRef }, innerContent)); }));\n    })); })); };\n}\n\nfunction buildViewSpecs(defaultInputs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var defaultConfigs = parseViewConfigs(defaultInputs);\n    var overrideConfigs = parseViewConfigs(optionOverrides.views);\n    var viewDefs = compileViewDefs(defaultConfigs, overrideConfigs);\n    return mapHash(viewDefs, function (viewDef) { return buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults); });\n}\nfunction buildViewSpec(viewDef, overrideConfigs, optionOverrides, dynamicOptionOverrides, localeDefaults) {\n    var durationInput = viewDef.overrides.duration ||\n        viewDef.defaults.duration ||\n        dynamicOptionOverrides.duration ||\n        optionOverrides.duration;\n    var duration = null;\n    var durationUnit = '';\n    var singleUnit = '';\n    var singleUnitOverrides = {};\n    if (durationInput) {\n        duration = createDurationCached(durationInput);\n        if (duration) { // valid?\n            var denom = greatestDurationDenominator(duration);\n            durationUnit = denom.unit;\n            if (denom.value === 1) {\n                singleUnit = durationUnit;\n                singleUnitOverrides = overrideConfigs[durationUnit] ? overrideConfigs[durationUnit].rawOptions : {};\n            }\n        }\n    }\n    var queryButtonText = function (optionsSubset) {\n        var buttonTextMap = optionsSubset.buttonText || {};\n        var buttonTextKey = viewDef.defaults.buttonTextKey;\n        if (buttonTextKey != null && buttonTextMap[buttonTextKey] != null) {\n            return buttonTextMap[buttonTextKey];\n        }\n        if (buttonTextMap[viewDef.type] != null) {\n            return buttonTextMap[viewDef.type];\n        }\n        if (buttonTextMap[singleUnit] != null) {\n            return buttonTextMap[singleUnit];\n        }\n        return null;\n    };\n    return {\n        type: viewDef.type,\n        component: viewDef.component,\n        duration: duration,\n        durationUnit: durationUnit,\n        singleUnit: singleUnit,\n        optionDefaults: viewDef.defaults,\n        optionOverrides: __assign(__assign({}, singleUnitOverrides), viewDef.overrides),\n        buttonTextOverride: queryButtonText(dynamicOptionOverrides) ||\n            queryButtonText(optionOverrides) || // constructor-specified buttonText lookup hash takes precedence\n            viewDef.overrides.buttonText,\n        buttonTextDefault: queryButtonText(localeDefaults) ||\n            viewDef.defaults.buttonText ||\n            queryButtonText(BASE_OPTION_DEFAULTS) ||\n            viewDef.type, // fall back to given view name\n    };\n}\n// hack to get memoization working\nvar durationInputMap = {};\nfunction createDurationCached(durationInput) {\n    var json = JSON.stringify(durationInput);\n    var res = durationInputMap[json];\n    if (res === undefined) {\n        res = createDuration(durationInput);\n        durationInputMap[json] = res;\n    }\n    return res;\n}\n\nvar DateProfileGenerator = /** @class */ (function () {\n    function DateProfileGenerator(props) {\n        this.props = props;\n        this.nowDate = getNow(props.nowInput, props.dateEnv);\n        this.initHiddenDays();\n    }\n    /* Date Range Computation\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Builds a structure with info about what the dates/ranges will be for the \"prev\" view.\n    DateProfileGenerator.prototype.buildPrev = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var prevDate = dateEnv.subtract(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(prevDate, -1, forceToValid);\n    };\n    // Builds a structure with info about what the dates/ranges will be for the \"next\" view.\n    DateProfileGenerator.prototype.buildNext = function (currentDateProfile, currentDate, forceToValid) {\n        var dateEnv = this.props.dateEnv;\n        var nextDate = dateEnv.add(dateEnv.startOf(currentDate, currentDateProfile.currentRangeUnit), // important for start-of-month\n        currentDateProfile.dateIncrement);\n        return this.build(nextDate, 1, forceToValid);\n    };\n    // Builds a structure holding dates/ranges for rendering around the given date.\n    // Optional direction param indicates whether the date is being incremented/decremented\n    // from its previous value. decremented = -1, incremented = 1 (default).\n    DateProfileGenerator.prototype.build = function (currentDate, direction, forceToValid) {\n        if (forceToValid === void 0) { forceToValid = true; }\n        var props = this.props;\n        var validRange;\n        var currentInfo;\n        var isRangeAllDay;\n        var renderRange;\n        var activeRange;\n        var isValid;\n        validRange = this.buildValidRange();\n        validRange = this.trimHiddenDays(validRange);\n        if (forceToValid) {\n            currentDate = constrainMarkerToRange(currentDate, validRange);\n        }\n        currentInfo = this.buildCurrentRangeInfo(currentDate, direction);\n        isRangeAllDay = /^(year|month|week|day)$/.test(currentInfo.unit);\n        renderRange = this.buildRenderRange(this.trimHiddenDays(currentInfo.range), currentInfo.unit, isRangeAllDay);\n        renderRange = this.trimHiddenDays(renderRange);\n        activeRange = renderRange;\n        if (!props.showNonCurrentDates) {\n            activeRange = intersectRanges(activeRange, currentInfo.range);\n        }\n        activeRange = this.adjustActiveRange(activeRange);\n        activeRange = intersectRanges(activeRange, validRange); // might return null\n        // it's invalid if the originally requested date is not contained,\n        // or if the range is completely outside of the valid range.\n        isValid = rangesIntersect(currentInfo.range, validRange);\n        return {\n            // constraint for where prev/next operations can go and where events can be dragged/resized to.\n            // an object with optional start and end properties.\n            validRange: validRange,\n            // range the view is formally responsible for.\n            // for example, a month view might have 1st-31st, excluding padded dates\n            currentRange: currentInfo.range,\n            // name of largest unit being displayed, like \"month\" or \"week\"\n            currentRangeUnit: currentInfo.unit,\n            isRangeAllDay: isRangeAllDay,\n            // dates that display events and accept drag-n-drop\n            // will be `null` if no dates accept events\n            activeRange: activeRange,\n            // date range with a rendered skeleton\n            // includes not-active days that need some sort of DOM\n            renderRange: renderRange,\n            // Duration object that denotes the first visible time of any given day\n            slotMinTime: props.slotMinTime,\n            // Duration object that denotes the exclusive visible end time of any given day\n            slotMaxTime: props.slotMaxTime,\n            isValid: isValid,\n            // how far the current date will move for a prev/next operation\n            dateIncrement: this.buildDateIncrement(currentInfo.duration),\n            // pass a fallback (might be null) ^\n        };\n    };\n    // Builds an object with optional start/end properties.\n    // Indicates the minimum/maximum dates to display.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildValidRange = function () {\n        var input = this.props.validRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(this.props.calendarApi, this.nowDate)\n            : input;\n        return this.refineRange(simpleInput) ||\n            { start: null, end: null }; // completely open-ended\n    };\n    // Builds a structure with info about the \"current\" range, the range that is\n    // highlighted as being the current month for example.\n    // See build() for a description of `direction`.\n    // Guaranteed to have `range` and `unit` properties. `duration` is optional.\n    DateProfileGenerator.prototype.buildCurrentRangeInfo = function (date, direction) {\n        var props = this.props;\n        var duration = null;\n        var unit = null;\n        var range = null;\n        var dayCount;\n        if (props.duration) {\n            duration = props.duration;\n            unit = props.durationUnit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        else if ((dayCount = this.props.dayCount)) {\n            unit = 'day';\n            range = this.buildRangeFromDayCount(date, direction, dayCount);\n        }\n        else if ((range = this.buildCustomVisibleRange(date))) {\n            unit = props.dateEnv.greatestWholeUnit(range.start, range.end).unit;\n        }\n        else {\n            duration = this.getFallbackDuration();\n            unit = greatestDurationDenominator(duration).unit;\n            range = this.buildRangeFromDuration(date, direction, duration, unit);\n        }\n        return { duration: duration, unit: unit, range: range };\n    };\n    DateProfileGenerator.prototype.getFallbackDuration = function () {\n        return createDuration({ day: 1 });\n    };\n    // Returns a new activeRange to have time values (un-ambiguate)\n    // slotMinTime or slotMaxTime causes the range to expand.\n    DateProfileGenerator.prototype.adjustActiveRange = function (range) {\n        var _a = this.props, dateEnv = _a.dateEnv, usesMinMaxTime = _a.usesMinMaxTime, slotMinTime = _a.slotMinTime, slotMaxTime = _a.slotMaxTime;\n        var start = range.start, end = range.end;\n        if (usesMinMaxTime) {\n            // expand active range if slotMinTime is negative (why not when positive?)\n            if (asRoughDays(slotMinTime) < 0) {\n                start = startOfDay(start); // necessary?\n                start = dateEnv.add(start, slotMinTime);\n            }\n            // expand active range if slotMaxTime is beyond one day (why not when negative?)\n            if (asRoughDays(slotMaxTime) > 1) {\n                end = startOfDay(end); // necessary?\n                end = addDays(end, -1);\n                end = dateEnv.add(end, slotMaxTime);\n            }\n        }\n        return { start: start, end: end };\n    };\n    // Builds the \"current\" range when it is specified as an explicit duration.\n    // `unit` is the already-computed greatestDurationDenominator unit of duration.\n    DateProfileGenerator.prototype.buildRangeFromDuration = function (date, direction, duration, unit) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var start;\n        var end;\n        var res;\n        // compute what the alignment should be\n        if (!dateAlignment) {\n            var dateIncrement = this.props.dateIncrement;\n            if (dateIncrement) {\n                // use the smaller of the two units\n                if (asRoughMs(dateIncrement) < asRoughMs(duration)) {\n                    dateAlignment = greatestDurationDenominator(dateIncrement).unit;\n                }\n                else {\n                    dateAlignment = unit;\n                }\n            }\n            else {\n                dateAlignment = unit;\n            }\n        }\n        // if the view displays a single day or smaller\n        if (asRoughDays(duration) <= 1) {\n            if (this.isHiddenDay(start)) {\n                start = this.skipHiddenDays(start, direction);\n                start = startOfDay(start);\n            }\n        }\n        function computeRes() {\n            start = dateEnv.startOf(date, dateAlignment);\n            end = dateEnv.add(start, duration);\n            res = { start: start, end: end };\n        }\n        computeRes();\n        // if range is completely enveloped by hidden days, go past the hidden days\n        if (!this.trimHiddenDays(res)) {\n            date = this.skipHiddenDays(date, direction);\n            computeRes();\n        }\n        return res;\n    };\n    // Builds the \"current\" range when a dayCount is specified.\n    DateProfileGenerator.prototype.buildRangeFromDayCount = function (date, direction, dayCount) {\n        var _a = this.props, dateEnv = _a.dateEnv, dateAlignment = _a.dateAlignment;\n        var runningCount = 0;\n        var start = date;\n        var end;\n        if (dateAlignment) {\n            start = dateEnv.startOf(start, dateAlignment);\n        }\n        start = startOfDay(start);\n        start = this.skipHiddenDays(start, direction);\n        end = start;\n        do {\n            end = addDays(end, 1);\n            if (!this.isHiddenDay(end)) {\n                runningCount += 1;\n            }\n        } while (runningCount < dayCount);\n        return { start: start, end: end };\n    };\n    // Builds a normalized range object for the \"visible\" range,\n    // which is a way to define the currentRange and activeRange at the same time.\n    DateProfileGenerator.prototype.buildCustomVisibleRange = function (date) {\n        var props = this.props;\n        var input = props.visibleRangeInput;\n        var simpleInput = typeof input === 'function'\n            ? input.call(props.calendarApi, props.dateEnv.toDate(date))\n            : input;\n        var range = this.refineRange(simpleInput);\n        if (range && (range.start == null || range.end == null)) {\n            return null;\n        }\n        return range;\n    };\n    // Computes the range that will represent the element/cells for *rendering*,\n    // but which may have voided days/times.\n    // not responsible for trimming hidden days.\n    DateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        return currentRange;\n    };\n    // Compute the duration value that should be added/substracted to the current date\n    // when a prev/next operation happens.\n    DateProfileGenerator.prototype.buildDateIncrement = function (fallback) {\n        var dateIncrement = this.props.dateIncrement;\n        var customAlignment;\n        if (dateIncrement) {\n            return dateIncrement;\n        }\n        if ((customAlignment = this.props.dateAlignment)) {\n            return createDuration(1, customAlignment);\n        }\n        if (fallback) {\n            return fallback;\n        }\n        return createDuration({ days: 1 });\n    };\n    DateProfileGenerator.prototype.refineRange = function (rangeInput) {\n        if (rangeInput) {\n            var range = parseRange(rangeInput, this.props.dateEnv);\n            if (range) {\n                range = computeVisibleDayRange(range);\n            }\n            return range;\n        }\n        return null;\n    };\n    /* Hidden Days\n    ------------------------------------------------------------------------------------------------------------------*/\n    // Initializes internal variables related to calculating hidden days-of-week\n    DateProfileGenerator.prototype.initHiddenDays = function () {\n        var hiddenDays = this.props.hiddenDays || []; // array of day-of-week indices that are hidden\n        var isHiddenDayHash = []; // is the day-of-week hidden? (hash with day-of-week-index -> bool)\n        var dayCnt = 0;\n        var i;\n        if (this.props.weekends === false) {\n            hiddenDays.push(0, 6); // 0=sunday, 6=saturday\n        }\n        for (i = 0; i < 7; i += 1) {\n            if (!(isHiddenDayHash[i] = hiddenDays.indexOf(i) !== -1)) {\n                dayCnt += 1;\n            }\n        }\n        if (!dayCnt) {\n            throw new Error('invalid hiddenDays'); // all days were hidden? bad.\n        }\n        this.isHiddenDayHash = isHiddenDayHash;\n    };\n    // Remove days from the beginning and end of the range that are computed as hidden.\n    // If the whole range is trimmed off, returns null\n    DateProfileGenerator.prototype.trimHiddenDays = function (range) {\n        var start = range.start, end = range.end;\n        if (start) {\n            start = this.skipHiddenDays(start);\n        }\n        if (end) {\n            end = this.skipHiddenDays(end, -1, true);\n        }\n        if (start == null || end == null || start < end) {\n            return { start: start, end: end };\n        }\n        return null;\n    };\n    // Is the current day hidden?\n    // `day` is a day-of-week index (0-6), or a Date (used for UTC)\n    DateProfileGenerator.prototype.isHiddenDay = function (day) {\n        if (day instanceof Date) {\n            day = day.getUTCDay();\n        }\n        return this.isHiddenDayHash[day];\n    };\n    // Incrementing the current day until it is no longer a hidden day, returning a copy.\n    // DOES NOT CONSIDER validRange!\n    // If the initial value of `date` is not a hidden day, don't do anything.\n    // Pass `isExclusive` as `true` if you are dealing with an end date.\n    // `inc` defaults to `1` (increment one day forward each time)\n    DateProfileGenerator.prototype.skipHiddenDays = function (date, inc, isExclusive) {\n        if (inc === void 0) { inc = 1; }\n        if (isExclusive === void 0) { isExclusive = false; }\n        while (this.isHiddenDayHash[(date.getUTCDay() + (isExclusive ? inc : 0) + 7) % 7]) {\n            date = addDays(date, inc);\n        }\n        return date;\n    };\n    return DateProfileGenerator;\n}());\n\nfunction reduceViewType(viewType, action) {\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            viewType = action.viewType;\n    }\n    return viewType;\n}\n\nfunction reduceDynamicOptionOverrides(dynamicOptionOverrides, action) {\n    var _a;\n    switch (action.type) {\n        case 'SET_OPTION':\n            return __assign(__assign({}, dynamicOptionOverrides), (_a = {}, _a[action.optionName] = action.rawOptionValue, _a));\n        default:\n            return dynamicOptionOverrides;\n    }\n}\n\nfunction reduceDateProfile(currentDateProfile, action, currentDate, dateProfileGenerator) {\n    var dp;\n    switch (action.type) {\n        case 'CHANGE_VIEW_TYPE':\n            return dateProfileGenerator.build(action.dateMarker || currentDate);\n        case 'CHANGE_DATE':\n            return dateProfileGenerator.build(action.dateMarker);\n        case 'PREV':\n            dp = dateProfileGenerator.buildPrev(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n        case 'NEXT':\n            dp = dateProfileGenerator.buildNext(currentDateProfile, currentDate);\n            if (dp.isValid) {\n                return dp;\n            }\n            break;\n    }\n    return currentDateProfile;\n}\n\nfunction initEventSources(calendarOptions, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null;\n    return addSources({}, parseInitialSources(calendarOptions, context), activeRange, context);\n}\nfunction reduceEventSources(eventSources, action, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    switch (action.type) {\n        case 'ADD_EVENT_SOURCES': // already parsed\n            return addSources(eventSources, action.sources, activeRange, context);\n        case 'REMOVE_EVENT_SOURCE':\n            return removeSource(eventSources, action.sourceId);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return fetchDirtySources(eventSources, activeRange, context);\n            }\n            return eventSources;\n        case 'FETCH_EVENT_SOURCES':\n            return fetchSourcesByIds(eventSources, action.sourceIds ? // why no type?\n                arrayToHash(action.sourceIds) :\n                excludeStaticSources(eventSources, context), activeRange, action.isRefetch || false, context);\n        case 'RECEIVE_EVENTS':\n        case 'RECEIVE_EVENT_ERROR':\n            return receiveResponse(eventSources, action.sourceId, action.fetchId, action.fetchRange);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return {};\n        default:\n            return eventSources;\n    }\n}\nfunction reduceEventSourcesNewTimeZone(eventSources, dateProfile, context) {\n    var activeRange = dateProfile ? dateProfile.activeRange : null; // need this check?\n    return fetchSourcesByIds(eventSources, excludeStaticSources(eventSources, context), activeRange, true, context);\n}\nfunction computeEventSourcesLoading(eventSources) {\n    for (var sourceId in eventSources) {\n        if (eventSources[sourceId].isFetching) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction addSources(eventSourceHash, sources, fetchRange, context) {\n    var hash = {};\n    for (var _i = 0, sources_1 = sources; _i < sources_1.length; _i++) {\n        var source = sources_1[_i];\n        hash[source.sourceId] = source;\n    }\n    if (fetchRange) {\n        hash = fetchDirtySources(hash, fetchRange, context);\n    }\n    return __assign(__assign({}, eventSourceHash), hash);\n}\nfunction removeSource(eventSourceHash, sourceId) {\n    return filterHash(eventSourceHash, function (eventSource) { return eventSource.sourceId !== sourceId; });\n}\nfunction fetchDirtySources(sourceHash, fetchRange, context) {\n    return fetchSourcesByIds(sourceHash, filterHash(sourceHash, function (eventSource) { return isSourceDirty(eventSource, fetchRange, context); }), fetchRange, false, context);\n}\nfunction isSourceDirty(eventSource, fetchRange, context) {\n    if (!doesSourceNeedRange(eventSource, context)) {\n        return !eventSource.latestFetchId;\n    }\n    return !context.options.lazyFetching ||\n        !eventSource.fetchRange ||\n        eventSource.isFetching || // always cancel outdated in-progress fetches\n        fetchRange.start < eventSource.fetchRange.start ||\n        fetchRange.end > eventSource.fetchRange.end;\n}\nfunction fetchSourcesByIds(prevSources, sourceIdHash, fetchRange, isRefetch, context) {\n    var nextSources = {};\n    for (var sourceId in prevSources) {\n        var source = prevSources[sourceId];\n        if (sourceIdHash[sourceId]) {\n            nextSources[sourceId] = fetchSource(source, fetchRange, isRefetch, context);\n        }\n        else {\n            nextSources[sourceId] = source;\n        }\n    }\n    return nextSources;\n}\nfunction fetchSource(eventSource, fetchRange, isRefetch, context) {\n    var options = context.options, calendarApi = context.calendarApi;\n    var sourceDef = context.pluginHooks.eventSourceDefs[eventSource.sourceDefId];\n    var fetchId = guid();\n    sourceDef.fetch({\n        eventSource: eventSource,\n        range: fetchRange,\n        isRefetch: isRefetch,\n        context: context,\n    }, function (res) {\n        var rawEvents = res.rawEvents;\n        if (options.eventSourceSuccess) {\n            rawEvents = options.eventSourceSuccess.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        if (eventSource.success) {\n            rawEvents = eventSource.success.call(calendarApi, rawEvents, res.xhr) || rawEvents;\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENTS',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            rawEvents: rawEvents,\n        });\n    }, function (error) {\n        console.warn(error.message, error);\n        if (options.eventSourceFailure) {\n            options.eventSourceFailure.call(calendarApi, error);\n        }\n        if (eventSource.failure) {\n            eventSource.failure(error);\n        }\n        context.dispatch({\n            type: 'RECEIVE_EVENT_ERROR',\n            sourceId: eventSource.sourceId,\n            fetchId: fetchId,\n            fetchRange: fetchRange,\n            error: error,\n        });\n    });\n    return __assign(__assign({}, eventSource), { isFetching: true, latestFetchId: fetchId });\n}\nfunction receiveResponse(sourceHash, sourceId, fetchId, fetchRange) {\n    var _a;\n    var eventSource = sourceHash[sourceId];\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId) {\n        return __assign(__assign({}, sourceHash), (_a = {}, _a[sourceId] = __assign(__assign({}, eventSource), { isFetching: false, fetchRange: fetchRange }), _a));\n    }\n    return sourceHash;\n}\nfunction excludeStaticSources(eventSources, context) {\n    return filterHash(eventSources, function (eventSource) { return doesSourceNeedRange(eventSource, context); });\n}\nfunction parseInitialSources(rawOptions, context) {\n    var refiners = buildEventSourceRefiners(context);\n    var rawSources = [].concat(rawOptions.eventSources || []);\n    var sources = []; // parsed\n    if (rawOptions.initialEvents) {\n        rawSources.unshift(rawOptions.initialEvents);\n    }\n    if (rawOptions.events) {\n        rawSources.unshift(rawOptions.events);\n    }\n    for (var _i = 0, rawSources_1 = rawSources; _i < rawSources_1.length; _i++) {\n        var rawSource = rawSources_1[_i];\n        var source = parseEventSource(rawSource, context, refiners);\n        if (source) {\n            sources.push(source);\n        }\n    }\n    return sources;\n}\nfunction doesSourceNeedRange(eventSource, context) {\n    var defs = context.pluginHooks.eventSourceDefs;\n    return !defs[eventSource.sourceDefId].ignoreRange;\n}\n\nfunction reduceEventStore(eventStore, action, eventSources, dateProfile, context) {\n    switch (action.type) {\n        case 'RECEIVE_EVENTS': // raw\n            return receiveRawEvents(eventStore, eventSources[action.sourceId], action.fetchId, action.fetchRange, action.rawEvents, context);\n        case 'ADD_EVENTS': // already parsed, but not expanded\n            return addEvent(eventStore, action.eventStore, // new ones\n            dateProfile ? dateProfile.activeRange : null, context);\n        case 'RESET_EVENTS':\n            return action.eventStore;\n        case 'MERGE_EVENTS': // already parsed and expanded\n            return mergeEventStores(eventStore, action.eventStore);\n        case 'PREV': // TODO: how do we track all actions that affect dateProfile :(\n        case 'NEXT':\n        case 'CHANGE_DATE':\n        case 'CHANGE_VIEW_TYPE':\n            if (dateProfile) {\n                return expandRecurring(eventStore, dateProfile.activeRange, context);\n            }\n            return eventStore;\n        case 'REMOVE_EVENTS':\n            return excludeSubEventStore(eventStore, action.eventStore);\n        case 'REMOVE_EVENT_SOURCE':\n            return excludeEventsBySourceId(eventStore, action.sourceId);\n        case 'REMOVE_ALL_EVENT_SOURCES':\n            return filterEventStoreDefs(eventStore, function (eventDef) { return (!eventDef.sourceId // only keep events with no source id\n            ); });\n        case 'REMOVE_ALL_EVENTS':\n            return createEmptyEventStore();\n        default:\n            return eventStore;\n    }\n}\nfunction receiveRawEvents(eventStore, eventSource, fetchId, fetchRange, rawEvents, context) {\n    if (eventSource && // not already removed\n        fetchId === eventSource.latestFetchId // TODO: wish this logic was always in event-sources\n    ) {\n        var subset = parseEvents(transformRawEvents(rawEvents, eventSource, context), eventSource, context);\n        if (fetchRange) {\n            subset = expandRecurring(subset, fetchRange, context);\n        }\n        return mergeEventStores(excludeEventsBySourceId(eventStore, eventSource.sourceId), subset);\n    }\n    return eventStore;\n}\nfunction transformRawEvents(rawEvents, eventSource, context) {\n    var calEachTransform = context.options.eventDataTransform;\n    var sourceEachTransform = eventSource ? eventSource.eventDataTransform : null;\n    if (sourceEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, sourceEachTransform);\n    }\n    if (calEachTransform) {\n        rawEvents = transformEachRawEvent(rawEvents, calEachTransform);\n    }\n    return rawEvents;\n}\nfunction transformEachRawEvent(rawEvents, func) {\n    var refinedEvents;\n    if (!func) {\n        refinedEvents = rawEvents;\n    }\n    else {\n        refinedEvents = [];\n        for (var _i = 0, rawEvents_1 = rawEvents; _i < rawEvents_1.length; _i++) {\n            var rawEvent = rawEvents_1[_i];\n            var refinedEvent = func(rawEvent);\n            if (refinedEvent) {\n                refinedEvents.push(refinedEvent);\n            }\n            else if (refinedEvent == null) {\n                refinedEvents.push(rawEvent);\n            } // if a different falsy value, do nothing\n        }\n    }\n    return refinedEvents;\n}\nfunction addEvent(eventStore, subset, expandRange, context) {\n    if (expandRange) {\n        subset = expandRecurring(subset, expandRange, context);\n    }\n    return mergeEventStores(eventStore, subset);\n}\nfunction rezoneEventStoreDates(eventStore, oldDateEnv, newDateEnv) {\n    var defs = eventStore.defs;\n    var instances = mapHash(eventStore.instances, function (instance) {\n        var def = defs[instance.defId];\n        if (def.allDay || def.recurringDef) {\n            return instance; // isn't dependent on timezone\n        }\n        return __assign(__assign({}, instance), { range: {\n                start: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.start, instance.forcedStartTzo)),\n                end: newDateEnv.createMarker(oldDateEnv.toDate(instance.range.end, instance.forcedEndTzo)),\n            }, forcedStartTzo: newDateEnv.canComputeOffset ? null : instance.forcedStartTzo, forcedEndTzo: newDateEnv.canComputeOffset ? null : instance.forcedEndTzo });\n    });\n    return { defs: defs, instances: instances };\n}\nfunction excludeEventsBySourceId(eventStore, sourceId) {\n    return filterEventStoreDefs(eventStore, function (eventDef) { return eventDef.sourceId !== sourceId; });\n}\n// QUESTION: why not just return instances? do a general object-property-exclusion util\nfunction excludeInstances(eventStore, removals) {\n    return {\n        defs: eventStore.defs,\n        instances: filterHash(eventStore.instances, function (instance) { return !removals[instance.instanceId]; }),\n    };\n}\n\nfunction reduceDateSelection(currentSelection, action) {\n    switch (action.type) {\n        case 'UNSELECT_DATES':\n            return null;\n        case 'SELECT_DATES':\n            return action.selection;\n        default:\n            return currentSelection;\n    }\n}\n\nfunction reduceSelectedEvent(currentInstanceId, action) {\n    switch (action.type) {\n        case 'UNSELECT_EVENT':\n            return '';\n        case 'SELECT_EVENT':\n            return action.eventInstanceId;\n        default:\n            return currentInstanceId;\n    }\n}\n\nfunction reduceEventDrag(currentDrag, action) {\n    var newDrag;\n    switch (action.type) {\n        case 'UNSET_EVENT_DRAG':\n            return null;\n        case 'SET_EVENT_DRAG':\n            newDrag = action.state;\n            return {\n                affectedEvents: newDrag.affectedEvents,\n                mutatedEvents: newDrag.mutatedEvents,\n                isEvent: newDrag.isEvent,\n            };\n        default:\n            return currentDrag;\n    }\n}\n\nfunction reduceEventResize(currentResize, action) {\n    var newResize;\n    switch (action.type) {\n        case 'UNSET_EVENT_RESIZE':\n            return null;\n        case 'SET_EVENT_RESIZE':\n            newResize = action.state;\n            return {\n                affectedEvents: newResize.affectedEvents,\n                mutatedEvents: newResize.mutatedEvents,\n                isEvent: newResize.isEvent,\n            };\n        default:\n            return currentResize;\n    }\n}\n\nfunction parseToolbars(calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi) {\n    var viewsWithButtons = [];\n    var headerToolbar = calendarOptions.headerToolbar ? parseToolbar(calendarOptions.headerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    var footerToolbar = calendarOptions.footerToolbar ? parseToolbar(calendarOptions.footerToolbar, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) : null;\n    return { headerToolbar: headerToolbar, footerToolbar: footerToolbar, viewsWithButtons: viewsWithButtons };\n}\nfunction parseToolbar(sectionStrHash, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    return mapHash(sectionStrHash, function (sectionStr) { return parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons); });\n}\n/*\nBAD: querying icons and text here. should be done at render time\n*/\nfunction parseSection(sectionStr, calendarOptions, calendarOptionOverrides, theme, viewSpecs, calendarApi, viewsWithButtons) {\n    var isRtl = calendarOptions.direction === 'rtl';\n    var calendarCustomButtons = calendarOptions.customButtons || {};\n    var calendarButtonTextOverrides = calendarOptionOverrides.buttonText || {};\n    var calendarButtonText = calendarOptions.buttonText || {};\n    var sectionSubstrs = sectionStr ? sectionStr.split(' ') : [];\n    return sectionSubstrs.map(function (buttonGroupStr) { return (buttonGroupStr.split(',').map(function (buttonName) {\n        if (buttonName === 'title') {\n            return { buttonName: buttonName };\n        }\n        var customButtonProps;\n        var viewSpec;\n        var buttonClick;\n        var buttonIcon; // only one of these will be set\n        var buttonText; // \"\n        if ((customButtonProps = calendarCustomButtons[buttonName])) {\n            buttonClick = function (ev) {\n                if (customButtonProps.click) {\n                    customButtonProps.click.call(ev.target, ev, ev.target); // TODO: use Calendar this context?\n                }\n            };\n            (buttonIcon = theme.getCustomButtonIconClass(customButtonProps)) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = customButtonProps.text);\n        }\n        else if ((viewSpec = viewSpecs[buttonName])) {\n            viewsWithButtons.push(buttonName);\n            buttonClick = function () {\n                calendarApi.changeView(buttonName);\n            };\n            (buttonText = viewSpec.buttonTextOverride) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = viewSpec.buttonTextDefault);\n        }\n        else if (calendarApi[buttonName]) { // a calendarApi method\n            buttonClick = function () {\n                calendarApi[buttonName]();\n            };\n            (buttonText = calendarButtonTextOverrides[buttonName]) ||\n                (buttonIcon = theme.getIconClass(buttonName, isRtl)) ||\n                (buttonText = calendarButtonText[buttonName]);\n            //            ^ everything else is considered default\n        }\n        return { buttonName: buttonName, buttonClick: buttonClick, buttonIcon: buttonIcon, buttonText: buttonText };\n    })); });\n}\n\nvar eventSourceDef$2 = {\n    ignoreRange: true,\n    parseMeta: function (refined) {\n        if (Array.isArray(refined.events)) {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success) {\n        success({\n            rawEvents: arg.eventSource.meta,\n        });\n    },\n};\nvar arrayEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$2],\n});\n\nvar eventSourceDef$1 = {\n    parseMeta: function (refined) {\n        if (typeof refined.events === 'function') {\n            return refined.events;\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var dateEnv = arg.context.dateEnv;\n        var func = arg.eventSource.meta;\n        unpromisify(func.bind(null, buildRangeApiWithTimeZone(arg.range, dateEnv)), function (rawEvents) {\n            success({ rawEvents: rawEvents }); // needs an object response\n        }, failure);\n    },\n};\nvar funcEventSourcePlugin = createPlugin({\n    eventSourceDefs: [eventSourceDef$1],\n});\n\nfunction requestJson(method, url, params, successCallback, failureCallback) {\n    method = method.toUpperCase();\n    var body = null;\n    if (method === 'GET') {\n        url = injectQueryStringParams(url, params);\n    }\n    else {\n        body = encodeParams(params);\n    }\n    var xhr = new XMLHttpRequest();\n    xhr.open(method, url, true);\n    if (method !== 'GET') {\n        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n    }\n    xhr.onload = function () {\n        if (xhr.status >= 200 && xhr.status < 400) {\n            var parsed = false;\n            var res = void 0;\n            try {\n                res = JSON.parse(xhr.responseText);\n                parsed = true;\n            }\n            catch (err) {\n                // will handle parsed=false\n            }\n            if (parsed) {\n                successCallback(res, xhr);\n            }\n            else {\n                failureCallback('Failure parsing JSON', xhr);\n            }\n        }\n        else {\n            failureCallback('Request failed', xhr);\n        }\n    };\n    xhr.onerror = function () {\n        failureCallback('Request failed', xhr);\n    };\n    xhr.send(body);\n}\nfunction injectQueryStringParams(url, params) {\n    return url +\n        (url.indexOf('?') === -1 ? '?' : '&') +\n        encodeParams(params);\n}\nfunction encodeParams(params) {\n    var parts = [];\n    for (var key in params) {\n        parts.push(encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key]));\n    }\n    return parts.join('&');\n}\n\nvar JSON_FEED_EVENT_SOURCE_REFINERS = {\n    method: String,\n    extraParams: identity,\n    startParam: String,\n    endParam: String,\n    timeZoneParam: String,\n};\n\nvar eventSourceDef = {\n    parseMeta: function (refined) {\n        if (refined.url && (refined.format === 'json' || !refined.format)) {\n            return {\n                url: refined.url,\n                format: 'json',\n                method: (refined.method || 'GET').toUpperCase(),\n                extraParams: refined.extraParams,\n                startParam: refined.startParam,\n                endParam: refined.endParam,\n                timeZoneParam: refined.timeZoneParam,\n            };\n        }\n        return null;\n    },\n    fetch: function (arg, success, failure) {\n        var meta = arg.eventSource.meta;\n        var requestParams = buildRequestParams(meta, arg.range, arg.context);\n        requestJson(meta.method, meta.url, requestParams, function (rawEvents, xhr) {\n            success({ rawEvents: rawEvents, xhr: xhr });\n        }, function (errorMessage, xhr) {\n            failure({ message: errorMessage, xhr: xhr });\n        });\n    },\n};\nvar jsonFeedEventSourcePlugin = createPlugin({\n    eventSourceRefiners: JSON_FEED_EVENT_SOURCE_REFINERS,\n    eventSourceDefs: [eventSourceDef],\n});\nfunction buildRequestParams(meta, range, context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var startParam;\n    var endParam;\n    var timeZoneParam;\n    var customRequestParams;\n    var params = {};\n    startParam = meta.startParam;\n    if (startParam == null) {\n        startParam = options.startParam;\n    }\n    endParam = meta.endParam;\n    if (endParam == null) {\n        endParam = options.endParam;\n    }\n    timeZoneParam = meta.timeZoneParam;\n    if (timeZoneParam == null) {\n        timeZoneParam = options.timeZoneParam;\n    }\n    // retrieve any outbound GET/POST data from the options\n    if (typeof meta.extraParams === 'function') {\n        // supplied as a function that returns a key/value object\n        customRequestParams = meta.extraParams();\n    }\n    else {\n        // probably supplied as a straight key/value object\n        customRequestParams = meta.extraParams || {};\n    }\n    __assign(params, customRequestParams);\n    params[startParam] = dateEnv.formatIso(range.start);\n    params[endParam] = dateEnv.formatIso(range.end);\n    if (dateEnv.timeZone !== 'local') {\n        params[timeZoneParam] = dateEnv.timeZone;\n    }\n    return params;\n}\n\nvar SIMPLE_RECURRING_REFINERS = {\n    daysOfWeek: identity,\n    startTime: createDuration,\n    endTime: createDuration,\n    duration: createDuration,\n    startRecur: identity,\n    endRecur: identity,\n};\n\nvar recurring = {\n    parse: function (refined, dateEnv) {\n        if (refined.daysOfWeek || refined.startTime || refined.endTime || refined.startRecur || refined.endRecur) {\n            var recurringData = {\n                daysOfWeek: refined.daysOfWeek || null,\n                startTime: refined.startTime || null,\n                endTime: refined.endTime || null,\n                startRecur: refined.startRecur ? dateEnv.createMarker(refined.startRecur) : null,\n                endRecur: refined.endRecur ? dateEnv.createMarker(refined.endRecur) : null,\n            };\n            var duration = void 0;\n            if (refined.duration) {\n                duration = refined.duration;\n            }\n            if (!duration && refined.startTime && refined.endTime) {\n                duration = subtractDurations(refined.endTime, refined.startTime);\n            }\n            return {\n                allDayGuess: Boolean(!refined.startTime && !refined.endTime),\n                duration: duration,\n                typeData: recurringData, // doesn't need endTime anymore but oh well\n            };\n        }\n        return null;\n    },\n    expand: function (typeData, framingRange, dateEnv) {\n        var clippedFramingRange = intersectRanges(framingRange, { start: typeData.startRecur, end: typeData.endRecur });\n        if (clippedFramingRange) {\n            return expandRanges(typeData.daysOfWeek, typeData.startTime, clippedFramingRange, dateEnv);\n        }\n        return [];\n    },\n};\nvar simpleRecurringEventsPlugin = createPlugin({\n    recurringTypes: [recurring],\n    eventRefiners: SIMPLE_RECURRING_REFINERS,\n});\nfunction expandRanges(daysOfWeek, startTime, framingRange, dateEnv) {\n    var dowHash = daysOfWeek ? arrayToHash(daysOfWeek) : null;\n    var dayMarker = startOfDay(framingRange.start);\n    var endMarker = framingRange.end;\n    var instanceStarts = [];\n    while (dayMarker < endMarker) {\n        var instanceStart \n        // if everyday, or this particular day-of-week\n        = void 0;\n        // if everyday, or this particular day-of-week\n        if (!dowHash || dowHash[dayMarker.getUTCDay()]) {\n            if (startTime) {\n                instanceStart = dateEnv.add(dayMarker, startTime);\n            }\n            else {\n                instanceStart = dayMarker;\n            }\n            instanceStarts.push(instanceStart);\n        }\n        dayMarker = addDays(dayMarker, 1);\n    }\n    return instanceStarts;\n}\n\nvar changeHandlerPlugin = createPlugin({\n    optionChangeHandlers: {\n        events: function (events, context) {\n            handleEventSources([events], context);\n        },\n        eventSources: handleEventSources,\n    },\n});\n/*\nBUG: if `event` was supplied, all previously-given `eventSources` will be wiped out\n*/\nfunction handleEventSources(inputs, context) {\n    var unfoundSources = hashValuesToArray(context.getCurrentData().eventSources);\n    var newInputs = [];\n    for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n        var input = inputs_1[_i];\n        var inputFound = false;\n        for (var i = 0; i < unfoundSources.length; i += 1) {\n            if (unfoundSources[i]._raw === input) {\n                unfoundSources.splice(i, 1); // delete\n                inputFound = true;\n                break;\n            }\n        }\n        if (!inputFound) {\n            newInputs.push(input);\n        }\n    }\n    for (var _a = 0, unfoundSources_1 = unfoundSources; _a < unfoundSources_1.length; _a++) {\n        var unfoundSource = unfoundSources_1[_a];\n        context.dispatch({\n            type: 'REMOVE_EVENT_SOURCE',\n            sourceId: unfoundSource.sourceId,\n        });\n    }\n    for (var _b = 0, newInputs_1 = newInputs; _b < newInputs_1.length; _b++) {\n        var newInput = newInputs_1[_b];\n        context.calendarApi.addEventSource(newInput);\n    }\n}\n\nfunction handleDateProfile(dateProfile, context) {\n    context.emitter.trigger('datesSet', __assign(__assign({}, buildRangeApiWithTimeZone(dateProfile.activeRange, context.dateEnv)), { view: context.viewApi }));\n}\n\nfunction handleEventStore(eventStore, context) {\n    var emitter = context.emitter;\n    if (emitter.hasHandlers('eventsSet')) {\n        emitter.trigger('eventsSet', buildEventApis(eventStore, context));\n    }\n}\n\n/*\nthis array is exposed on the root namespace so that UMD plugins can add to it.\nsee the rollup-bundles script.\n*/\nvar globalPlugins = [\n    arrayEventSourcePlugin,\n    funcEventSourcePlugin,\n    jsonFeedEventSourcePlugin,\n    simpleRecurringEventsPlugin,\n    changeHandlerPlugin,\n    createPlugin({\n        isLoadingFuncs: [\n            function (state) { return computeEventSourcesLoading(state.eventSources); },\n        ],\n        contentTypeHandlers: {\n            html: function () { return ({ render: injectHtml }); },\n            domNodes: function () { return ({ render: injectDomNodes }); },\n        },\n        propSetHandlers: {\n            dateProfile: handleDateProfile,\n            eventStore: handleEventStore,\n        },\n    }),\n];\nfunction injectHtml(el, html) {\n    el.innerHTML = html;\n}\nfunction injectDomNodes(el, domNodes) {\n    var oldNodes = Array.prototype.slice.call(el.childNodes); // TODO: use array util\n    var newNodes = Array.prototype.slice.call(domNodes); // TODO: use array util\n    if (!isArraysEqual(oldNodes, newNodes)) {\n        for (var _i = 0, newNodes_1 = newNodes; _i < newNodes_1.length; _i++) {\n            var newNode = newNodes_1[_i];\n            el.appendChild(newNode);\n        }\n        oldNodes.forEach(removeElement);\n    }\n}\n\nvar DelayedRunner = /** @class */ (function () {\n    function DelayedRunner(drainedOption) {\n        this.drainedOption = drainedOption;\n        this.isRunning = false;\n        this.isDirty = false;\n        this.pauseDepths = {};\n        this.timeoutId = 0;\n    }\n    DelayedRunner.prototype.request = function (delay) {\n        this.isDirty = true;\n        if (!this.isPaused()) {\n            this.clearTimeout();\n            if (delay == null) {\n                this.tryDrain();\n            }\n            else {\n                this.timeoutId = setTimeout(// NOT OPTIMAL! TODO: look at debounce\n                this.tryDrain.bind(this), delay);\n            }\n        }\n    };\n    DelayedRunner.prototype.pause = function (scope) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        pauseDepths[scope] = (pauseDepths[scope] || 0) + 1;\n        this.clearTimeout();\n    };\n    DelayedRunner.prototype.resume = function (scope, force) {\n        if (scope === void 0) { scope = ''; }\n        var pauseDepths = this.pauseDepths;\n        if (scope in pauseDepths) {\n            if (force) {\n                delete pauseDepths[scope];\n            }\n            else {\n                pauseDepths[scope] -= 1;\n                var depth = pauseDepths[scope];\n                if (depth <= 0) {\n                    delete pauseDepths[scope];\n                }\n            }\n            this.tryDrain();\n        }\n    };\n    DelayedRunner.prototype.isPaused = function () {\n        return Object.keys(this.pauseDepths).length;\n    };\n    DelayedRunner.prototype.tryDrain = function () {\n        if (!this.isRunning && !this.isPaused()) {\n            this.isRunning = true;\n            while (this.isDirty) {\n                this.isDirty = false;\n                this.drained(); // might set isDirty to true again\n            }\n            this.isRunning = false;\n        }\n    };\n    DelayedRunner.prototype.clear = function () {\n        this.clearTimeout();\n        this.isDirty = false;\n        this.pauseDepths = {};\n    };\n    DelayedRunner.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n            this.timeoutId = 0;\n        }\n    };\n    DelayedRunner.prototype.drained = function () {\n        if (this.drainedOption) {\n            this.drainedOption();\n        }\n    };\n    return DelayedRunner;\n}());\n\nvar TaskRunner = /** @class */ (function () {\n    function TaskRunner(runTaskOption, drainedOption) {\n        this.runTaskOption = runTaskOption;\n        this.drainedOption = drainedOption;\n        this.queue = [];\n        this.delayedRunner = new DelayedRunner(this.drain.bind(this));\n    }\n    TaskRunner.prototype.request = function (task, delay) {\n        this.queue.push(task);\n        this.delayedRunner.request(delay);\n    };\n    TaskRunner.prototype.pause = function (scope) {\n        this.delayedRunner.pause(scope);\n    };\n    TaskRunner.prototype.resume = function (scope, force) {\n        this.delayedRunner.resume(scope, force);\n    };\n    TaskRunner.prototype.drain = function () {\n        var queue = this.queue;\n        while (queue.length) {\n            var completedTasks = [];\n            var task = void 0;\n            while ((task = queue.shift())) {\n                this.runTask(task);\n                completedTasks.push(task);\n            }\n            this.drained(completedTasks);\n        } // keep going, in case new tasks were added in the drained handler\n    };\n    TaskRunner.prototype.runTask = function (task) {\n        if (this.runTaskOption) {\n            this.runTaskOption(task);\n        }\n    };\n    TaskRunner.prototype.drained = function (completedTasks) {\n        if (this.drainedOption) {\n            this.drainedOption(completedTasks);\n        }\n    };\n    return TaskRunner;\n}());\n\n// Computes what the title at the top of the calendarApi should be for this view\nfunction buildTitle(dateProfile, viewOptions, dateEnv) {\n    var range;\n    // for views that span a large unit of time, show the proper interval, ignoring stray days before and after\n    if (/^(year|month)$/.test(dateProfile.currentRangeUnit)) {\n        range = dateProfile.currentRange;\n    }\n    else { // for day units or smaller, use the actual day range\n        range = dateProfile.activeRange;\n    }\n    return dateEnv.formatRange(range.start, range.end, createFormatter(viewOptions.titleFormat || buildTitleFormat(dateProfile)), {\n        isEndExclusive: dateProfile.isRangeAllDay,\n        defaultSeparator: viewOptions.titleRangeSeparator,\n    });\n}\n// Generates the format string that should be used to generate the title for the current date range.\n// Attempts to compute the most appropriate format if not explicitly specified with `titleFormat`.\nfunction buildTitleFormat(dateProfile) {\n    var currentRangeUnit = dateProfile.currentRangeUnit;\n    if (currentRangeUnit === 'year') {\n        return { year: 'numeric' };\n    }\n    if (currentRangeUnit === 'month') {\n        return { year: 'numeric', month: 'long' }; // like \"September 2014\"\n    }\n    var days = diffWholeDays(dateProfile.currentRange.start, dateProfile.currentRange.end);\n    if (days !== null && days > 1) {\n        // multi-day range. shorter, like \"Sep 9 - 10 2014\"\n        return { year: 'numeric', month: 'short', day: 'numeric' };\n    }\n    // one day. longer, like \"September 9 2014\"\n    return { year: 'numeric', month: 'long', day: 'numeric' };\n}\n\n// in future refactor, do the redux-style function(state=initial) for initial-state\n// also, whatever is happening in constructor, have it happen in action queue too\nvar CalendarDataManager = /** @class */ (function () {\n    function CalendarDataManager(props) {\n        var _this = this;\n        this.computeOptionsData = memoize(this._computeOptionsData);\n        this.computeCurrentViewData = memoize(this._computeCurrentViewData);\n        this.organizeRawLocales = memoize(organizeRawLocales);\n        this.buildLocale = memoize(buildLocale);\n        this.buildPluginHooks = buildBuildPluginHooks();\n        this.buildDateEnv = memoize(buildDateEnv);\n        this.buildTheme = memoize(buildTheme);\n        this.parseToolbars = memoize(parseToolbars);\n        this.buildViewSpecs = memoize(buildViewSpecs);\n        this.buildDateProfileGenerator = memoizeObjArg(buildDateProfileGenerator);\n        this.buildViewApi = memoize(buildViewApi);\n        this.buildViewUiProps = memoizeObjArg(buildViewUiProps);\n        this.buildEventUiBySource = memoize(buildEventUiBySource, isPropsEqual);\n        this.buildEventUiBases = memoize(buildEventUiBases);\n        this.parseContextBusinessHours = memoizeObjArg(parseContextBusinessHours);\n        this.buildTitle = memoize(buildTitle);\n        this.emitter = new Emitter();\n        this.actionRunner = new TaskRunner(this._handleAction.bind(this), this.updateData.bind(this));\n        this.currentCalendarOptionsInput = {};\n        this.currentCalendarOptionsRefined = {};\n        this.currentViewOptionsInput = {};\n        this.currentViewOptionsRefined = {};\n        this.currentCalendarOptionsRefiners = {};\n        this.getCurrentData = function () { return _this.data; };\n        this.dispatch = function (action) {\n            _this.actionRunner.request(action); // protects against recursive calls to _handleAction\n        };\n        this.props = props;\n        this.actionRunner.pause();\n        var dynamicOptionOverrides = {};\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = optionsData.calendarOptions.initialView || optionsData.pluginHooks.initialView;\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        this.emitter.setThisContext(props.calendarApi);\n        this.emitter.setOptions(currentViewData.options);\n        var currentDate = getInitialDate(optionsData.calendarOptions, optionsData.dateEnv);\n        var dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        if (!rangeContainsMarker(dateProfile.activeRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: this.emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        // needs to be after setThisContext\n        for (var _i = 0, _a = optionsData.pluginHooks.contextInit; _i < _a.length; _i++) {\n            var callback = _a[_i];\n            callback(calendarContext);\n        }\n        // NOT DRY\n        var eventSources = initEventSources(optionsData.calendarOptions, dateProfile, calendarContext);\n        var initialState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            eventSources: eventSources,\n            eventUiBases: {},\n            eventStore: createEmptyEventStore(),\n            renderableEventStore: createEmptyEventStore(),\n            dateSelection: null,\n            eventSelection: '',\n            eventDrag: null,\n            eventResize: null,\n            selectionConfig: this.buildViewUiProps(calendarContext).selectionConfig,\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), initialState);\n        for (var _b = 0, _c = optionsData.pluginHooks.reducers; _b < _c.length; _b++) {\n            var reducer = _c[_b];\n            __assign(initialState, reducer(null, null, contextAndState));\n        }\n        if (computeIsLoading(initialState, calendarContext)) {\n            this.emitter.trigger('loading', true); // NOT DRY\n        }\n        this.state = initialState;\n        this.updateData();\n        this.actionRunner.resume();\n    }\n    CalendarDataManager.prototype.resetOptions = function (optionOverrides, append) {\n        var props = this.props;\n        props.optionOverrides = append\n            ? __assign(__assign({}, props.optionOverrides), optionOverrides) : optionOverrides;\n        this.actionRunner.request({\n            type: 'NOTHING',\n        });\n    };\n    CalendarDataManager.prototype._handleAction = function (action) {\n        var _a = this, props = _a.props, state = _a.state, emitter = _a.emitter;\n        var dynamicOptionOverrides = reduceDynamicOptionOverrides(state.dynamicOptionOverrides, action);\n        var optionsData = this.computeOptionsData(props.optionOverrides, dynamicOptionOverrides, props.calendarApi);\n        var currentViewType = reduceViewType(state.currentViewType, action);\n        var currentViewData = this.computeCurrentViewData(currentViewType, optionsData, props.optionOverrides, dynamicOptionOverrides);\n        // wire things up\n        // TODO: not DRY\n        props.calendarApi.currentDataManager = this;\n        emitter.setThisContext(props.calendarApi);\n        emitter.setOptions(currentViewData.options);\n        var calendarContext = {\n            dateEnv: optionsData.dateEnv,\n            options: optionsData.calendarOptions,\n            pluginHooks: optionsData.pluginHooks,\n            calendarApi: props.calendarApi,\n            dispatch: this.dispatch,\n            emitter: emitter,\n            getCurrentData: this.getCurrentData,\n        };\n        var currentDate = state.currentDate, dateProfile = state.dateProfile;\n        if (this.data && this.data.dateProfileGenerator !== currentViewData.dateProfileGenerator) { // hack\n            dateProfile = currentViewData.dateProfileGenerator.build(currentDate);\n        }\n        currentDate = reduceCurrentDate(currentDate, action);\n        dateProfile = reduceDateProfile(dateProfile, action, currentDate, currentViewData.dateProfileGenerator);\n        if (action.type === 'PREV' || // TODO: move this logic into DateProfileGenerator\n            action.type === 'NEXT' || // \"\n            !rangeContainsMarker(dateProfile.currentRange, currentDate)) {\n            currentDate = dateProfile.currentRange.start;\n        }\n        var eventSources = reduceEventSources(state.eventSources, action, dateProfile, calendarContext);\n        var eventStore = reduceEventStore(state.eventStore, action, eventSources, dateProfile, calendarContext);\n        var isEventsLoading = computeEventSourcesLoading(eventSources); // BAD. also called in this func in computeIsLoading\n        var renderableEventStore = (isEventsLoading && !currentViewData.options.progressiveEventRendering) ?\n            (state.renderableEventStore || eventStore) : // try from previous state\n            eventStore;\n        var _b = this.buildViewUiProps(calendarContext), eventUiSingleBase = _b.eventUiSingleBase, selectionConfig = _b.selectionConfig; // will memoize obj\n        var eventUiBySource = this.buildEventUiBySource(eventSources);\n        var eventUiBases = this.buildEventUiBases(renderableEventStore.defs, eventUiSingleBase, eventUiBySource);\n        var newState = {\n            dynamicOptionOverrides: dynamicOptionOverrides,\n            currentViewType: currentViewType,\n            currentDate: currentDate,\n            dateProfile: dateProfile,\n            eventSources: eventSources,\n            eventStore: eventStore,\n            renderableEventStore: renderableEventStore,\n            selectionConfig: selectionConfig,\n            eventUiBases: eventUiBases,\n            businessHours: this.parseContextBusinessHours(calendarContext),\n            dateSelection: reduceDateSelection(state.dateSelection, action),\n            eventSelection: reduceSelectedEvent(state.eventSelection, action),\n            eventDrag: reduceEventDrag(state.eventDrag, action),\n            eventResize: reduceEventResize(state.eventResize, action),\n        };\n        var contextAndState = __assign(__assign({}, calendarContext), newState);\n        for (var _i = 0, _c = optionsData.pluginHooks.reducers; _i < _c.length; _i++) {\n            var reducer = _c[_i];\n            __assign(newState, reducer(state, action, contextAndState)); // give the OLD state, for old value\n        }\n        var wasLoading = computeIsLoading(state, calendarContext);\n        var isLoading = computeIsLoading(newState, calendarContext);\n        // TODO: use propSetHandlers in plugin system\n        if (!wasLoading && isLoading) {\n            emitter.trigger('loading', true);\n        }\n        else if (wasLoading && !isLoading) {\n            emitter.trigger('loading', false);\n        }\n        this.state = newState;\n        if (props.onAction) {\n            props.onAction(action);\n        }\n    };\n    CalendarDataManager.prototype.updateData = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var oldData = this.data;\n        var optionsData = this.computeOptionsData(props.optionOverrides, state.dynamicOptionOverrides, props.calendarApi);\n        var currentViewData = this.computeCurrentViewData(state.currentViewType, optionsData, props.optionOverrides, state.dynamicOptionOverrides);\n        var data = this.data = __assign(__assign(__assign({ viewTitle: this.buildTitle(state.dateProfile, currentViewData.options, optionsData.dateEnv), calendarApi: props.calendarApi, dispatch: this.dispatch, emitter: this.emitter, getCurrentData: this.getCurrentData }, optionsData), currentViewData), state);\n        var changeHandlers = optionsData.pluginHooks.optionChangeHandlers;\n        var oldCalendarOptions = oldData && oldData.calendarOptions;\n        var newCalendarOptions = optionsData.calendarOptions;\n        if (oldCalendarOptions && oldCalendarOptions !== newCalendarOptions) {\n            if (oldCalendarOptions.timeZone !== newCalendarOptions.timeZone) {\n                // hack\n                state.eventSources = data.eventSources = reduceEventSourcesNewTimeZone(data.eventSources, state.dateProfile, data);\n                state.eventStore = data.eventStore = rezoneEventStoreDates(data.eventStore, oldData.dateEnv, data.dateEnv);\n            }\n            for (var optionName in changeHandlers) {\n                if (oldCalendarOptions[optionName] !== newCalendarOptions[optionName]) {\n                    changeHandlers[optionName](newCalendarOptions[optionName], data);\n                }\n            }\n        }\n        if (props.onData) {\n            props.onData(data);\n        }\n    };\n    CalendarDataManager.prototype._computeOptionsData = function (optionOverrides, dynamicOptionOverrides, calendarApi) {\n        // TODO: blacklist options that are handled by optionChangeHandlers\n        var _a = this.processRawCalendarOptions(optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, pluginHooks = _a.pluginHooks, localeDefaults = _a.localeDefaults, availableLocaleData = _a.availableLocaleData, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateEnv = this.buildDateEnv(refinedOptions.timeZone, refinedOptions.locale, refinedOptions.weekNumberCalculation, refinedOptions.firstDay, refinedOptions.weekText, pluginHooks, availableLocaleData, refinedOptions.defaultRangeSeparator);\n        var viewSpecs = this.buildViewSpecs(pluginHooks.views, optionOverrides, dynamicOptionOverrides, localeDefaults);\n        var theme = this.buildTheme(refinedOptions, pluginHooks);\n        var toolbarConfig = this.parseToolbars(refinedOptions, optionOverrides, theme, viewSpecs, calendarApi);\n        return {\n            calendarOptions: refinedOptions,\n            pluginHooks: pluginHooks,\n            dateEnv: dateEnv,\n            viewSpecs: viewSpecs,\n            theme: theme,\n            toolbarConfig: toolbarConfig,\n            localeDefaults: localeDefaults,\n            availableRawLocales: availableLocaleData.map,\n        };\n    };\n    // always called from behind a memoizer\n    CalendarDataManager.prototype.processRawCalendarOptions = function (optionOverrides, dynamicOptionOverrides) {\n        var _a = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]), locales = _a.locales, locale = _a.locale;\n        var availableLocaleData = this.organizeRawLocales(locales);\n        var availableRawLocales = availableLocaleData.map;\n        var localeDefaults = this.buildLocale(locale || availableLocaleData.defaultCode, availableRawLocales).options;\n        var pluginHooks = this.buildPluginHooks(optionOverrides.plugins || [], globalPlugins);\n        var refiners = this.currentCalendarOptionsRefiners = __assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var extra = {};\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            localeDefaults,\n            optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refined = {};\n        var currentRaw = this.currentCalendarOptionsInput;\n        var currentRefined = this.currentCalendarOptionsRefined;\n        var anyChanges = false;\n        for (var optionName in raw) {\n            if (optionName !== 'plugins') { // because plugins is special-cased\n                if (raw[optionName] === currentRaw[optionName] ||\n                    (COMPLEX_OPTION_COMPARATORS[optionName] &&\n                        (optionName in currentRaw) &&\n                        COMPLEX_OPTION_COMPARATORS[optionName](currentRaw[optionName], raw[optionName]))) {\n                    refined[optionName] = currentRefined[optionName];\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                    anyChanges = true;\n                }\n                else {\n                    extra[optionName] = currentRaw[optionName];\n                }\n            }\n        }\n        if (anyChanges) {\n            this.currentCalendarOptionsInput = raw;\n            this.currentCalendarOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentCalendarOptionsInput,\n            refinedOptions: this.currentCalendarOptionsRefined,\n            pluginHooks: pluginHooks,\n            availableLocaleData: availableLocaleData,\n            localeDefaults: localeDefaults,\n            extra: extra,\n        };\n    };\n    CalendarDataManager.prototype._computeCurrentViewData = function (viewType, optionsData, optionOverrides, dynamicOptionOverrides) {\n        var viewSpec = optionsData.viewSpecs[viewType];\n        if (!viewSpec) {\n            throw new Error(\"viewType \\\"\" + viewType + \"\\\" is not available. Please make sure you've loaded all neccessary plugins\");\n        }\n        var _a = this.processRawViewOptions(viewSpec, optionsData.pluginHooks, optionsData.localeDefaults, optionOverrides, dynamicOptionOverrides), refinedOptions = _a.refinedOptions, extra = _a.extra;\n        warnUnknownOptions(extra);\n        var dateProfileGenerator = this.buildDateProfileGenerator({\n            dateProfileGeneratorClass: viewSpec.optionDefaults.dateProfileGeneratorClass,\n            duration: viewSpec.duration,\n            durationUnit: viewSpec.durationUnit,\n            usesMinMaxTime: viewSpec.optionDefaults.usesMinMaxTime,\n            dateEnv: optionsData.dateEnv,\n            calendarApi: this.props.calendarApi,\n            slotMinTime: refinedOptions.slotMinTime,\n            slotMaxTime: refinedOptions.slotMaxTime,\n            showNonCurrentDates: refinedOptions.showNonCurrentDates,\n            dayCount: refinedOptions.dayCount,\n            dateAlignment: refinedOptions.dateAlignment,\n            dateIncrement: refinedOptions.dateIncrement,\n            hiddenDays: refinedOptions.hiddenDays,\n            weekends: refinedOptions.weekends,\n            nowInput: refinedOptions.now,\n            validRangeInput: refinedOptions.validRange,\n            visibleRangeInput: refinedOptions.visibleRange,\n            monthMode: refinedOptions.monthMode,\n            fixedWeekCount: refinedOptions.fixedWeekCount,\n        });\n        var viewApi = this.buildViewApi(viewType, this.getCurrentData, optionsData.dateEnv);\n        return { viewSpec: viewSpec, options: refinedOptions, dateProfileGenerator: dateProfileGenerator, viewApi: viewApi };\n    };\n    CalendarDataManager.prototype.processRawViewOptions = function (viewSpec, pluginHooks, localeDefaults, optionOverrides, dynamicOptionOverrides) {\n        var raw = mergeRawOptions([\n            BASE_OPTION_DEFAULTS,\n            viewSpec.optionDefaults,\n            localeDefaults,\n            optionOverrides,\n            viewSpec.optionOverrides,\n            dynamicOptionOverrides,\n        ]);\n        var refiners = __assign(__assign(__assign(__assign(__assign(__assign({}, BASE_OPTION_REFINERS), CALENDAR_LISTENER_REFINERS), CALENDAR_OPTION_REFINERS), VIEW_OPTION_REFINERS), pluginHooks.listenerRefiners), pluginHooks.optionRefiners);\n        var refined = {};\n        var currentRaw = this.currentViewOptionsInput;\n        var currentRefined = this.currentViewOptionsRefined;\n        var anyChanges = false;\n        var extra = {};\n        for (var optionName in raw) {\n            if (raw[optionName] === currentRaw[optionName]) {\n                refined[optionName] = currentRefined[optionName];\n            }\n            else {\n                if (raw[optionName] === this.currentCalendarOptionsInput[optionName]) {\n                    if (optionName in this.currentCalendarOptionsRefined) { // might be an \"extra\" prop\n                        refined[optionName] = this.currentCalendarOptionsRefined[optionName];\n                    }\n                }\n                else if (refiners[optionName]) {\n                    refined[optionName] = refiners[optionName](raw[optionName]);\n                }\n                else {\n                    extra[optionName] = raw[optionName];\n                }\n                anyChanges = true;\n            }\n        }\n        if (anyChanges) {\n            this.currentViewOptionsInput = raw;\n            this.currentViewOptionsRefined = refined;\n        }\n        return {\n            rawOptions: this.currentViewOptionsInput,\n            refinedOptions: this.currentViewOptionsRefined,\n            extra: extra,\n        };\n    };\n    return CalendarDataManager;\n}());\nfunction buildDateEnv(timeZone, explicitLocale, weekNumberCalculation, firstDay, weekText, pluginHooks, availableLocaleData, defaultSeparator) {\n    var locale = buildLocale(explicitLocale || availableLocaleData.defaultCode, availableLocaleData.map);\n    return new DateEnv({\n        calendarSystem: 'gregory',\n        timeZone: timeZone,\n        namedTimeZoneImpl: pluginHooks.namedTimeZonedImpl,\n        locale: locale,\n        weekNumberCalculation: weekNumberCalculation,\n        firstDay: firstDay,\n        weekText: weekText,\n        cmdFormatter: pluginHooks.cmdFormatter,\n        defaultSeparator: defaultSeparator,\n    });\n}\nfunction buildTheme(options, pluginHooks) {\n    var ThemeClass = pluginHooks.themeClasses[options.themeSystem] || StandardTheme;\n    return new ThemeClass(options);\n}\nfunction buildDateProfileGenerator(props) {\n    var DateProfileGeneratorClass = props.dateProfileGeneratorClass || DateProfileGenerator;\n    return new DateProfileGeneratorClass(props);\n}\nfunction buildViewApi(type, getCurrentData, dateEnv) {\n    return new ViewApi(type, getCurrentData, dateEnv);\n}\nfunction buildEventUiBySource(eventSources) {\n    return mapHash(eventSources, function (eventSource) { return eventSource.ui; });\n}\nfunction buildEventUiBases(eventDefs, eventUiSingleBase, eventUiBySource) {\n    var eventUiBases = { '': eventUiSingleBase };\n    for (var defId in eventDefs) {\n        var def = eventDefs[defId];\n        if (def.sourceId && eventUiBySource[def.sourceId]) {\n            eventUiBases[defId] = eventUiBySource[def.sourceId];\n        }\n    }\n    return eventUiBases;\n}\nfunction buildViewUiProps(calendarContext) {\n    var options = calendarContext.options;\n    return {\n        eventUiSingleBase: createEventUi({\n            display: options.eventDisplay,\n            editable: options.editable,\n            startEditable: options.eventStartEditable,\n            durationEditable: options.eventDurationEditable,\n            constraint: options.eventConstraint,\n            overlap: typeof options.eventOverlap === 'boolean' ? options.eventOverlap : undefined,\n            allow: options.eventAllow,\n            backgroundColor: options.eventBackgroundColor,\n            borderColor: options.eventBorderColor,\n            textColor: options.eventTextColor,\n            color: options.eventColor,\n            // classNames: options.eventClassNames // render hook will handle this\n        }, calendarContext),\n        selectionConfig: createEventUi({\n            constraint: options.selectConstraint,\n            overlap: typeof options.selectOverlap === 'boolean' ? options.selectOverlap : undefined,\n            allow: options.selectAllow,\n        }, calendarContext),\n    };\n}\nfunction computeIsLoading(state, context) {\n    for (var _i = 0, _a = context.pluginHooks.isLoadingFuncs; _i < _a.length; _i++) {\n        var isLoadingFunc = _a[_i];\n        if (isLoadingFunc(state)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction parseContextBusinessHours(calendarContext) {\n    return parseBusinessHours(calendarContext.options.businessHours, calendarContext);\n}\nfunction warnUnknownOptions(options, viewName) {\n    for (var optionName in options) {\n        console.warn(\"Unknown option '\" + optionName + \"'\" +\n            (viewName ? \" for view '\" + viewName + \"'\" : ''));\n    }\n}\n\n// TODO: move this to react plugin?\nvar CalendarDataProvider = /** @class */ (function (_super) {\n    __extends(CalendarDataProvider, _super);\n    function CalendarDataProvider(props) {\n        var _this = _super.call(this, props) || this;\n        _this.handleData = function (data) {\n            if (!_this.dataManager) { // still within initial run, before assignment in constructor\n                // eslint-disable-next-line react/no-direct-mutation-state\n                _this.state = data; // can't use setState yet\n            }\n            else {\n                _this.setState(data);\n            }\n        };\n        _this.dataManager = new CalendarDataManager({\n            optionOverrides: props.optionOverrides,\n            calendarApi: props.calendarApi,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    CalendarDataProvider.prototype.render = function () {\n        return this.props.children(this.state);\n    };\n    CalendarDataProvider.prototype.componentDidUpdate = function (prevProps) {\n        var newOptionOverrides = this.props.optionOverrides;\n        if (newOptionOverrides !== prevProps.optionOverrides) { // prevent recursive handleData\n            this.dataManager.resetOptions(newOptionOverrides);\n        }\n    };\n    return CalendarDataProvider;\n}(Component));\n\n// HELPERS\n/*\nif nextDayThreshold is specified, slicing is done in an all-day fashion.\nyou can get nextDayThreshold from context.nextDayThreshold\n*/\nfunction sliceEvents(props, allDay) {\n    return sliceEventStore(props.eventStore, props.eventUiBases, props.dateProfile.activeRange, allDay ? props.nextDayThreshold : null).fg;\n}\n\nvar NamedTimeZoneImpl = /** @class */ (function () {\n    function NamedTimeZoneImpl(timeZoneName) {\n        this.timeZoneName = timeZoneName;\n    }\n    return NamedTimeZoneImpl;\n}());\n\nvar SegHierarchy = /** @class */ (function () {\n    function SegHierarchy() {\n        // settings\n        this.strictOrder = false;\n        this.allowReslicing = false;\n        this.maxCoord = -1; // -1 means no max\n        this.maxStackCnt = -1; // -1 means no max\n        this.levelCoords = []; // ordered\n        this.entriesByLevel = []; // parallel with levelCoords\n        this.stackCnts = {}; // TODO: use better technique!?\n    }\n    SegHierarchy.prototype.addSegs = function (inputs) {\n        var hiddenEntries = [];\n        for (var _i = 0, inputs_1 = inputs; _i < inputs_1.length; _i++) {\n            var input = inputs_1[_i];\n            this.insertEntry(input, hiddenEntries);\n        }\n        return hiddenEntries;\n    };\n    SegHierarchy.prototype.insertEntry = function (entry, hiddenEntries) {\n        var insertion = this.findInsertion(entry);\n        if (this.isInsertionValid(insertion, entry)) {\n            this.insertEntryAt(entry, insertion);\n            return 1;\n        }\n        return this.handleInvalidInsertion(insertion, entry, hiddenEntries);\n    };\n    SegHierarchy.prototype.isInsertionValid = function (insertion, entry) {\n        return (this.maxCoord === -1 || insertion.levelCoord + entry.thickness <= this.maxCoord) &&\n            (this.maxStackCnt === -1 || insertion.stackCnt < this.maxStackCnt);\n    };\n    // returns number of new entries inserted\n    SegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        if (this.allowReslicing && insertion.touchingEntry) {\n            return this.splitEntry(entry, insertion.touchingEntry, hiddenEntries);\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.splitEntry = function (entry, barrier, hiddenEntries) {\n        var partCnt = 0;\n        var splitHiddenEntries = [];\n        var entrySpan = entry.span;\n        var barrierSpan = barrier.span;\n        if (entrySpan.start < barrierSpan.start) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: entrySpan.start, end: barrierSpan.start },\n            }, splitHiddenEntries);\n        }\n        if (entrySpan.end > barrierSpan.end) {\n            partCnt += this.insertEntry({\n                index: entry.index,\n                thickness: entry.thickness,\n                span: { start: barrierSpan.end, end: entrySpan.end },\n            }, splitHiddenEntries);\n        }\n        if (partCnt) {\n            hiddenEntries.push.apply(hiddenEntries, __spreadArray([{\n                    index: entry.index,\n                    thickness: entry.thickness,\n                    span: intersectSpans(barrierSpan, entrySpan), // guaranteed to intersect\n                }], splitHiddenEntries));\n            return partCnt;\n        }\n        hiddenEntries.push(entry);\n        return 0;\n    };\n    SegHierarchy.prototype.insertEntryAt = function (entry, insertion) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var destLevel = insertion.level;\n        if (destLevel >= levelCoords.length || // level doesn't exist yet\n            levelCoords[destLevel] > insertion.levelCoord // destLevel needs to be pushed forward to make way\n        ) {\n            // create a new level\n            insertAt(levelCoords, destLevel, insertion.levelCoord);\n            insertAt(entriesByLevel, destLevel, [entry]);\n        }\n        else {\n            // insert into existing level\n            insertAt(entriesByLevel[destLevel], insertion.lateralEnd, entry);\n        }\n        this.stackCnts[buildEntryKey(entry)] = insertion.stackCnt;\n    };\n    SegHierarchy.prototype.findInsertion = function (newEntry) {\n        var _a = this, levelCoords = _a.levelCoords, entriesByLevel = _a.entriesByLevel, stackCnts = _a.stackCnts, strictOrder = _a.strictOrder;\n        var levelCnt = levelCoords.length;\n        var resLevelCoord = 0;\n        var resLevel = 0;\n        var lateralStart = 0;\n        var lateralEnd = 0;\n        var touchingLevel = -1;\n        var touchingEntry = null; // last touch entry\n        for (var level = 0; level < levelCnt; level += 1) {\n            var levelCoord = levelCoords[level];\n            // if the current level is past the placed entry, we have found a good empty space and can stop.\n            // if strictOrder, keep finding more lateral intersections.\n            if (!strictOrder && levelCoord >= resLevelCoord + newEntry.thickness) {\n                break;\n            }\n            var entries = entriesByLevel[level];\n            var entry = void 0;\n            var searchRes = binarySearch(entries, newEntry.span.start, getEntrySpanEnd);\n            lateralStart = searchRes[0] + searchRes[1]; // if exact match (which doesn't collide), go to next one\n            lateralEnd = lateralStart; // also functions as a moving index\n            while ( // loop through entries that horizontally intersect\n            (entry = entries[lateralEnd]) && // but not past the whole entry list\n                entry.span.start < newEntry.span.end // and not entirely past newEntry\n            ) {\n                if (strictOrder || // strict-mode doesn't care about vert intersection. record touch and keep pushing down\n                    ( // vertically intersects?\n                    resLevelCoord < levelCoord + entry.thickness &&\n                        resLevelCoord + newEntry.thickness > levelCoord)) {\n                    // push down the potential destination\n                    resLevelCoord = levelCoord + entry.thickness; // move to bottom of colliding entry\n                    touchingLevel = level;\n                    touchingEntry = entry;\n                }\n                lateralEnd += 1;\n            }\n            // regardless of whether there were collisions in the current level,\n            // keep updating the final-destination level until it goes past the final-destination coord.\n            if (levelCoord < resLevelCoord) {\n                resLevel = level + 1;\n            }\n        }\n        return {\n            level: resLevel,\n            levelCoord: resLevelCoord,\n            lateralStart: lateralStart,\n            lateralEnd: lateralEnd,\n            touchingLevel: touchingLevel,\n            touchingEntry: touchingEntry,\n            stackCnt: touchingEntry ? stackCnts[buildEntryKey(touchingEntry)] + 1 : 0,\n        };\n    };\n    // sorted by levelCoord (lowest to highest)\n    SegHierarchy.prototype.toRects = function () {\n        var _a = this, entriesByLevel = _a.entriesByLevel, levelCoords = _a.levelCoords;\n        var levelCnt = entriesByLevel.length;\n        var rects = [];\n        for (var level = 0; level < levelCnt; level += 1) {\n            var entries = entriesByLevel[level];\n            var levelCoord = levelCoords[level];\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var entry = entries_1[_i];\n                rects.push(__assign(__assign({}, entry), { levelCoord: levelCoord }));\n            }\n        }\n        return rects;\n    };\n    return SegHierarchy;\n}());\nfunction getEntrySpanEnd(entry) {\n    return entry.span.end;\n}\nfunction buildEntryKey(entry) {\n    return entry.index + ':' + entry.span.start;\n}\n// returns groups with entries sorted by input order\nfunction groupIntersectingEntries(entries) {\n    var merges = [];\n    for (var _i = 0, entries_2 = entries; _i < entries_2.length; _i++) {\n        var entry = entries_2[_i];\n        var filteredMerges = [];\n        var hungryMerge = {\n            span: entry.span,\n            entries: [entry],\n        };\n        for (var _a = 0, merges_1 = merges; _a < merges_1.length; _a++) {\n            var merge = merges_1[_a];\n            if (intersectSpans(merge.span, hungryMerge.span)) {\n                hungryMerge = {\n                    entries: merge.entries.concat(hungryMerge.entries),\n                    span: joinSpans(merge.span, hungryMerge.span),\n                };\n            }\n            else {\n                filteredMerges.push(merge);\n            }\n        }\n        filteredMerges.push(hungryMerge);\n        merges = filteredMerges;\n    }\n    return merges;\n}\nfunction joinSpans(span0, span1) {\n    return {\n        start: Math.min(span0.start, span1.start),\n        end: Math.max(span0.end, span1.end),\n    };\n}\nfunction intersectSpans(span0, span1) {\n    var start = Math.max(span0.start, span1.start);\n    var end = Math.min(span0.end, span1.end);\n    if (start < end) {\n        return { start: start, end: end };\n    }\n    return null;\n}\n// general util\n// ---------------------------------------------------------------------------------------------------------------------\nfunction insertAt(arr, index, item) {\n    arr.splice(index, 0, item);\n}\nfunction binarySearch(a, searchVal, getItemVal) {\n    var startIndex = 0;\n    var endIndex = a.length; // exclusive\n    if (!endIndex || searchVal < getItemVal(a[startIndex])) { // no items OR before first item\n        return [0, 0];\n    }\n    if (searchVal > getItemVal(a[endIndex - 1])) { // after last item\n        return [endIndex, 0];\n    }\n    while (startIndex < endIndex) {\n        var middleIndex = Math.floor(startIndex + (endIndex - startIndex) / 2);\n        var middleVal = getItemVal(a[middleIndex]);\n        if (searchVal < middleVal) {\n            endIndex = middleIndex;\n        }\n        else if (searchVal > middleVal) {\n            startIndex = middleIndex + 1;\n        }\n        else { // equal!\n            return [middleIndex, 1];\n        }\n    }\n    return [startIndex, 0];\n}\n\nvar Interaction = /** @class */ (function () {\n    function Interaction(settings) {\n        this.component = settings.component;\n        this.isHitComboAllowed = settings.isHitComboAllowed || null;\n    }\n    Interaction.prototype.destroy = function () {\n    };\n    return Interaction;\n}());\nfunction parseInteractionSettings(component, input) {\n    return {\n        component: component,\n        el: input.el,\n        useEventCenter: input.useEventCenter != null ? input.useEventCenter : true,\n        isHitComboAllowed: input.isHitComboAllowed || null,\n    };\n}\nfunction interactionSettingsToStore(settings) {\n    var _a;\n    return _a = {},\n        _a[settings.component.uid] = settings,\n        _a;\n}\n// global state\nvar interactionSettingsStore = {};\n\n/*\nAn abstraction for a dragging interaction originating on an event.\nDoes higher-level things than PointerDragger, such as possibly:\n- a \"mirror\" that moves with the pointer\n- a minimum number of pixels or other criteria for a true drag to begin\n\nsubclasses must emit:\n- pointerdown\n- dragstart\n- dragmove\n- pointerup\n- dragend\n*/\nvar ElementDragging = /** @class */ (function () {\n    function ElementDragging(el, selector) {\n        this.emitter = new Emitter();\n    }\n    ElementDragging.prototype.destroy = function () {\n    };\n    ElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        // optional if subclass doesn't want to support a mirror\n    };\n    ElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        // optional\n    };\n    return ElementDragging;\n}());\n\n// TODO: get rid of this in favor of options system,\n// tho it's really easy to access this globally rather than pass thru options.\nvar config = {};\n\n/*\nInformation about what will happen when an external element is dragged-and-dropped\nonto a calendar. Contains information for creating an event.\n*/\nvar DRAG_META_REFINERS = {\n    startTime: createDuration,\n    duration: createDuration,\n    create: Boolean,\n    sourceId: String,\n};\nfunction parseDragMeta(raw) {\n    var _a = refineProps(raw, DRAG_META_REFINERS), refined = _a.refined, extra = _a.extra;\n    return {\n        startTime: refined.startTime || null,\n        duration: refined.duration || null,\n        create: refined.create != null ? refined.create : true,\n        sourceId: refined.sourceId,\n        leftoverProps: extra,\n    };\n}\n\nvar ToolbarSection = /** @class */ (function (_super) {\n    __extends(ToolbarSection, _super);\n    function ToolbarSection() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ToolbarSection.prototype.render = function () {\n        var _this = this;\n        var children = this.props.widgetGroups.map(function (widgetGroup) { return _this.renderWidgetGroup(widgetGroup); });\n        return createElement.apply(void 0, __spreadArray(['div', { className: 'fc-toolbar-chunk' }], children));\n    };\n    ToolbarSection.prototype.renderWidgetGroup = function (widgetGroup) {\n        var props = this.props;\n        var theme = this.context.theme;\n        var children = [];\n        var isOnlyButtons = true;\n        for (var _i = 0, widgetGroup_1 = widgetGroup; _i < widgetGroup_1.length; _i++) {\n            var widget = widgetGroup_1[_i];\n            var buttonName = widget.buttonName, buttonClick = widget.buttonClick, buttonText = widget.buttonText, buttonIcon = widget.buttonIcon;\n            if (buttonName === 'title') {\n                isOnlyButtons = false;\n                children.push(createElement(\"h2\", { className: \"fc-toolbar-title\" }, props.title));\n            }\n            else {\n                var ariaAttrs = buttonIcon ? { 'aria-label': buttonName } : {};\n                var buttonClasses = [\"fc-\" + buttonName + \"-button\", theme.getClass('button')];\n                if (buttonName === props.activeButton) {\n                    buttonClasses.push(theme.getClass('buttonActive'));\n                }\n                var isDisabled = (!props.isTodayEnabled && buttonName === 'today') ||\n                    (!props.isPrevEnabled && buttonName === 'prev') ||\n                    (!props.isNextEnabled && buttonName === 'next');\n                children.push(createElement(\"button\", __assign({ disabled: isDisabled, className: buttonClasses.join(' '), onClick: buttonClick, type: \"button\" }, ariaAttrs), buttonText || (buttonIcon ? createElement(\"span\", { className: buttonIcon }) : '')));\n            }\n        }\n        if (children.length > 1) {\n            var groupClassName = (isOnlyButtons && theme.getClass('buttonGroup')) || '';\n            return createElement.apply(void 0, __spreadArray(['div', { className: groupClassName }], children));\n        }\n        return children[0];\n    };\n    return ToolbarSection;\n}(BaseComponent));\n\nvar Toolbar = /** @class */ (function (_super) {\n    __extends(Toolbar, _super);\n    function Toolbar() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    Toolbar.prototype.render = function () {\n        var _a = this.props, model = _a.model, extraClassName = _a.extraClassName;\n        var forceLtr = false;\n        var startContent;\n        var endContent;\n        var centerContent = model.center;\n        if (model.left) {\n            forceLtr = true;\n            startContent = model.left;\n        }\n        else {\n            startContent = model.start;\n        }\n        if (model.right) {\n            forceLtr = true;\n            endContent = model.right;\n        }\n        else {\n            endContent = model.end;\n        }\n        var classNames = [\n            extraClassName || '',\n            'fc-toolbar',\n            forceLtr ? 'fc-toolbar-ltr' : '',\n        ];\n        return (createElement(\"div\", { className: classNames.join(' ') },\n            this.renderSection('start', startContent || []),\n            this.renderSection('center', centerContent || []),\n            this.renderSection('end', endContent || [])));\n    };\n    Toolbar.prototype.renderSection = function (key, widgetGroups) {\n        var props = this.props;\n        return (createElement(ToolbarSection, { key: key, widgetGroups: widgetGroups, title: props.title, activeButton: props.activeButton, isTodayEnabled: props.isTodayEnabled, isPrevEnabled: props.isPrevEnabled, isNextEnabled: props.isNextEnabled }));\n    };\n    return Toolbar;\n}(BaseComponent));\n\n// TODO: do function component?\nvar ViewContainer = /** @class */ (function (_super) {\n    __extends(ViewContainer, _super);\n    function ViewContainer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            availableWidth: null,\n        };\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n            _this.updateAvailableWidth();\n        };\n        _this.handleResize = function () {\n            _this.updateAvailableWidth();\n        };\n        return _this;\n    }\n    ViewContainer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        var aspectRatio = props.aspectRatio;\n        var classNames = [\n            'fc-view-harness',\n            (aspectRatio || props.liquid || props.height)\n                ? 'fc-view-harness-active' // harness controls the height\n                : 'fc-view-harness-passive', // let the view do the height\n        ];\n        var height = '';\n        var paddingBottom = '';\n        if (aspectRatio) {\n            if (state.availableWidth !== null) {\n                height = state.availableWidth / aspectRatio;\n            }\n            else {\n                // while waiting to know availableWidth, we can't set height to *zero*\n                // because will cause lots of unnecessary scrollbars within scrollgrid.\n                // BETTER: don't start rendering ANYTHING yet until we know container width\n                // NOTE: why not always use paddingBottom? Causes height oscillation (issue 5606)\n                paddingBottom = (1 / aspectRatio) * 100 + \"%\";\n            }\n        }\n        else {\n            height = props.height || '';\n        }\n        return (createElement(\"div\", { ref: this.handleEl, onClick: props.onClick, className: classNames.join(' '), style: { height: height, paddingBottom: paddingBottom } }, props.children));\n    };\n    ViewContainer.prototype.componentDidMount = function () {\n        this.context.addResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleResize);\n    };\n    ViewContainer.prototype.updateAvailableWidth = function () {\n        if (this.el && // needed. but why?\n            this.props.aspectRatio // aspectRatio is the only height setting that needs availableWidth\n        ) {\n            this.setState({ availableWidth: this.el.offsetWidth });\n        }\n    };\n    return ViewContainer;\n}(BaseComponent));\n\n/*\nDetects when the user clicks on an event within a DateComponent\n*/\nvar EventClicking = /** @class */ (function (_super) {\n    __extends(EventClicking, _super);\n    function EventClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handleSegClick = function (ev, segEl) {\n            var component = _this.component;\n            var context = component.context;\n            var seg = getElSeg(segEl);\n            if (seg && // might be the <div> surrounding the more link\n                component.isValidSegDownEl(ev.target)) {\n                // our way to simulate a link click for elements that can't be <a> tags\n                // grab before trigger fired in case trigger trashes DOM thru rerendering\n                var hasUrlContainer = elementClosest(ev.target, '.fc-event-forced-url');\n                var url = hasUrlContainer ? hasUrlContainer.querySelector('a[href]').href : '';\n                context.emitter.trigger('eventClick', {\n                    el: segEl,\n                    event: new EventApi(component.context, seg.eventRange.def, seg.eventRange.instance),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n                if (url && !ev.defaultPrevented) {\n                    window.location.href = url;\n                }\n            }\n        };\n        _this.destroy = listenBySelector(settings.el, 'click', '.fc-event', // on both fg and bg events\n        _this.handleSegClick);\n        return _this;\n    }\n    return EventClicking;\n}(Interaction));\n\n/*\nTriggers events and adds/removes core classNames when the user's pointer\nenters/leaves event-elements of a component.\n*/\nvar EventHovering = /** @class */ (function (_super) {\n    __extends(EventHovering, _super);\n    function EventHovering(settings) {\n        var _this = _super.call(this, settings) || this;\n        // for simulating an eventMouseLeave when the event el is destroyed while mouse is over it\n        _this.handleEventElRemove = function (el) {\n            if (el === _this.currentSegEl) {\n                _this.handleSegLeave(null, _this.currentSegEl);\n            }\n        };\n        _this.handleSegEnter = function (ev, segEl) {\n            if (getElSeg(segEl)) { // TODO: better way to make sure not hovering over more+ link or its wrapper\n                _this.currentSegEl = segEl;\n                _this.triggerEvent('eventMouseEnter', ev, segEl);\n            }\n        };\n        _this.handleSegLeave = function (ev, segEl) {\n            if (_this.currentSegEl) {\n                _this.currentSegEl = null;\n                _this.triggerEvent('eventMouseLeave', ev, segEl);\n            }\n        };\n        _this.removeHoverListeners = listenToHoverBySelector(settings.el, '.fc-event', // on both fg and bg events\n        _this.handleSegEnter, _this.handleSegLeave);\n        return _this;\n    }\n    EventHovering.prototype.destroy = function () {\n        this.removeHoverListeners();\n    };\n    EventHovering.prototype.triggerEvent = function (publicEvName, ev, segEl) {\n        var component = this.component;\n        var context = component.context;\n        var seg = getElSeg(segEl);\n        if (!ev || component.isValidSegDownEl(ev.target)) {\n            context.emitter.trigger(publicEvName, {\n                el: segEl,\n                event: new EventApi(context, seg.eventRange.def, seg.eventRange.instance),\n                jsEvent: ev,\n                view: context.viewApi,\n            });\n        }\n    };\n    return EventHovering;\n}(Interaction));\n\nvar CalendarContent = /** @class */ (function (_super) {\n    __extends(CalendarContent, _super);\n    function CalendarContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildViewContext = memoize(buildViewContext);\n        _this.buildViewPropTransformers = memoize(buildViewPropTransformers);\n        _this.buildToolbarProps = memoize(buildToolbarProps);\n        _this.handleNavLinkClick = buildDelegationHandler('a[data-navlink]', _this._handleNavLinkClick.bind(_this));\n        _this.headerRef = createRef();\n        _this.footerRef = createRef();\n        _this.interactionsStore = {};\n        // Component Registration\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.registerInteractiveComponent = function (component, settingsInput) {\n            var settings = parseInteractionSettings(component, settingsInput);\n            var DEFAULT_INTERACTIONS = [\n                EventClicking,\n                EventHovering,\n            ];\n            var interactionClasses = DEFAULT_INTERACTIONS.concat(_this.props.pluginHooks.componentInteractions);\n            var interactions = interactionClasses.map(function (TheInteractionClass) { return new TheInteractionClass(settings); });\n            _this.interactionsStore[component.uid] = interactions;\n            interactionSettingsStore[component.uid] = settings;\n        };\n        _this.unregisterInteractiveComponent = function (component) {\n            for (var _i = 0, _a = _this.interactionsStore[component.uid]; _i < _a.length; _i++) {\n                var listener = _a[_i];\n                listener.destroy();\n            }\n            delete _this.interactionsStore[component.uid];\n            delete interactionSettingsStore[component.uid];\n        };\n        // Resizing\n        // -----------------------------------------------------------------------------------------------------------------\n        _this.resizeRunner = new DelayedRunner(function () {\n            _this.props.emitter.trigger('_resize', true); // should window resizes be considered \"forced\" ?\n            _this.props.emitter.trigger('windowResize', { view: _this.props.viewApi });\n        });\n        _this.handleWindowResize = function (ev) {\n            var options = _this.props.options;\n            if (options.handleWindowResize &&\n                ev.target === window // avoid jqui events\n            ) {\n                _this.resizeRunner.request(options.windowResizeDelay);\n            }\n        };\n        return _this;\n    }\n    /*\n    renders INSIDE of an outer div\n    */\n    CalendarContent.prototype.render = function () {\n        var props = this.props;\n        var toolbarConfig = props.toolbarConfig, options = props.options;\n        var toolbarProps = this.buildToolbarProps(props.viewSpec, props.dateProfile, props.dateProfileGenerator, props.currentDate, getNow(props.options.now, props.dateEnv), // TODO: use NowTimer????\n        props.viewTitle);\n        var viewVGrow = false;\n        var viewHeight = '';\n        var viewAspectRatio;\n        if (props.isHeightAuto || props.forPrint) {\n            viewHeight = '';\n        }\n        else if (options.height != null) {\n            viewVGrow = true;\n        }\n        else if (options.contentHeight != null) {\n            viewHeight = options.contentHeight;\n        }\n        else {\n            viewAspectRatio = Math.max(options.aspectRatio, 0.5); // prevent from getting too tall\n        }\n        var viewContext = this.buildViewContext(props.viewSpec, props.viewApi, props.options, props.dateProfileGenerator, props.dateEnv, props.theme, props.pluginHooks, props.dispatch, props.getCurrentData, props.emitter, props.calendarApi, this.registerInteractiveComponent, this.unregisterInteractiveComponent);\n        return (createElement(ViewContextType.Provider, { value: viewContext },\n            toolbarConfig.headerToolbar && (createElement(Toolbar, __assign({ ref: this.headerRef, extraClassName: \"fc-header-toolbar\", model: toolbarConfig.headerToolbar }, toolbarProps))),\n            createElement(ViewContainer, { liquid: viewVGrow, height: viewHeight, aspectRatio: viewAspectRatio, onClick: this.handleNavLinkClick },\n                this.renderView(props),\n                this.buildAppendContent()),\n            toolbarConfig.footerToolbar && (createElement(Toolbar, __assign({ ref: this.footerRef, extraClassName: \"fc-footer-toolbar\", model: toolbarConfig.footerToolbar }, toolbarProps)))));\n    };\n    CalendarContent.prototype.componentDidMount = function () {\n        var props = this.props;\n        this.calendarInteractions = props.pluginHooks.calendarInteractions\n            .map(function (CalendarInteractionClass) { return new CalendarInteractionClass(props); });\n        window.addEventListener('resize', this.handleWindowResize);\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            propSetHandlers[propName](props[propName], props);\n        }\n    };\n    CalendarContent.prototype.componentDidUpdate = function (prevProps) {\n        var props = this.props;\n        var propSetHandlers = props.pluginHooks.propSetHandlers;\n        for (var propName in propSetHandlers) {\n            if (props[propName] !== prevProps[propName]) {\n                propSetHandlers[propName](props[propName], props);\n            }\n        }\n    };\n    CalendarContent.prototype.componentWillUnmount = function () {\n        window.removeEventListener('resize', this.handleWindowResize);\n        this.resizeRunner.clear();\n        for (var _i = 0, _a = this.calendarInteractions; _i < _a.length; _i++) {\n            var interaction = _a[_i];\n            interaction.destroy();\n        }\n        this.props.emitter.trigger('_unmount');\n    };\n    CalendarContent.prototype._handleNavLinkClick = function (ev, anchorEl) {\n        var _a = this.props, dateEnv = _a.dateEnv, options = _a.options, calendarApi = _a.calendarApi;\n        var navLinkOptions = anchorEl.getAttribute('data-navlink');\n        navLinkOptions = navLinkOptions ? JSON.parse(navLinkOptions) : {};\n        var dateMarker = dateEnv.createMarker(navLinkOptions.date);\n        var viewType = navLinkOptions.type;\n        var customAction = viewType === 'day' ? options.navLinkDayClick :\n            viewType === 'week' ? options.navLinkWeekClick : null;\n        if (typeof customAction === 'function') {\n            customAction.call(calendarApi, dateEnv.toDate(dateMarker), ev);\n        }\n        else {\n            if (typeof customAction === 'string') {\n                viewType = customAction;\n            }\n            calendarApi.zoomTo(dateMarker, viewType);\n        }\n    };\n    CalendarContent.prototype.buildAppendContent = function () {\n        var props = this.props;\n        var children = props.pluginHooks.viewContainerAppends.map(function (buildAppendContent) { return buildAppendContent(props); });\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], children));\n    };\n    CalendarContent.prototype.renderView = function (props) {\n        var pluginHooks = props.pluginHooks;\n        var viewSpec = props.viewSpec;\n        var viewProps = {\n            dateProfile: props.dateProfile,\n            businessHours: props.businessHours,\n            eventStore: props.renderableEventStore,\n            eventUiBases: props.eventUiBases,\n            dateSelection: props.dateSelection,\n            eventSelection: props.eventSelection,\n            eventDrag: props.eventDrag,\n            eventResize: props.eventResize,\n            isHeightAuto: props.isHeightAuto,\n            forPrint: props.forPrint,\n        };\n        var transformers = this.buildViewPropTransformers(pluginHooks.viewPropsTransformers);\n        for (var _i = 0, transformers_1 = transformers; _i < transformers_1.length; _i++) {\n            var transformer = transformers_1[_i];\n            __assign(viewProps, transformer.transform(viewProps, props));\n        }\n        var ViewComponent = viewSpec.component;\n        return (createElement(ViewComponent, __assign({}, viewProps)));\n    };\n    return CalendarContent;\n}(PureComponent));\nfunction buildToolbarProps(viewSpec, dateProfile, dateProfileGenerator, currentDate, now, title) {\n    // don't force any date-profiles to valid date profiles (the `false`) so that we can tell if it's invalid\n    var todayInfo = dateProfileGenerator.build(now, undefined, false); // TODO: need `undefined` or else INFINITE LOOP for some reason\n    var prevInfo = dateProfileGenerator.buildPrev(dateProfile, currentDate, false);\n    var nextInfo = dateProfileGenerator.buildNext(dateProfile, currentDate, false);\n    return {\n        title: title,\n        activeButton: viewSpec.type,\n        isTodayEnabled: todayInfo.isValid && !rangeContainsMarker(dateProfile.currentRange, now),\n        isPrevEnabled: prevInfo.isValid,\n        isNextEnabled: nextInfo.isValid,\n    };\n}\n// Plugin\n// -----------------------------------------------------------------------------------------------------------------\nfunction buildViewPropTransformers(theClasses) {\n    return theClasses.map(function (TheClass) { return new TheClass(); });\n}\n\nvar CalendarRoot = /** @class */ (function (_super) {\n    __extends(CalendarRoot, _super);\n    function CalendarRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            forPrint: false,\n        };\n        _this.handleBeforePrint = function () {\n            _this.setState({ forPrint: true });\n        };\n        _this.handleAfterPrint = function () {\n            _this.setState({ forPrint: false });\n        };\n        return _this;\n    }\n    CalendarRoot.prototype.render = function () {\n        var props = this.props;\n        var options = props.options;\n        var forPrint = this.state.forPrint;\n        var isHeightAuto = forPrint || options.height === 'auto' || options.contentHeight === 'auto';\n        var height = (!isHeightAuto && options.height != null) ? options.height : '';\n        var classNames = [\n            'fc',\n            forPrint ? 'fc-media-print' : 'fc-media-screen',\n            \"fc-direction-\" + options.direction,\n            props.theme.getClass('root'),\n        ];\n        if (!getCanVGrowWithinCell()) {\n            classNames.push('fc-liquid-hack');\n        }\n        return props.children(classNames, height, isHeightAuto, forPrint);\n    };\n    CalendarRoot.prototype.componentDidMount = function () {\n        var emitter = this.props.emitter;\n        emitter.on('_beforeprint', this.handleBeforePrint);\n        emitter.on('_afterprint', this.handleAfterPrint);\n    };\n    CalendarRoot.prototype.componentWillUnmount = function () {\n        var emitter = this.props.emitter;\n        emitter.off('_beforeprint', this.handleBeforePrint);\n        emitter.off('_afterprint', this.handleAfterPrint);\n    };\n    return CalendarRoot;\n}(BaseComponent));\n\n// Computes a default column header formatting string if `colFormat` is not explicitly defined\nfunction computeFallbackHeaderFormat(datesRepDistinctDays, dayCnt) {\n    // if more than one week row, or if there are a lot of columns with not much space,\n    // put just the day numbers will be in each cell\n    if (!datesRepDistinctDays || dayCnt > 10) {\n        return createFormatter({ weekday: 'short' }); // \"Sat\"\n    }\n    if (dayCnt > 1) {\n        return createFormatter({ weekday: 'short', month: 'numeric', day: 'numeric', omitCommas: true }); // \"Sat 11/12\"\n    }\n    return createFormatter({ weekday: 'long' }); // \"Saturday\"\n}\n\nvar CLASS_NAME = 'fc-col-header-cell'; // do the cushion too? no\nfunction renderInner$1(hookProps) {\n    return hookProps.text;\n}\n\nvar TableDateCell = /** @class */ (function (_super) {\n    __extends(TableDateCell, _super);\n    function TableDateCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDateCell.prototype.render = function () {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options, theme = _a.theme, viewApi = _a.viewApi;\n        var props = this.props;\n        var date = props.date, dateProfile = props.dateProfile;\n        var dayMeta = getDateMeta(date, props.todayRange, null, dateProfile);\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dayMeta, theme));\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        // if colCnt is 1, we are already in a day-view and don't need a navlink\n        var navLinkAttrs = (options.navLinks && !dayMeta.isDisabled && props.colCnt > 1)\n            ? { 'data-navlink': buildNavLinkData(date), tabIndex: 0 }\n            : {};\n        var hookProps = __assign(__assign(__assign({ date: dateEnv.toDate(date), view: viewApi }, props.extraHookProps), { text: text }), dayMeta);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-date\": !dayMeta.isDisabled ? formatDayString(date) : undefined, colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" }, !dayMeta.isDisabled && (createElement(\"a\", __assign({ ref: innerElRef, className: [\n                    'fc-col-header-cell-cushion',\n                    props.isSticky ? 'fc-sticky' : '',\n                ].join(' ') }, navLinkAttrs), innerContent))))); }));\n    };\n    return TableDateCell;\n}(BaseComponent));\n\nvar TableDowCell = /** @class */ (function (_super) {\n    __extends(TableDowCell, _super);\n    function TableDowCell() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableDowCell.prototype.render = function () {\n        var props = this.props;\n        var _a = this.context, dateEnv = _a.dateEnv, theme = _a.theme, viewApi = _a.viewApi, options = _a.options;\n        var date = addDays(new Date(259200000), props.dow); // start with Sun, 04 Jan 1970 00:00:00 GMT\n        var dateMeta = {\n            dow: props.dow,\n            isDisabled: false,\n            isFuture: false,\n            isPast: false,\n            isToday: false,\n            isOther: false,\n        };\n        var classNames = [CLASS_NAME].concat(getDayClassNames(dateMeta, theme), props.extraClassNames || []);\n        var text = dateEnv.format(date, props.dayHeaderFormat);\n        var hookProps = __assign(__assign(__assign(__assign({ // TODO: make this public?\n            date: date }, dateMeta), { view: viewApi }), props.extraHookProps), { text: text });\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.dayHeaderClassNames, content: options.dayHeaderContent, defaultContent: renderInner$1, didMount: options.dayHeaderDidMount, willUnmount: options.dayHeaderWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"th\", __assign({ ref: rootElRef, className: classNames.concat(customClassNames).join(' '), colSpan: props.colSpan }, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-scrollgrid-sync-inner\" },\n                createElement(\"a\", { className: [\n                        'fc-col-header-cell-cushion',\n                        props.isSticky ? 'fc-sticky' : '',\n                    ].join(' '), ref: innerElRef }, innerContent)))); }));\n    };\n    return TableDowCell;\n}(BaseComponent));\n\nvar NowTimer = /** @class */ (function (_super) {\n    __extends(NowTimer, _super);\n    function NowTimer(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.initialNowDate = getNow(context.options.now, context.dateEnv);\n        _this.initialNowQueriedMs = new Date().valueOf();\n        _this.state = _this.computeTiming().currentState;\n        return _this;\n    }\n    NowTimer.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return props.children(state.nowDate, state.todayRange);\n    };\n    NowTimer.prototype.componentDidMount = function () {\n        this.setTimeout();\n    };\n    NowTimer.prototype.componentDidUpdate = function (prevProps) {\n        if (prevProps.unit !== this.props.unit) {\n            this.clearTimeout();\n            this.setTimeout();\n        }\n    };\n    NowTimer.prototype.componentWillUnmount = function () {\n        this.clearTimeout();\n    };\n    NowTimer.prototype.computeTiming = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var unroundedNow = addMs(this.initialNowDate, new Date().valueOf() - this.initialNowQueriedMs);\n        var currentUnitStart = context.dateEnv.startOf(unroundedNow, props.unit);\n        var nextUnitStart = context.dateEnv.add(currentUnitStart, createDuration(1, props.unit));\n        var waitMs = nextUnitStart.valueOf() - unroundedNow.valueOf();\n        // there is a max setTimeout ms value (https://stackoverflow.com/a/3468650/96342)\n        // ensure no longer than a day\n        waitMs = Math.min(1000 * 60 * 60 * 24, waitMs);\n        return {\n            currentState: { nowDate: currentUnitStart, todayRange: buildDayRange(currentUnitStart) },\n            nextState: { nowDate: nextUnitStart, todayRange: buildDayRange(nextUnitStart) },\n            waitMs: waitMs,\n        };\n    };\n    NowTimer.prototype.setTimeout = function () {\n        var _this = this;\n        var _a = this.computeTiming(), nextState = _a.nextState, waitMs = _a.waitMs;\n        this.timeoutId = setTimeout(function () {\n            _this.setState(nextState, function () {\n                _this.setTimeout();\n            });\n        }, waitMs);\n    };\n    NowTimer.prototype.clearTimeout = function () {\n        if (this.timeoutId) {\n            clearTimeout(this.timeoutId);\n        }\n    };\n    NowTimer.contextType = ViewContextType;\n    return NowTimer;\n}(Component));\nfunction buildDayRange(date) {\n    var start = startOfDay(date);\n    var end = addDays(start, 1);\n    return { start: start, end: end };\n}\n\nvar DayHeader = /** @class */ (function (_super) {\n    __extends(DayHeader, _super);\n    function DayHeader() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.createDayHeaderFormatter = memoize(createDayHeaderFormatter);\n        return _this;\n    }\n    DayHeader.prototype.render = function () {\n        var context = this.context;\n        var _a = this.props, dates = _a.dates, dateProfile = _a.dateProfile, datesRepDistinctDays = _a.datesRepDistinctDays, renderIntro = _a.renderIntro;\n        var dayHeaderFormat = this.createDayHeaderFormatter(context.options.dayHeaderFormat, datesRepDistinctDays, dates.length);\n        return (createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(\"tr\", null,\n            renderIntro && renderIntro('day'),\n            dates.map(function (date) { return (datesRepDistinctDays ? (createElement(TableDateCell, { key: date.toISOString(), date: date, dateProfile: dateProfile, todayRange: todayRange, colCnt: dates.length, dayHeaderFormat: dayHeaderFormat })) : (createElement(TableDowCell, { key: date.getUTCDay(), dow: date.getUTCDay(), dayHeaderFormat: dayHeaderFormat }))); }))); }));\n    };\n    return DayHeader;\n}(BaseComponent));\nfunction createDayHeaderFormatter(explicitFormat, datesRepDistinctDays, dateCnt) {\n    return explicitFormat || computeFallbackHeaderFormat(datesRepDistinctDays, dateCnt);\n}\n\nvar DaySeriesModel = /** @class */ (function () {\n    function DaySeriesModel(range, dateProfileGenerator) {\n        var date = range.start;\n        var end = range.end;\n        var indices = [];\n        var dates = [];\n        var dayIndex = -1;\n        while (date < end) { // loop each day from start to end\n            if (dateProfileGenerator.isHiddenDay(date)) {\n                indices.push(dayIndex + 0.5); // mark that it's between indices\n            }\n            else {\n                dayIndex += 1;\n                indices.push(dayIndex);\n                dates.push(date);\n            }\n            date = addDays(date, 1);\n        }\n        this.dates = dates;\n        this.indices = indices;\n        this.cnt = dates.length;\n    }\n    DaySeriesModel.prototype.sliceRange = function (range) {\n        var firstIndex = this.getDateDayIndex(range.start); // inclusive first index\n        var lastIndex = this.getDateDayIndex(addDays(range.end, -1)); // inclusive last index\n        var clippedFirstIndex = Math.max(0, firstIndex);\n        var clippedLastIndex = Math.min(this.cnt - 1, lastIndex);\n        // deal with in-between indices\n        clippedFirstIndex = Math.ceil(clippedFirstIndex); // in-between starts round to next cell\n        clippedLastIndex = Math.floor(clippedLastIndex); // in-between ends round to prev cell\n        if (clippedFirstIndex <= clippedLastIndex) {\n            return {\n                firstIndex: clippedFirstIndex,\n                lastIndex: clippedLastIndex,\n                isStart: firstIndex === clippedFirstIndex,\n                isEnd: lastIndex === clippedLastIndex,\n            };\n        }\n        return null;\n    };\n    // Given a date, returns its chronolocial cell-index from the first cell of the grid.\n    // If the date lies between cells (because of hiddenDays), returns a floating-point value between offsets.\n    // If before the first offset, returns a negative number.\n    // If after the last offset, returns an offset past the last cell offset.\n    // Only works for *start* dates of cells. Will not work for exclusive end dates for cells.\n    DaySeriesModel.prototype.getDateDayIndex = function (date) {\n        var indices = this.indices;\n        var dayOffset = Math.floor(diffDays(this.dates[0], date));\n        if (dayOffset < 0) {\n            return indices[0] - 1;\n        }\n        if (dayOffset >= indices.length) {\n            return indices[indices.length - 1] + 1;\n        }\n        return indices[dayOffset];\n    };\n    return DaySeriesModel;\n}());\n\nvar DayTableModel = /** @class */ (function () {\n    function DayTableModel(daySeries, breakOnWeeks) {\n        var dates = daySeries.dates;\n        var daysPerRow;\n        var firstDay;\n        var rowCnt;\n        if (breakOnWeeks) {\n            // count columns until the day-of-week repeats\n            firstDay = dates[0].getUTCDay();\n            for (daysPerRow = 1; daysPerRow < dates.length; daysPerRow += 1) {\n                if (dates[daysPerRow].getUTCDay() === firstDay) {\n                    break;\n                }\n            }\n            rowCnt = Math.ceil(dates.length / daysPerRow);\n        }\n        else {\n            rowCnt = 1;\n            daysPerRow = dates.length;\n        }\n        this.rowCnt = rowCnt;\n        this.colCnt = daysPerRow;\n        this.daySeries = daySeries;\n        this.cells = this.buildCells();\n        this.headerDates = this.buildHeaderDates();\n    }\n    DayTableModel.prototype.buildCells = function () {\n        var rows = [];\n        for (var row = 0; row < this.rowCnt; row += 1) {\n            var cells = [];\n            for (var col = 0; col < this.colCnt; col += 1) {\n                cells.push(this.buildCell(row, col));\n            }\n            rows.push(cells);\n        }\n        return rows;\n    };\n    DayTableModel.prototype.buildCell = function (row, col) {\n        var date = this.daySeries.dates[row * this.colCnt + col];\n        return {\n            key: date.toISOString(),\n            date: date,\n        };\n    };\n    DayTableModel.prototype.buildHeaderDates = function () {\n        var dates = [];\n        for (var col = 0; col < this.colCnt; col += 1) {\n            dates.push(this.cells[0][col].date);\n        }\n        return dates;\n    };\n    DayTableModel.prototype.sliceRange = function (range) {\n        var colCnt = this.colCnt;\n        var seriesSeg = this.daySeries.sliceRange(range);\n        var segs = [];\n        if (seriesSeg) {\n            var firstIndex = seriesSeg.firstIndex, lastIndex = seriesSeg.lastIndex;\n            var index = firstIndex;\n            while (index <= lastIndex) {\n                var row = Math.floor(index / colCnt);\n                var nextIndex = Math.min((row + 1) * colCnt, lastIndex + 1);\n                segs.push({\n                    row: row,\n                    firstCol: index % colCnt,\n                    lastCol: (nextIndex - 1) % colCnt,\n                    isStart: seriesSeg.isStart && index === firstIndex,\n                    isEnd: seriesSeg.isEnd && (nextIndex - 1) === lastIndex,\n                });\n                index = nextIndex;\n            }\n        }\n        return segs;\n    };\n    return DayTableModel;\n}());\n\nvar Slicer = /** @class */ (function () {\n    function Slicer() {\n        this.sliceBusinessHours = memoize(this._sliceBusinessHours);\n        this.sliceDateSelection = memoize(this._sliceDateSpan);\n        this.sliceEventStore = memoize(this._sliceEventStore);\n        this.sliceEventDrag = memoize(this._sliceInteraction);\n        this.sliceEventResize = memoize(this._sliceInteraction);\n        this.forceDayIfListItem = false; // hack\n    }\n    Slicer.prototype.sliceProps = function (props, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        var eventUiBases = props.eventUiBases;\n        var eventSegs = this.sliceEventStore.apply(this, __spreadArray([props.eventStore, eventUiBases, dateProfile, nextDayThreshold], extraArgs));\n        return {\n            dateSelectionSegs: this.sliceDateSelection.apply(this, __spreadArray([props.dateSelection, eventUiBases, context], extraArgs)),\n            businessHourSegs: this.sliceBusinessHours.apply(this, __spreadArray([props.businessHours, dateProfile, nextDayThreshold, context], extraArgs)),\n            fgEventSegs: eventSegs.fg,\n            bgEventSegs: eventSegs.bg,\n            eventDrag: this.sliceEventDrag.apply(this, __spreadArray([props.eventDrag, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventResize: this.sliceEventResize.apply(this, __spreadArray([props.eventResize, eventUiBases, dateProfile, nextDayThreshold], extraArgs)),\n            eventSelection: props.eventSelection,\n        }; // TODO: give interactionSegs?\n    };\n    Slicer.prototype.sliceNowDate = function (// does not memoize\n    date, context) {\n        var extraArgs = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            extraArgs[_i - 2] = arguments[_i];\n        }\n        return this._sliceDateSpan.apply(this, __spreadArray([{ range: { start: date, end: addMs(date, 1) }, allDay: false },\n            {},\n            context], extraArgs));\n    };\n    Slicer.prototype._sliceBusinessHours = function (businessHours, dateProfile, nextDayThreshold, context) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!businessHours) {\n            return [];\n        }\n        return this._sliceEventStore.apply(this, __spreadArray([expandRecurring(businessHours, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), context),\n            {},\n            dateProfile,\n            nextDayThreshold], extraArgs)).bg;\n    };\n    Slicer.prototype._sliceEventStore = function (eventStore, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (eventStore) {\n            var rangeRes = sliceEventStore(eventStore, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n            return {\n                bg: this.sliceEventRanges(rangeRes.bg, extraArgs),\n                fg: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            };\n        }\n        return { bg: [], fg: [] };\n    };\n    Slicer.prototype._sliceInteraction = function (interaction, eventUiBases, dateProfile, nextDayThreshold) {\n        var extraArgs = [];\n        for (var _i = 4; _i < arguments.length; _i++) {\n            extraArgs[_i - 4] = arguments[_i];\n        }\n        if (!interaction) {\n            return null;\n        }\n        var rangeRes = sliceEventStore(interaction.mutatedEvents, eventUiBases, computeActiveRange(dateProfile, Boolean(nextDayThreshold)), nextDayThreshold);\n        return {\n            segs: this.sliceEventRanges(rangeRes.fg, extraArgs),\n            affectedInstances: interaction.affectedEvents.instances,\n            isEvent: interaction.isEvent,\n        };\n    };\n    Slicer.prototype._sliceDateSpan = function (dateSpan, eventUiBases, context) {\n        var extraArgs = [];\n        for (var _i = 3; _i < arguments.length; _i++) {\n            extraArgs[_i - 3] = arguments[_i];\n        }\n        if (!dateSpan) {\n            return [];\n        }\n        var eventRange = fabricateEventRange(dateSpan, eventUiBases, context);\n        var segs = this.sliceRange.apply(this, __spreadArray([dateSpan.range], extraArgs));\n        for (var _a = 0, segs_1 = segs; _a < segs_1.length; _a++) {\n            var seg = segs_1[_a];\n            seg.eventRange = eventRange;\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRanges = function (eventRanges, extraArgs) {\n        var segs = [];\n        for (var _i = 0, eventRanges_1 = eventRanges; _i < eventRanges_1.length; _i++) {\n            var eventRange = eventRanges_1[_i];\n            segs.push.apply(segs, this.sliceEventRange(eventRange, extraArgs));\n        }\n        return segs;\n    };\n    /*\n    \"complete\" seg means it has component and eventRange\n    */\n    Slicer.prototype.sliceEventRange = function (eventRange, extraArgs) {\n        var dateRange = eventRange.range;\n        // hack to make multi-day events that are being force-displayed as list-items to take up only one day\n        if (this.forceDayIfListItem && eventRange.ui.display === 'list-item') {\n            dateRange = {\n                start: dateRange.start,\n                end: addDays(dateRange.start, 1),\n            };\n        }\n        var segs = this.sliceRange.apply(this, __spreadArray([dateRange], extraArgs));\n        for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n            var seg = segs_2[_i];\n            seg.eventRange = eventRange;\n            seg.isStart = eventRange.isStart && seg.isStart;\n            seg.isEnd = eventRange.isEnd && seg.isEnd;\n        }\n        return segs;\n    };\n    return Slicer;\n}());\n/*\nfor incorporating slotMinTime/slotMaxTime if appropriate\nTODO: should be part of DateProfile!\nTimelineDateProfile already does this btw\n*/\nfunction computeActiveRange(dateProfile, isComponentAllDay) {\n    var range = dateProfile.activeRange;\n    if (isComponentAllDay) {\n        return range;\n    }\n    return {\n        start: addMs(range.start, dateProfile.slotMinTime.milliseconds),\n        end: addMs(range.end, dateProfile.slotMaxTime.milliseconds - 864e5), // 864e5 = ms in a day\n    };\n}\n\n// high-level segmenting-aware tester functions\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionValid(interaction, dateProfile, context) {\n    var instances = interaction.mutatedEvents.instances;\n    for (var instanceId in instances) {\n        if (!rangeContainsRange(dateProfile.validRange, instances[instanceId].range)) {\n            return false;\n        }\n    }\n    return isNewPropsValid({ eventDrag: interaction }, context); // HACK: the eventDrag props is used for ALL interactions\n}\nfunction isDateSelectionValid(dateSelection, dateProfile, context) {\n    if (!rangeContainsRange(dateProfile.validRange, dateSelection.range)) {\n        return false;\n    }\n    return isNewPropsValid({ dateSelection: dateSelection }, context);\n}\nfunction isNewPropsValid(newProps, context) {\n    var calendarState = context.getCurrentData();\n    var props = __assign({ businessHours: calendarState.businessHours, dateSelection: '', eventStore: calendarState.eventStore, eventUiBases: calendarState.eventUiBases, eventSelection: '', eventDrag: null, eventResize: null }, newProps);\n    return (context.pluginHooks.isPropsValid || isPropsValid)(props, context);\n}\nfunction isPropsValid(state, context, dateSpanMeta, filterConfig) {\n    if (dateSpanMeta === void 0) { dateSpanMeta = {}; }\n    if (state.eventDrag && !isInteractionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    if (state.dateSelection && !isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig)) {\n        return false;\n    }\n    return true;\n}\n// Moving Event Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isInteractionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var currentState = context.getCurrentData();\n    var interaction = state.eventDrag; // HACK: the eventDrag props is used for ALL interactions\n    var subjectEventStore = interaction.mutatedEvents;\n    var subjectDefs = subjectEventStore.defs;\n    var subjectInstances = subjectEventStore.instances;\n    var subjectConfigs = compileEventUis(subjectDefs, interaction.isEvent ?\n        state.eventUiBases :\n        { '': currentState.selectionConfig });\n    if (filterConfig) {\n        subjectConfigs = mapHash(subjectConfigs, filterConfig);\n    }\n    // exclude the subject events. TODO: exclude defs too?\n    var otherEventStore = excludeInstances(state.eventStore, interaction.affectedEvents.instances);\n    var otherDefs = otherEventStore.defs;\n    var otherInstances = otherEventStore.instances;\n    var otherConfigs = compileEventUis(otherDefs, state.eventUiBases);\n    for (var subjectInstanceId in subjectInstances) {\n        var subjectInstance = subjectInstances[subjectInstanceId];\n        var subjectRange = subjectInstance.range;\n        var subjectConfig = subjectConfigs[subjectInstance.defId];\n        var subjectDef = subjectDefs[subjectInstance.defId];\n        // constraint\n        if (!allConstraintsPass(subjectConfig.constraints, subjectRange, otherEventStore, state.businessHours, context)) {\n            return false;\n        }\n        // overlap\n        var eventOverlap = context.options.eventOverlap;\n        var eventOverlapFunc = typeof eventOverlap === 'function' ? eventOverlap : null;\n        for (var otherInstanceId in otherInstances) {\n            var otherInstance = otherInstances[otherInstanceId];\n            // intersect! evaluate\n            if (rangesIntersect(subjectRange, otherInstance.range)) {\n                var otherOverlap = otherConfigs[otherInstance.defId].overlap;\n                // consider the other event's overlap. only do this if the subject event is a \"real\" event\n                if (otherOverlap === false && interaction.isEvent) {\n                    return false;\n                }\n                if (subjectConfig.overlap === false) {\n                    return false;\n                }\n                if (eventOverlapFunc && !eventOverlapFunc(new EventApi(context, otherDefs[otherInstance.defId], otherInstance), // still event\n                new EventApi(context, subjectDef, subjectInstance))) {\n                    return false;\n                }\n            }\n        }\n        // allow (a function)\n        var calendarEventStore = currentState.eventStore; // need global-to-calendar, not local to component (splittable)state\n        for (var _i = 0, _a = subjectConfig.allows; _i < _a.length; _i++) {\n            var subjectAllow = _a[_i];\n            var subjectDateSpan = __assign(__assign({}, dateSpanMeta), { range: subjectInstance.range, allDay: subjectDef.allDay });\n            var origDef = calendarEventStore.defs[subjectDef.defId];\n            var origInstance = calendarEventStore.instances[subjectInstanceId];\n            var eventApi = void 0;\n            if (origDef) { // was previously in the calendar\n                eventApi = new EventApi(context, origDef, origInstance);\n            }\n            else { // was an external event\n                eventApi = new EventApi(context, subjectDef); // no instance, because had no dates\n            }\n            if (!subjectAllow(buildDateSpanApiWithContext(subjectDateSpan, context), eventApi)) {\n                return false;\n            }\n        }\n    }\n    return true;\n}\n// Date Selection Validation\n// ------------------------------------------------------------------------------------------------------------------------\nfunction isDateSelectionPropsValid(state, context, dateSpanMeta, filterConfig) {\n    var relevantEventStore = state.eventStore;\n    var relevantDefs = relevantEventStore.defs;\n    var relevantInstances = relevantEventStore.instances;\n    var selection = state.dateSelection;\n    var selectionRange = selection.range;\n    var selectionConfig = context.getCurrentData().selectionConfig;\n    if (filterConfig) {\n        selectionConfig = filterConfig(selectionConfig);\n    }\n    // constraint\n    if (!allConstraintsPass(selectionConfig.constraints, selectionRange, relevantEventStore, state.businessHours, context)) {\n        return false;\n    }\n    // overlap\n    var selectOverlap = context.options.selectOverlap;\n    var selectOverlapFunc = typeof selectOverlap === 'function' ? selectOverlap : null;\n    for (var relevantInstanceId in relevantInstances) {\n        var relevantInstance = relevantInstances[relevantInstanceId];\n        // intersect! evaluate\n        if (rangesIntersect(selectionRange, relevantInstance.range)) {\n            if (selectionConfig.overlap === false) {\n                return false;\n            }\n            if (selectOverlapFunc && !selectOverlapFunc(new EventApi(context, relevantDefs[relevantInstance.defId], relevantInstance), null)) {\n                return false;\n            }\n        }\n    }\n    // allow (a function)\n    for (var _i = 0, _a = selectionConfig.allows; _i < _a.length; _i++) {\n        var selectionAllow = _a[_i];\n        var fullDateSpan = __assign(__assign({}, dateSpanMeta), selection);\n        if (!selectionAllow(buildDateSpanApiWithContext(fullDateSpan, context), null)) {\n            return false;\n        }\n    }\n    return true;\n}\n// Constraint Utils\n// ------------------------------------------------------------------------------------------------------------------------\nfunction allConstraintsPass(constraints, subjectRange, otherEventStore, businessHoursUnexpanded, context) {\n    for (var _i = 0, constraints_1 = constraints; _i < constraints_1.length; _i++) {\n        var constraint = constraints_1[_i];\n        if (!anyRangesContainRange(constraintToRanges(constraint, subjectRange, otherEventStore, businessHoursUnexpanded, context), subjectRange)) {\n            return false;\n        }\n    }\n    return true;\n}\nfunction constraintToRanges(constraint, subjectRange, // for expanding a recurring constraint, or expanding business hours\notherEventStore, // for if constraint is an even group ID\nbusinessHoursUnexpanded, // for if constraint is 'businessHours'\ncontext) {\n    if (constraint === 'businessHours') {\n        return eventStoreToRanges(expandRecurring(businessHoursUnexpanded, subjectRange, context));\n    }\n    if (typeof constraint === 'string') { // an group ID\n        return eventStoreToRanges(filterEventStoreDefs(otherEventStore, function (eventDef) { return eventDef.groupId === constraint; }));\n    }\n    if (typeof constraint === 'object' && constraint) { // non-null object\n        return eventStoreToRanges(expandRecurring(constraint, subjectRange, context));\n    }\n    return []; // if it's false\n}\n// TODO: move to event-store file?\nfunction eventStoreToRanges(eventStore) {\n    var instances = eventStore.instances;\n    var ranges = [];\n    for (var instanceId in instances) {\n        ranges.push(instances[instanceId].range);\n    }\n    return ranges;\n}\n// TODO: move to geom file?\nfunction anyRangesContainRange(outerRanges, innerRange) {\n    for (var _i = 0, outerRanges_1 = outerRanges; _i < outerRanges_1.length; _i++) {\n        var outerRange = outerRanges_1[_i];\n        if (rangeContainsRange(outerRange, innerRange)) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar VISIBLE_HIDDEN_RE = /^(visible|hidden)$/;\nvar Scroller = /** @class */ (function (_super) {\n    __extends(Scroller, _super);\n    function Scroller() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleEl = function (el) {\n            _this.el = el;\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    Scroller.prototype.render = function () {\n        var props = this.props;\n        var liquid = props.liquid, liquidIsAbsolute = props.liquidIsAbsolute;\n        var isAbsolute = liquid && liquidIsAbsolute;\n        var className = ['fc-scroller'];\n        if (liquid) {\n            if (liquidIsAbsolute) {\n                className.push('fc-scroller-liquid-absolute');\n            }\n            else {\n                className.push('fc-scroller-liquid');\n            }\n        }\n        return (createElement(\"div\", { ref: this.handleEl, className: className.join(' '), style: {\n                overflowX: props.overflowX,\n                overflowY: props.overflowY,\n                left: (isAbsolute && -(props.overcomeLeft || 0)) || '',\n                right: (isAbsolute && -(props.overcomeRight || 0)) || '',\n                bottom: (isAbsolute && -(props.overcomeBottom || 0)) || '',\n                marginLeft: (!isAbsolute && -(props.overcomeLeft || 0)) || '',\n                marginRight: (!isAbsolute && -(props.overcomeRight || 0)) || '',\n                marginBottom: (!isAbsolute && -(props.overcomeBottom || 0)) || '',\n                maxHeight: props.maxHeight || '',\n            } }, props.children));\n    };\n    Scroller.prototype.needsXScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return false;\n        }\n        // testing scrollWidth>clientWidth is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientWidth = this.el.getBoundingClientRect().width - this.getYScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().width > realClientWidth) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.needsYScrolling = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return false;\n        }\n        // testing scrollHeight>clientHeight is unreliable cross-browser when pixel heights aren't integers.\n        // much more reliable to see if children are taller than the scroller, even tho doesn't account for\n        // inner-child margins and absolute positioning\n        var el = this.el;\n        var realClientHeight = this.el.getBoundingClientRect().height - this.getXScrollbarWidth();\n        var children = el.children;\n        for (var i = 0; i < children.length; i += 1) {\n            var childEl = children[i];\n            if (childEl.getBoundingClientRect().height > realClientHeight) {\n                return true;\n            }\n        }\n        return false;\n    };\n    Scroller.prototype.getXScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowX)) {\n            return 0;\n        }\n        return this.el.offsetHeight - this.el.clientHeight; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    Scroller.prototype.getYScrollbarWidth = function () {\n        if (VISIBLE_HIDDEN_RE.test(this.props.overflowY)) {\n            return 0;\n        }\n        return this.el.offsetWidth - this.el.clientWidth; // only works because we guarantee no borders. TODO: add to CSS with important?\n    };\n    return Scroller;\n}(BaseComponent));\n\n/*\nTODO: somehow infer OtherArgs from masterCallback?\nTODO: infer RefType from masterCallback if provided\n*/\nvar RefMap = /** @class */ (function () {\n    function RefMap(masterCallback) {\n        var _this = this;\n        this.masterCallback = masterCallback;\n        this.currentMap = {};\n        this.depths = {};\n        this.callbackMap = {};\n        this.handleValue = function (val, key) {\n            var _a = _this, depths = _a.depths, currentMap = _a.currentMap;\n            var removed = false;\n            var added = false;\n            if (val !== null) {\n                // for bug... ACTUALLY: can probably do away with this now that callers don't share numeric indices anymore\n                removed = (key in currentMap);\n                currentMap[key] = val;\n                depths[key] = (depths[key] || 0) + 1;\n                added = true;\n            }\n            else {\n                depths[key] -= 1;\n                if (!depths[key]) {\n                    delete currentMap[key];\n                    delete _this.callbackMap[key];\n                    removed = true;\n                }\n            }\n            if (_this.masterCallback) {\n                if (removed) {\n                    _this.masterCallback(null, String(key));\n                }\n                if (added) {\n                    _this.masterCallback(val, String(key));\n                }\n            }\n        };\n    }\n    RefMap.prototype.createRef = function (key) {\n        var _this = this;\n        var refCallback = this.callbackMap[key];\n        if (!refCallback) {\n            refCallback = this.callbackMap[key] = function (val) {\n                _this.handleValue(val, String(key));\n            };\n        }\n        return refCallback;\n    };\n    // TODO: check callers that don't care about order. should use getAll instead\n    // NOTE: this method has become less valuable now that we are encouraged to map order by some other index\n    // TODO: provide ONE array-export function, buildArray, which fails on non-numeric indexes. caller can manipulate and \"collect\"\n    RefMap.prototype.collect = function (startIndex, endIndex, step) {\n        return collectFromHash(this.currentMap, startIndex, endIndex, step);\n    };\n    RefMap.prototype.getAll = function () {\n        return hashValuesToArray(this.currentMap);\n    };\n    return RefMap;\n}());\n\nfunction computeShrinkWidth(chunkEls) {\n    var shrinkCells = findElements(chunkEls, '.fc-scrollgrid-shrink');\n    var largestWidth = 0;\n    for (var _i = 0, shrinkCells_1 = shrinkCells; _i < shrinkCells_1.length; _i++) {\n        var shrinkCell = shrinkCells_1[_i];\n        largestWidth = Math.max(largestWidth, computeSmallestCellWidth(shrinkCell));\n    }\n    return Math.ceil(largestWidth); // <table> elements work best with integers. round up to ensure contents fits\n}\nfunction getSectionHasLiquidHeight(props, sectionConfig) {\n    return props.liquid && sectionConfig.liquid; // does the section do liquid-height? (need to have whole scrollgrid liquid-height as well)\n}\nfunction getAllowYScrolling(props, sectionConfig) {\n    return sectionConfig.maxHeight != null || // if its possible for the height to max out, we might need scrollbars\n        getSectionHasLiquidHeight(props, sectionConfig); // if the section is liquid height, it might condense enough to require scrollbars\n}\n// TODO: ONLY use `arg`. force out internal function to use same API\nfunction renderChunkContent(sectionConfig, chunkConfig, arg) {\n    var expandRows = arg.expandRows;\n    var content = typeof chunkConfig.content === 'function' ?\n        chunkConfig.content(arg) :\n        createElement('table', {\n            className: [\n                chunkConfig.tableClassName,\n                sectionConfig.syncRowHeights ? 'fc-scrollgrid-sync-table' : '',\n            ].join(' '),\n            style: {\n                minWidth: arg.tableMinWidth,\n                width: arg.clientWidth,\n                height: expandRows ? arg.clientHeight : '', // css `height` on a <table> serves as a min-height\n            },\n        }, arg.tableColGroupNode, createElement('tbody', {}, typeof chunkConfig.rowContent === 'function' ? chunkConfig.rowContent(arg) : chunkConfig.rowContent));\n    return content;\n}\nfunction isColPropsEqual(cols0, cols1) {\n    return isArraysEqual(cols0, cols1, isPropsEqual);\n}\nfunction renderMicroColGroup(cols, shrinkWidth) {\n    var colNodes = [];\n    /*\n    for ColProps with spans, it would have been great to make a single <col span=\"\">\n    HOWEVER, Chrome was getting messing up distributing the width to <td>/<th> elements with colspans.\n    SOLUTION: making individual <col> elements makes Chrome behave.\n    */\n    for (var _i = 0, cols_1 = cols; _i < cols_1.length; _i++) {\n        var colProps = cols_1[_i];\n        var span = colProps.span || 1;\n        for (var i = 0; i < span; i += 1) {\n            colNodes.push(createElement(\"col\", { style: {\n                    width: colProps.width === 'shrink' ? sanitizeShrinkWidth(shrinkWidth) : (colProps.width || ''),\n                    minWidth: colProps.minWidth || '',\n                } }));\n        }\n    }\n    return createElement.apply(void 0, __spreadArray(['colgroup', {}], colNodes));\n}\nfunction sanitizeShrinkWidth(shrinkWidth) {\n    /* why 4? if we do 0, it will kill any border, which are needed for computeSmallestCellWidth\n    4 accounts for 2 2-pixel borders. TODO: better solution? */\n    return shrinkWidth == null ? 4 : shrinkWidth;\n}\nfunction hasShrinkWidth(cols) {\n    for (var _i = 0, cols_2 = cols; _i < cols_2.length; _i++) {\n        var col = cols_2[_i];\n        if (col.width === 'shrink') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction getScrollGridClassNames(liquid, context) {\n    var classNames = [\n        'fc-scrollgrid',\n        context.theme.getClass('table'),\n    ];\n    if (liquid) {\n        classNames.push('fc-scrollgrid-liquid');\n    }\n    return classNames;\n}\nfunction getSectionClassNames(sectionConfig, wholeTableVGrow) {\n    var classNames = [\n        'fc-scrollgrid-section',\n        \"fc-scrollgrid-section-\" + sectionConfig.type,\n        sectionConfig.className, // used?\n    ];\n    if (wholeTableVGrow && sectionConfig.liquid && sectionConfig.maxHeight == null) {\n        classNames.push('fc-scrollgrid-section-liquid');\n    }\n    if (sectionConfig.isSticky) {\n        classNames.push('fc-scrollgrid-section-sticky');\n    }\n    return classNames;\n}\nfunction renderScrollShim(arg) {\n    return (createElement(\"div\", { className: \"fc-scrollgrid-sticky-shim\", style: {\n            width: arg.clientWidth,\n            minWidth: arg.tableMinWidth,\n        } }));\n}\nfunction getStickyHeaderDates(options) {\n    var stickyHeaderDates = options.stickyHeaderDates;\n    if (stickyHeaderDates == null || stickyHeaderDates === 'auto') {\n        stickyHeaderDates = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyHeaderDates;\n}\nfunction getStickyFooterScrollbar(options) {\n    var stickyFooterScrollbar = options.stickyFooterScrollbar;\n    if (stickyFooterScrollbar == null || stickyFooterScrollbar === 'auto') {\n        stickyFooterScrollbar = options.height === 'auto' || options.viewHeight === 'auto';\n    }\n    return stickyFooterScrollbar;\n}\n\nvar SimpleScrollGrid = /** @class */ (function (_super) {\n    __extends(SimpleScrollGrid, _super);\n    function SimpleScrollGrid() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processCols = memoize(function (a) { return a; }, isColPropsEqual); // so we get same `cols` props every time\n        // yucky to memoize VNodes, but much more efficient for consumers\n        _this.renderMicroColGroup = memoize(renderMicroColGroup);\n        _this.scrollerRefs = new RefMap();\n        _this.scrollerElRefs = new RefMap(_this._handleScrollerEl.bind(_this));\n        _this.state = {\n            shrinkWidth: null,\n            forceYScrollbars: false,\n            scrollerClientWidths: {},\n            scrollerClientHeights: {},\n        };\n        // TODO: can do a really simple print-view. dont need to join rows\n        _this.handleSizing = function () {\n            _this.setState(__assign({ shrinkWidth: _this.computeShrinkWidth() }, _this.computeScrollerDims()));\n        };\n        return _this;\n    }\n    SimpleScrollGrid.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var sectionConfigs = props.sections || [];\n        var cols = this.processCols(props.cols);\n        var microColGroupNode = this.renderMicroColGroup(cols, state.shrinkWidth);\n        var classNames = getScrollGridClassNames(props.liquid, context);\n        if (props.collapsibleWidth) {\n            classNames.push('fc-scrollgrid-collapsible');\n        }\n        // TODO: make DRY\n        var configCnt = sectionConfigs.length;\n        var configI = 0;\n        var currentConfig;\n        var headSectionNodes = [];\n        var bodySectionNodes = [];\n        var footSectionNodes = [];\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'header') {\n            headSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'body') {\n            bodySectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        while (configI < configCnt && (currentConfig = sectionConfigs[configI]).type === 'footer') {\n            footSectionNodes.push(this.renderSection(currentConfig, microColGroupNode));\n            configI += 1;\n        }\n        // firefox bug: when setting height on table and there is a thead or tfoot,\n        // the necessary height:100% on the liquid-height body section forces the *whole* table to be taller. (bug #5524)\n        // use getCanVGrowWithinCell as a way to detect table-stupid firefox.\n        // if so, use a simpler dom structure, jam everything into a lone tbody.\n        var isBuggy = !getCanVGrowWithinCell();\n        return createElement('table', {\n            className: classNames.join(' '),\n            style: { height: props.height },\n        }, Boolean(!isBuggy && headSectionNodes.length) && createElement.apply(void 0, __spreadArray(['thead', {}], headSectionNodes)), Boolean(!isBuggy && bodySectionNodes.length) && createElement.apply(void 0, __spreadArray(['tbody', {}], bodySectionNodes)), Boolean(!isBuggy && footSectionNodes.length) && createElement.apply(void 0, __spreadArray(['tfoot', {}], footSectionNodes)), isBuggy && createElement.apply(void 0, __spreadArray(__spreadArray(__spreadArray(['tbody', {}], headSectionNodes), bodySectionNodes), footSectionNodes)));\n    };\n    SimpleScrollGrid.prototype.renderSection = function (sectionConfig, microColGroupNode) {\n        if ('outerContent' in sectionConfig) {\n            return (createElement(Fragment, { key: sectionConfig.key }, sectionConfig.outerContent));\n        }\n        return (createElement(\"tr\", { key: sectionConfig.key, className: getSectionClassNames(sectionConfig, this.props.liquid).join(' ') }, this.renderChunkTd(sectionConfig, microColGroupNode, sectionConfig.chunk)));\n    };\n    SimpleScrollGrid.prototype.renderChunkTd = function (sectionConfig, microColGroupNode, chunkConfig) {\n        if ('outerContent' in chunkConfig) {\n            return chunkConfig.outerContent;\n        }\n        var props = this.props;\n        var _a = this.state, forceYScrollbars = _a.forceYScrollbars, scrollerClientWidths = _a.scrollerClientWidths, scrollerClientHeights = _a.scrollerClientHeights;\n        var needsYScrolling = getAllowYScrolling(props, sectionConfig); // TODO: do lazily. do in section config?\n        var isLiquid = getSectionHasLiquidHeight(props, sectionConfig);\n        // for `!props.liquid` - is WHOLE scrollgrid natural height?\n        // TODO: do same thing in advanced scrollgrid? prolly not b/c always has horizontal scrollbars\n        var overflowY = !props.liquid ? 'visible' :\n            forceYScrollbars ? 'scroll' :\n                !needsYScrolling ? 'hidden' :\n                    'auto';\n        var sectionKey = sectionConfig.key;\n        var content = renderChunkContent(sectionConfig, chunkConfig, {\n            tableColGroupNode: microColGroupNode,\n            tableMinWidth: '',\n            clientWidth: (!props.collapsibleWidth && scrollerClientWidths[sectionKey] !== undefined) ? scrollerClientWidths[sectionKey] : null,\n            clientHeight: scrollerClientHeights[sectionKey] !== undefined ? scrollerClientHeights[sectionKey] : null,\n            expandRows: sectionConfig.expandRows,\n            syncRowHeights: false,\n            rowSyncHeights: [],\n            reportRowHeightChange: function () { },\n        });\n        return (createElement(\"td\", { ref: chunkConfig.elRef },\n            createElement(\"div\", { className: \"fc-scroller-harness\" + (isLiquid ? ' fc-scroller-harness-liquid' : '') },\n                createElement(Scroller, { ref: this.scrollerRefs.createRef(sectionKey), elRef: this.scrollerElRefs.createRef(sectionKey), overflowY: overflowY, overflowX: !props.liquid ? 'visible' : 'hidden' /* natural height? */, maxHeight: sectionConfig.maxHeight, liquid: isLiquid, liquidIsAbsolute // because its within a harness\n                    : true }, content))));\n    };\n    SimpleScrollGrid.prototype._handleScrollerEl = function (scrollerEl, key) {\n        var section = getSectionByKey(this.props.sections, key);\n        if (section) {\n            setRef(section.chunk.scrollerElRef, scrollerEl);\n        }\n    };\n    SimpleScrollGrid.prototype.componentDidMount = function () {\n        this.handleSizing();\n        this.context.addResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.componentDidUpdate = function () {\n        // TODO: need better solution when state contains non-sizing things\n        this.handleSizing();\n    };\n    SimpleScrollGrid.prototype.componentWillUnmount = function () {\n        this.context.removeResizeHandler(this.handleSizing);\n    };\n    SimpleScrollGrid.prototype.computeShrinkWidth = function () {\n        return hasShrinkWidth(this.props.cols)\n            ? computeShrinkWidth(this.scrollerElRefs.getAll())\n            : 0;\n    };\n    SimpleScrollGrid.prototype.computeScrollerDims = function () {\n        var scrollbarWidth = getScrollbarWidths();\n        var _a = this, scrollerRefs = _a.scrollerRefs, scrollerElRefs = _a.scrollerElRefs;\n        var forceYScrollbars = false;\n        var scrollerClientWidths = {};\n        var scrollerClientHeights = {};\n        for (var sectionKey in scrollerRefs.currentMap) {\n            var scroller = scrollerRefs.currentMap[sectionKey];\n            if (scroller && scroller.needsYScrolling()) {\n                forceYScrollbars = true;\n                break;\n            }\n        }\n        for (var _i = 0, _b = this.props.sections; _i < _b.length; _i++) {\n            var section = _b[_i];\n            var sectionKey = section.key;\n            var scrollerEl = scrollerElRefs.currentMap[sectionKey];\n            if (scrollerEl) {\n                var harnessEl = scrollerEl.parentNode; // TODO: weird way to get this. need harness b/c doesn't include table borders\n                scrollerClientWidths[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().width - (forceYScrollbars\n                    ? scrollbarWidth.y // use global because scroller might not have scrollbars yet but will need them in future\n                    : 0));\n                scrollerClientHeights[sectionKey] = Math.floor(harnessEl.getBoundingClientRect().height);\n            }\n        }\n        return { forceYScrollbars: forceYScrollbars, scrollerClientWidths: scrollerClientWidths, scrollerClientHeights: scrollerClientHeights };\n    };\n    return SimpleScrollGrid;\n}(BaseComponent));\nSimpleScrollGrid.addStateEquality({\n    scrollerClientWidths: isPropsEqual,\n    scrollerClientHeights: isPropsEqual,\n});\nfunction getSectionByKey(sections, key) {\n    for (var _i = 0, sections_1 = sections; _i < sections_1.length; _i++) {\n        var section = sections_1[_i];\n        if (section.key === key) {\n            return section;\n        }\n    }\n    return null;\n}\n\nvar EventRoot = /** @class */ (function (_super) {\n    __extends(EventRoot, _super);\n    function EventRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.elRef = createRef();\n        return _this;\n    }\n    EventRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var seg = props.seg;\n        var eventRange = seg.eventRange;\n        var ui = eventRange.ui;\n        var hookProps = {\n            event: new EventApi(context, eventRange.def, eventRange.instance),\n            view: context.viewApi,\n            timeText: props.timeText,\n            textColor: ui.textColor,\n            backgroundColor: ui.backgroundColor,\n            borderColor: ui.borderColor,\n            isDraggable: !props.disableDragging && computeSegDraggable(seg, context),\n            isStartResizable: !props.disableResizing && computeSegStartResizable(seg, context),\n            isEndResizable: !props.disableResizing && computeSegEndResizable(seg),\n            isMirror: Boolean(props.isDragging || props.isResizing || props.isDateSelecting),\n            isStart: Boolean(seg.isStart),\n            isEnd: Boolean(seg.isEnd),\n            isPast: Boolean(props.isPast),\n            isFuture: Boolean(props.isFuture),\n            isToday: Boolean(props.isToday),\n            isSelected: Boolean(props.isSelected),\n            isDragging: Boolean(props.isDragging),\n            isResizing: Boolean(props.isResizing),\n        };\n        var standardClassNames = getEventClassNames(hookProps).concat(ui.classNames);\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.eventClassNames, content: options.eventContent, defaultContent: props.defaultContent, didMount: options.eventDidMount, willUnmount: options.eventWillUnmount, elRef: this.elRef }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, standardClassNames.concat(customClassNames), innerElRef, innerContent, hookProps); }));\n    };\n    EventRoot.prototype.componentDidMount = function () {\n        setElSeg(this.elRef.current, this.props.seg);\n    };\n    /*\n    need to re-assign seg to the element if seg changes, even if the element is the same\n    */\n    EventRoot.prototype.componentDidUpdate = function (prevProps) {\n        var seg = this.props.seg;\n        if (seg !== prevProps.seg) {\n            setElSeg(this.elRef.current, seg);\n        }\n    };\n    return EventRoot;\n}(BaseComponent));\n\n// should not be a purecomponent\nvar StandardEvent = /** @class */ (function (_super) {\n    __extends(StandardEvent, _super);\n    function StandardEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StandardEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var seg = props.seg;\n        var timeFormat = context.options.eventTimeFormat || props.defaultTimeFormat;\n        var timeText = buildSegTimeText(seg, timeFormat, context, props.defaultDisplayEventTime, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: seg, timeText: timeText, disableDragging: props.disableDragging, disableResizing: props.disableResizing, defaultContent: props.defaultContent || renderInnerContent$1, isDragging: props.isDragging, isResizing: props.isResizing, isDateSelecting: props.isDateSelecting, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"a\", __assign({ className: props.extraClassNames.concat(classNames).join(' '), style: {\n                borderColor: hookProps.borderColor,\n                backgroundColor: hookProps.backgroundColor,\n            }, ref: rootElRef }, getSegAnchorAttrs(seg)),\n            createElement(\"div\", { className: \"fc-event-main\", ref: innerElRef, style: { color: hookProps.textColor } }, innerContent),\n            hookProps.isStartResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-start\" }),\n            hookProps.isEndResizable &&\n                createElement(\"div\", { className: \"fc-event-resizer fc-event-resizer-end\" }))); }));\n    };\n    return StandardEvent;\n}(BaseComponent));\nfunction renderInnerContent$1(innerProps) {\n    return (createElement(\"div\", { className: \"fc-event-main-frame\" },\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title-container\" },\n            createElement(\"div\", { className: \"fc-event-title fc-sticky\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\")))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar NowIndicatorRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var options = context.options;\n    var hookProps = {\n        isAxis: props.isAxis,\n        date: context.dateEnv.toDate(props.date),\n        view: context.viewApi,\n    };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.nowIndicatorClassNames, content: options.nowIndicatorContent, didMount: options.nowIndicatorDidMount, willUnmount: options.nowIndicatorWillUnmount }, props.children));\n})); };\n\nvar DAY_NUM_FORMAT = createFormatter({ day: 'numeric' });\nvar DayCellContent = /** @class */ (function (_super) {\n    __extends(DayCellContent, _super);\n    function DayCellContent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayCellContent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = refineDayCellHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        return (createElement(ContentHook, { hookProps: hookProps, content: options.dayCellContent, defaultContent: props.defaultContent }, props.children));\n    };\n    return DayCellContent;\n}(BaseComponent));\nfunction refineDayCellHookProps(raw) {\n    var date = raw.date, dateEnv = raw.dateEnv;\n    var dayMeta = getDateMeta(date, raw.todayRange, null, raw.dateProfile);\n    return __assign(__assign(__assign({ date: dateEnv.toDate(date), view: raw.viewApi }, dayMeta), { dayNumberText: raw.showDayNumber ? dateEnv.format(date, DAY_NUM_FORMAT) : '' }), raw.extraProps);\n}\n\nvar DayCellRoot = /** @class */ (function (_super) {\n    __extends(DayCellRoot, _super);\n    function DayCellRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.refineHookProps = memoizeObjArg(refineDayCellHookProps);\n        _this.normalizeClassNames = buildClassNameNormalizer();\n        return _this;\n    }\n    DayCellRoot.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var hookProps = this.refineHookProps({\n            date: props.date,\n            dateProfile: props.dateProfile,\n            todayRange: props.todayRange,\n            showDayNumber: props.showDayNumber,\n            extraProps: props.extraHookProps,\n            viewApi: context.viewApi,\n            dateEnv: context.dateEnv,\n        });\n        var classNames = getDayClassNames(hookProps, context.theme).concat(hookProps.isDisabled\n            ? [] // don't use custom classNames if disabled\n            : this.normalizeClassNames(options.dayCellClassNames, hookProps));\n        var dataAttrs = hookProps.isDisabled ? {} : {\n            'data-date': formatDayString(props.date),\n        };\n        return (createElement(MountHook, { hookProps: hookProps, didMount: options.dayCellDidMount, willUnmount: options.dayCellWillUnmount, elRef: props.elRef }, function (rootElRef) { return props.children(rootElRef, classNames, dataAttrs, hookProps.isDisabled); }));\n    };\n    return DayCellRoot;\n}(BaseComponent));\n\nfunction renderFill(fillType) {\n    return (createElement(\"div\", { className: \"fc-\" + fillType }));\n}\nvar BgEvent = function (props) { return (createElement(EventRoot, { defaultContent: renderInnerContent, seg: props.seg /* uselesss i think */, timeText: \"\", disableDragging: true, disableResizing: true, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: false, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent, hookProps) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-bg-event'].concat(classNames).join(' '), style: {\n        backgroundColor: hookProps.backgroundColor,\n    } }, innerContent)); })); };\nfunction renderInnerContent(props) {\n    var title = props.event.title;\n    return title && (createElement(\"div\", { className: \"fc-event-title\" }, props.event.title));\n}\n\nvar WeekNumberRoot = function (props) { return (createElement(ViewContextType.Consumer, null, function (context) {\n    var dateEnv = context.dateEnv, options = context.options;\n    var date = props.date;\n    var format = options.weekNumberFormat || props.defaultFormat;\n    var num = dateEnv.computeWeekNumber(date); // TODO: somehow use for formatting as well?\n    var text = dateEnv.format(date, format);\n    var hookProps = { num: num, text: text, date: date };\n    return (createElement(RenderHook, { hookProps: hookProps, classNames: options.weekNumberClassNames, content: options.weekNumberContent, defaultContent: renderInner, didMount: options.weekNumberDidMount, willUnmount: options.weekNumberWillUnmount }, props.children));\n})); };\nfunction renderInner(innerProps) {\n    return innerProps.text;\n}\n\nvar PADDING_FROM_VIEWPORT = 10;\nvar Popover = /** @class */ (function (_super) {\n    __extends(Popover, _super);\n    function Popover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (el) {\n            _this.rootEl = el;\n            if (_this.props.elRef) {\n                setRef(_this.props.elRef, el);\n            }\n        };\n        // Triggered when the user clicks *anywhere* in the document, for the autoHide feature\n        _this.handleDocumentMousedown = function (ev) {\n            // only hide the popover if the click happened outside the popover\n            var target = getEventTargetViaRoot(ev);\n            if (!_this.rootEl.contains(target)) {\n                _this.handleCloseClick();\n            }\n        };\n        _this.handleCloseClick = function () {\n            var onClose = _this.props.onClose;\n            if (onClose) {\n                onClose();\n            }\n        };\n        return _this;\n    }\n    Popover.prototype.render = function () {\n        var theme = this.context.theme;\n        var props = this.props;\n        var classNames = [\n            'fc-popover',\n            theme.getClass('popover'),\n        ].concat(props.extraClassNames || []);\n        return createPortal(createElement(\"div\", __assign({ className: classNames.join(' ') }, props.extraAttrs, { ref: this.handleRootEl }),\n            createElement(\"div\", { className: 'fc-popover-header ' + theme.getClass('popoverHeader') },\n                createElement(\"span\", { className: \"fc-popover-title\" }, props.title),\n                createElement(\"span\", { className: 'fc-popover-close ' + theme.getIconClass('close'), onClick: this.handleCloseClick })),\n            createElement(\"div\", { className: 'fc-popover-body ' + theme.getClass('popoverContent') }, props.children)), props.parentEl);\n    };\n    Popover.prototype.componentDidMount = function () {\n        document.addEventListener('mousedown', this.handleDocumentMousedown);\n        this.updateSize();\n    };\n    Popover.prototype.componentWillUnmount = function () {\n        document.removeEventListener('mousedown', this.handleDocumentMousedown);\n    };\n    Popover.prototype.updateSize = function () {\n        var isRtl = this.context.isRtl;\n        var _a = this.props, alignmentEl = _a.alignmentEl, alignGridTop = _a.alignGridTop;\n        var rootEl = this.rootEl;\n        var alignmentRect = computeClippedClientRect(alignmentEl);\n        if (alignmentRect) {\n            var popoverDims = rootEl.getBoundingClientRect();\n            // position relative to viewport\n            var popoverTop = alignGridTop\n                ? elementClosest(alignmentEl, '.fc-scrollgrid').getBoundingClientRect().top\n                : alignmentRect.top;\n            var popoverLeft = isRtl ? alignmentRect.right - popoverDims.width : alignmentRect.left;\n            // constrain\n            popoverTop = Math.max(popoverTop, PADDING_FROM_VIEWPORT);\n            popoverLeft = Math.min(popoverLeft, document.documentElement.clientWidth - PADDING_FROM_VIEWPORT - popoverDims.width);\n            popoverLeft = Math.max(popoverLeft, PADDING_FROM_VIEWPORT);\n            var origin_1 = rootEl.offsetParent.getBoundingClientRect();\n            applyStyle(rootEl, {\n                top: popoverTop - origin_1.top,\n                left: popoverLeft - origin_1.left,\n            });\n        }\n    };\n    return Popover;\n}(BaseComponent));\n\nvar MorePopover = /** @class */ (function (_super) {\n    __extends(MorePopover, _super);\n    function MorePopover() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    useEventCenter: false,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    MorePopover.prototype.render = function () {\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv;\n        var props = this.props;\n        var startDate = props.startDate, todayRange = props.todayRange, dateProfile = props.dateProfile;\n        var title = dateEnv.format(startDate, options.dayPopoverFormat);\n        return (createElement(DayCellRoot, { date: startDate, dateProfile: dateProfile, todayRange: todayRange, elRef: this.handleRootEl }, function (rootElRef, dayClassNames, dataAttrs) { return (createElement(Popover, { elRef: rootElRef, title: title, extraClassNames: ['fc-more-popover'].concat(dayClassNames), extraAttrs: dataAttrs /* TODO: make these time-based when not whole-day? */, parentEl: props.parentEl, alignmentEl: props.alignmentEl, alignGridTop: props.alignGridTop, onClose: props.onClose },\n            createElement(DayCellContent, { date: startDate, dateProfile: dateProfile, todayRange: todayRange }, function (innerElRef, innerContent) { return (innerContent &&\n                createElement(\"div\", { className: \"fc-more-popover-misc\", ref: innerElRef }, innerContent)); }),\n            props.children)); }));\n    };\n    MorePopover.prototype.queryHit = function (positionLeft, positionTop, elWidth, elHeight) {\n        var _a = this, rootEl = _a.rootEl, props = _a.props;\n        if (positionLeft >= 0 && positionLeft < elWidth &&\n            positionTop >= 0 && positionTop < elHeight) {\n            return {\n                dateProfile: props.dateProfile,\n                dateSpan: __assign({ allDay: true, range: {\n                        start: props.startDate,\n                        end: props.endDate,\n                    } }, props.extraDateSpan),\n                dayEl: rootEl,\n                rect: {\n                    left: 0,\n                    top: 0,\n                    right: elWidth,\n                    bottom: elHeight,\n                },\n                layer: 1, // important when comparing with hits from other components\n            };\n        }\n        return null;\n    };\n    return MorePopover;\n}(DateComponent));\n\nvar MoreLinkRoot = /** @class */ (function (_super) {\n    __extends(MoreLinkRoot, _super);\n    function MoreLinkRoot() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.linkElRef = createRef();\n        _this.state = {\n            isPopoverOpen: false,\n        };\n        _this.handleClick = function (ev) {\n            var _a = _this, props = _a.props, context = _a.context;\n            var moreLinkClick = context.options.moreLinkClick;\n            var date = computeRange(props).start;\n            function buildPublicSeg(seg) {\n                var _a = seg.eventRange, def = _a.def, instance = _a.instance, range = _a.range;\n                return {\n                    event: new EventApi(context, def, instance),\n                    start: context.dateEnv.toDate(range.start),\n                    end: context.dateEnv.toDate(range.end),\n                    isStart: seg.isStart,\n                    isEnd: seg.isEnd,\n                };\n            }\n            if (typeof moreLinkClick === 'function') {\n                moreLinkClick = moreLinkClick({\n                    date: date,\n                    allDay: Boolean(props.allDayDate),\n                    allSegs: props.allSegs.map(buildPublicSeg),\n                    hiddenSegs: props.hiddenSegs.map(buildPublicSeg),\n                    jsEvent: ev,\n                    view: context.viewApi,\n                });\n            }\n            if (!moreLinkClick || moreLinkClick === 'popover') {\n                _this.setState({ isPopoverOpen: true });\n            }\n            else if (typeof moreLinkClick === 'string') { // a view name\n                context.calendarApi.zoomTo(date, moreLinkClick);\n            }\n        };\n        _this.handlePopoverClose = function () {\n            _this.setState({ isPopoverOpen: false });\n        };\n        return _this;\n    }\n    MoreLinkRoot.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(ViewContextType.Consumer, null, function (context) {\n            var viewApi = context.viewApi, options = context.options, calendarApi = context.calendarApi;\n            var moreLinkText = options.moreLinkText;\n            var moreCnt = props.moreCnt;\n            var range = computeRange(props);\n            var hookProps = {\n                num: moreCnt,\n                shortText: \"+\" + moreCnt,\n                text: typeof moreLinkText === 'function'\n                    ? moreLinkText.call(calendarApi, moreCnt)\n                    : \"+\" + moreCnt + \" \" + moreLinkText,\n                view: viewApi,\n            };\n            return (createElement(Fragment, null,\n                Boolean(props.moreCnt) && (createElement(RenderHook, { elRef: _this.linkElRef, hookProps: hookProps, classNames: options.moreLinkClassNames, content: options.moreLinkContent, defaultContent: props.defaultContent || renderMoreLinkInner, didMount: options.moreLinkDidMount, willUnmount: options.moreLinkWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return props.children(rootElRef, ['fc-more-link'].concat(customClassNames), innerElRef, innerContent, _this.handleClick); })),\n                _this.state.isPopoverOpen && (createElement(MorePopover, { startDate: range.start, endDate: range.end, dateProfile: props.dateProfile, todayRange: props.todayRange, extraDateSpan: props.extraDateSpan, parentEl: _this.parentEl, alignmentEl: props.alignmentElRef.current, alignGridTop: props.alignGridTop, onClose: _this.handlePopoverClose }, props.popoverContent()))));\n        }));\n    };\n    MoreLinkRoot.prototype.componentDidMount = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.componentDidUpdate = function () {\n        this.updateParentEl();\n    };\n    MoreLinkRoot.prototype.updateParentEl = function () {\n        if (this.linkElRef.current) {\n            this.parentEl = elementClosest(this.linkElRef.current, '.fc-view-harness');\n        }\n    };\n    return MoreLinkRoot;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.text;\n}\nfunction computeRange(props) {\n    if (props.allDayDate) {\n        return {\n            start: props.allDayDate,\n            end: addDays(props.allDayDate, 1),\n        };\n    }\n    var hiddenSegs = props.hiddenSegs;\n    return {\n        start: computeEarliestSegStart(hiddenSegs),\n        end: computeLatestSegEnd(hiddenSegs),\n    };\n}\nfunction computeEarliestSegStart(segs) {\n    return segs.reduce(pickEarliestStart).eventRange.range.start;\n}\nfunction pickEarliestStart(seg0, seg1) {\n    return seg0.eventRange.range.start < seg1.eventRange.range.start ? seg0 : seg1;\n}\nfunction computeLatestSegEnd(segs) {\n    return segs.reduce(pickLatestEnd).eventRange.range.end;\n}\nfunction pickLatestEnd(seg0, seg1) {\n    return seg0.eventRange.range.end > seg1.eventRange.range.end ? seg0 : seg1;\n}\n\n// exports\n// --------------------------------------------------------------------------------------------------\nvar version = '5.8.0'; // important to type it, so .d.ts has generic string\n\nexport { BASE_OPTION_DEFAULTS, BASE_OPTION_REFINERS, BaseComponent, BgEvent, CalendarApi, CalendarContent, CalendarDataManager, CalendarDataProvider, CalendarRoot, ContentHook, CustomContentRenderContext, DateComponent, DateEnv, DateProfileGenerator, DayCellContent, DayCellRoot, DayHeader, DaySeriesModel, DayTableModel, DelayedRunner, ElementDragging, ElementScrollController, Emitter, EventApi, EventRoot, EventSourceApi, Interaction, MoreLinkRoot, MountHook, NamedTimeZoneImpl, NowIndicatorRoot, NowTimer, PositionCache, RefMap, RenderHook, ScrollController, ScrollResponder, Scroller, SegHierarchy, SimpleScrollGrid, Slicer, Splitter, StandardEvent, TableDateCell, TableDowCell, Theme, ViewApi, ViewContextType, ViewRoot, WeekNumberRoot, WindowScrollController, addDays, addDurations, addMs, addWeeks, allowContextMenu, allowSelection, applyMutationToEventStore, applyStyle, applyStyleProp, asCleanDays, asRoughMinutes, asRoughMs, asRoughSeconds, binarySearch, buildClassNameNormalizer, buildEntryKey, buildEventApis, buildEventRangeKey, buildHashFromArray, buildIsoString, buildNavLinkData, buildSegCompareObj, buildSegTimeText, collectFromHash, combineEventUis, compareByFieldSpec, compareByFieldSpecs, compareNumbers, compareObjs, computeEarliestSegStart, computeEdges, computeFallbackHeaderFormat, computeHeightAndMargins, computeInnerRect, computeRect, computeSegDraggable, computeSegEndResizable, computeSegStartResizable, computeShrinkWidth, computeSmallestCellWidth, computeVisibleDayRange, config, constrainPoint, createDuration, createEmptyEventStore, createEventInstance, createEventUi, createFormatter, createPlugin, diffDates, diffDayAndTime, diffDays, diffPoints, diffWeeks, diffWholeDays, diffWholeWeeks, disableCursor, elementClosest, elementMatches, enableCursor, eventTupleToStore, filterEventStoreDefs, filterHash, findDirectChildren, findElements, flexibleCompare, formatDate, formatDayString, formatIsoTimeString, formatRange, getAllowYScrolling, getCanVGrowWithinCell, getClippingParents, getDateMeta, getDayClassNames, getDefaultEventEnd, getElSeg, getEntrySpanEnd, getEventClassNames, getIsRtlScrollbarOnLeft, getRectCenter, getRelevantEvents, getScrollGridClassNames, getScrollbarWidths, getSectionClassNames, getSectionHasLiquidHeight, getSegMeta, getSlotClassNames, getStickyFooterScrollbar, getStickyHeaderDates, getUnequalProps, globalLocales, globalPlugins, greatestDurationDenominator, groupIntersectingEntries, guid, hasBgRendering, hasShrinkWidth, identity, interactionSettingsStore, interactionSettingsToStore, intersectRanges, intersectRects, intersectSpans, isArraysEqual, isColPropsEqual, isDateSelectionValid, isDateSpansEqual, isInt, isInteractionValid, isMultiDayRange, isPropsEqual, isPropsValid, isValidDate, joinSpans, listenBySelector, mapHash, memoize, memoizeArraylike, memoizeHashlike, memoizeObjArg, mergeEventStores, multiplyDuration, padStart, parseBusinessHours, parseClassNames, parseDragMeta, parseEventDef, parseFieldSpecs, parse as parseMarker, pointInsideRect, preventContextMenu, preventDefault, preventSelection, rangeContainsMarker, rangeContainsRange, rangesEqual, rangesIntersect, refineEventDef, refineProps, removeElement, removeExact, renderChunkContent, renderFill, renderMicroColGroup, renderScrollShim, requestJson, sanitizeShrinkWidth, setElSeg, setRef, sliceEventStore, sliceEvents, sortEventSegs, startOfDay, translateRect, triggerDateSelect, unpromisify, version, whenTransitionDone, wholeDivideDurations };\n","/// <reference types=\"@fullcalendar/core-preact\" />\nif (typeof FullCalendarVDom === 'undefined') {\n    throw new Error('Please import the top-level fullcalendar lib before attempting to import a plugin.');\n}\nvar Component = FullCalendarVDom.Component;\nvar createElement = FullCalendarVDom.createElement;\nvar render = FullCalendarVDom.render;\nvar createRef = FullCalendarVDom.createRef;\nvar Fragment = FullCalendarVDom.Fragment;\nvar createContext = FullCalendarVDom.createContext;\nvar createPortal = FullCalendarVDom.createPortal;\nvar flushToDom = FullCalendarVDom.flushToDom;\nvar unmountComponentAtNode = FullCalendarVDom.unmountComponentAtNode;\n/* eslint-enable */\n\nexport { Component, Fragment, createContext, createElement, createPortal, createRef, flushToDom, render, unmountComponentAtNode };\n","/*!\nFullCalendar v5.8.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './vdom.js';\nimport { __extends, __assign } from 'tslib';\nimport { render, createElement, CalendarRoot, CustomContentRenderContext, CalendarContent, unmountComponentAtNode, flushToDom, DelayedRunner, CalendarDataManager, isArraysEqual, applyStyleProp, CalendarApi } from '@fullcalendar/common';\nexport * from '@fullcalendar/common';\n\nvar Calendar = /** @class */ (function (_super) {\n    __extends(Calendar, _super);\n    function Calendar(el, optionOverrides) {\n        if (optionOverrides === void 0) { optionOverrides = {}; }\n        var _this = _super.call(this) || this;\n        _this.isRendering = false;\n        _this.isRendered = false;\n        _this.currentClassNames = [];\n        _this.customContentRenderId = 0; // will affect custom generated classNames?\n        _this.handleAction = function (action) {\n            // actions we know we want to render immediately\n            switch (action.type) {\n                case 'SET_EVENT_DRAG':\n                case 'SET_EVENT_RESIZE':\n                    _this.renderRunner.tryDrain();\n            }\n        };\n        _this.handleData = function (data) {\n            _this.currentData = data;\n            _this.renderRunner.request(data.calendarOptions.rerenderDelay);\n        };\n        _this.handleRenderRequest = function () {\n            if (_this.isRendering) {\n                _this.isRendered = true;\n                var currentData_1 = _this.currentData;\n                render(createElement(CalendarRoot, { options: currentData_1.calendarOptions, theme: currentData_1.theme, emitter: currentData_1.emitter }, function (classNames, height, isHeightAuto, forPrint) {\n                    _this.setClassNames(classNames);\n                    _this.setHeight(height);\n                    return (createElement(CustomContentRenderContext.Provider, { value: _this.customContentRenderId },\n                        createElement(CalendarContent, __assign({ isHeightAuto: isHeightAuto, forPrint: forPrint }, currentData_1))));\n                }), _this.el);\n            }\n            else if (_this.isRendered) {\n                _this.isRendered = false;\n                unmountComponentAtNode(_this.el);\n                _this.setClassNames([]);\n                _this.setHeight('');\n            }\n            flushToDom();\n        };\n        _this.el = el;\n        _this.renderRunner = new DelayedRunner(_this.handleRenderRequest);\n        new CalendarDataManager({\n            optionOverrides: optionOverrides,\n            calendarApi: _this,\n            onAction: _this.handleAction,\n            onData: _this.handleData,\n        });\n        return _this;\n    }\n    Object.defineProperty(Calendar.prototype, \"view\", {\n        get: function () { return this.currentData.viewApi; } // for public API\n        ,\n        enumerable: false,\n        configurable: true\n    });\n    Calendar.prototype.render = function () {\n        var wasRendering = this.isRendering;\n        if (!wasRendering) {\n            this.isRendering = true;\n        }\n        else {\n            this.customContentRenderId += 1;\n        }\n        this.renderRunner.request();\n        if (wasRendering) {\n            this.updateSize();\n        }\n    };\n    Calendar.prototype.destroy = function () {\n        if (this.isRendering) {\n            this.isRendering = false;\n            this.renderRunner.request();\n        }\n    };\n    Calendar.prototype.updateSize = function () {\n        _super.prototype.updateSize.call(this);\n        flushToDom();\n    };\n    Calendar.prototype.batchRendering = function (func) {\n        this.renderRunner.pause('batchRendering');\n        func();\n        this.renderRunner.resume('batchRendering');\n    };\n    Calendar.prototype.pauseRendering = function () {\n        this.renderRunner.pause('pauseRendering');\n    };\n    Calendar.prototype.resumeRendering = function () {\n        this.renderRunner.resume('pauseRendering', true);\n    };\n    Calendar.prototype.resetOptions = function (optionOverrides, append) {\n        this.currentDataManager.resetOptions(optionOverrides, append);\n    };\n    Calendar.prototype.setClassNames = function (classNames) {\n        if (!isArraysEqual(classNames, this.currentClassNames)) {\n            var classList = this.el.classList;\n            for (var _i = 0, _a = this.currentClassNames; _i < _a.length; _i++) {\n                var className = _a[_i];\n                classList.remove(className);\n            }\n            for (var _b = 0, classNames_1 = classNames; _b < classNames_1.length; _b++) {\n                var className = classNames_1[_b];\n                classList.add(className);\n            }\n            this.currentClassNames = classNames;\n        }\n    };\n    Calendar.prototype.setHeight = function (height) {\n        applyStyleProp(this.el, 'height', height);\n    };\n    return Calendar;\n}(CalendarApi));\n\nexport { Calendar };\n","import { __extends } from 'tslib';\nimport * as preact from 'preact';\nimport * as preactCompat from 'preact/compat';\n\nvar globalObj = typeof globalThis !== 'undefined' ? globalThis : window; // // TODO: streamline when killing IE11 support\nif (globalObj.FullCalendarVDom) {\n    console.warn('FullCalendar VDOM already loaded');\n}\nelse {\n    globalObj.FullCalendarVDom = {\n        Component: preact.Component,\n        createElement: preact.createElement,\n        render: preact.render,\n        createRef: preact.createRef,\n        Fragment: preact.Fragment,\n        createContext: createContext,\n        createPortal: preactCompat.createPortal,\n        flushToDom: flushToDom,\n        unmountComponentAtNode: unmountComponentAtNode,\n    };\n}\n// HACKS...\n// TODO: lock version\n// TODO: link gh issues\nfunction flushToDom() {\n    var oldDebounceRendering = preact.options.debounceRendering; // orig\n    var callbackQ = [];\n    function execCallbackSync(callback) {\n        callbackQ.push(callback);\n    }\n    preact.options.debounceRendering = execCallbackSync;\n    preact.render(preact.createElement(FakeComponent, {}), document.createElement('div'));\n    while (callbackQ.length) {\n        callbackQ.shift()();\n    }\n    preact.options.debounceRendering = oldDebounceRendering;\n}\nvar FakeComponent = /** @class */ (function (_super) {\n    __extends(FakeComponent, _super);\n    function FakeComponent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FakeComponent.prototype.render = function () { return preact.createElement('div', {}); };\n    FakeComponent.prototype.componentDidMount = function () { this.setState({}); };\n    return FakeComponent;\n}(preact.Component));\nfunction createContext(defaultValue) {\n    var ContextType = preact.createContext(defaultValue);\n    var origProvider = ContextType.Provider;\n    ContextType.Provider = function () {\n        var _this = this;\n        var isNew = !this.getChildContext;\n        var children = origProvider.apply(this, arguments); // eslint-disable-line prefer-rest-params\n        if (isNew) {\n            var subs_1 = [];\n            this.shouldComponentUpdate = function (_props) {\n                if (_this.props.value !== _props.value) {\n                    subs_1.forEach(function (c) {\n                        c.context = _props.value;\n                        c.forceUpdate();\n                    });\n                }\n            };\n            this.sub = function (c) {\n                subs_1.push(c);\n                var old = c.componentWillUnmount;\n                c.componentWillUnmount = function () {\n                    subs_1.splice(subs_1.indexOf(c), 1);\n                    old && old.call(c);\n                };\n            };\n        }\n        return children;\n    };\n    return ContextType;\n}\nfunction unmountComponentAtNode(node) {\n    preact.render(null, node);\n}\n","/*!\nFullCalendar v5.8.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { createRef, getStickyHeaderDates, createElement, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, renderScrollShim, DateComponent, buildNavLinkData, DayCellContent, Fragment, BaseComponent, createFormatter, StandardEvent, buildSegTimeText, EventRoot, memoize, MoreLinkRoot, getSegMeta, setRef, DayCellRoot, WeekNumberRoot, intersectSpans, buildEntryKey, SegHierarchy, intersectRanges, addDays, RefMap, sortEventSegs, isPropsEqual, buildEventRangeKey, BgEvent, renderFill, PositionCache, NowTimer, Slicer, DayHeader, DaySeriesModel, DayTableModel, addWeeks, diffWeeks, DateProfileGenerator, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign, __spreadArray } from 'tslib';\n\n/* An abstract class for the daygrid views, as well as month view. Renders one or more rows of day cells.\n----------------------------------------------------------------------------------------------------------------------*/\n// It is a manager for a Table subcomponent, which does most of the heavy lifting.\n// It is responsible for managing width/height.\nvar TableView = /** @class */ (function (_super) {\n    __extends(TableView, _super);\n    function TableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.headerElRef = createRef();\n        return _this;\n    }\n    TableView.prototype.renderSimpleLayout = function (headerRowContent, bodyContent) {\n        var _a = this, props = _a.props, context = _a.context;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunk: { content: bodyContent },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [] /* TODO: make optional? */, sections: sections }))); }));\n    };\n    TableView.prototype.renderHScrollLayout = function (headerRowContent, bodyContent, colCnt, dayMinWidth) {\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, props = _a.props, context = _a.context;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunks: [{\n                        key: 'main',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    }],\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            chunks: [{\n                    key: 'main',\n                    content: bodyContent,\n                }],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                type: 'footer',\n                key: 'footer',\n                isSticky: true,\n                chunks: [{\n                        key: 'main',\n                        content: renderScrollShim,\n                    }],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec }, function (rootElRef, classNames) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-daygrid'].concat(classNames).join(' ') },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, colGroups: [{ cols: [{ span: colCnt, minWidth: dayMinWidth }] }], sections: sections }))); }));\n    };\n    return TableView;\n}(DateComponent));\n\nfunction splitSegsByRow(segs, rowCnt) {\n    var byRow = [];\n    for (var i = 0; i < rowCnt; i += 1) {\n        byRow[i] = [];\n    }\n    for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n        var seg = segs_1[_i];\n        byRow[seg.row].push(seg);\n    }\n    return byRow;\n}\nfunction splitSegsByFirstCol(segs, colCnt) {\n    var byCol = [];\n    for (var i = 0; i < colCnt; i += 1) {\n        byCol[i] = [];\n    }\n    for (var _i = 0, segs_2 = segs; _i < segs_2.length; _i++) {\n        var seg = segs_2[_i];\n        byCol[seg.firstCol].push(seg);\n    }\n    return byCol;\n}\nfunction splitInteractionByRow(ui, rowCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < rowCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.row].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TableCellTop = /** @class */ (function (_super) {\n    __extends(TableCellTop, _super);\n    function TableCellTop() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableCellTop.prototype.render = function () {\n        var props = this.props;\n        var navLinkAttrs = this.context.options.navLinks\n            ? { 'data-navlink': buildNavLinkData(props.date), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, defaultContent: renderTopInner }, function (innerElRef, innerContent) { return ((innerContent || props.forceDayTop) && (createElement(\"div\", { className: \"fc-daygrid-day-top\", ref: innerElRef },\n            createElement(\"a\", __assign({ className: \"fc-daygrid-day-number\" }, navLinkAttrs), innerContent || createElement(Fragment, null, \"\\u00A0\"))))); }));\n    };\n    return TableCellTop;\n}(BaseComponent));\nfunction renderTopInner(props) {\n    return props.dayNumberText;\n}\n\nvar DEFAULT_TABLE_EVENT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'narrow',\n});\nfunction hasListItemDisplay(seg) {\n    var display = seg.eventRange.ui.display;\n    return display === 'list-item' || (display === 'auto' &&\n        !seg.eventRange.def.allDay &&\n        seg.firstCol === seg.lastCol && // can't be multi-day\n        seg.isStart && // \"\n        seg.isEnd // \"\n    );\n}\n\nvar TableBlockEvent = /** @class */ (function (_super) {\n    __extends(TableBlockEvent, _super);\n    function TableBlockEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableBlockEvent.prototype.render = function () {\n        var props = this.props;\n        return (createElement(StandardEvent, __assign({}, props, { extraClassNames: ['fc-daygrid-event', 'fc-daygrid-block-event', 'fc-h-event'], defaultTimeFormat: DEFAULT_TABLE_EVENT_TIME_FORMAT, defaultDisplayEventEnd: props.defaultDisplayEventEnd, disableResizing: !props.seg.eventRange.def.allDay })));\n    };\n    return TableBlockEvent;\n}(BaseComponent));\n\nvar TableListItemEvent = /** @class */ (function (_super) {\n    __extends(TableListItemEvent, _super);\n    function TableListItemEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TableListItemEvent.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var timeFormat = context.options.eventTimeFormat || DEFAULT_TABLE_EVENT_TIME_FORMAT;\n        var timeText = buildSegTimeText(props.seg, timeFormat, context, true, props.defaultDisplayEventEnd);\n        return (createElement(EventRoot, { seg: props.seg, timeText: timeText, defaultContent: renderInnerContent, isDragging: props.isDragging, isResizing: false, isDateSelecting: false, isSelected: props.isSelected, isPast: props.isPast, isFuture: props.isFuture, isToday: props.isToday }, function (rootElRef, classNames, innerElRef, innerContent) { return ( // we don't use styles!\n        createElement(\"a\", __assign({ className: ['fc-daygrid-event', 'fc-daygrid-dot-event'].concat(classNames).join(' '), ref: rootElRef }, getSegAnchorAttrs(props.seg)), innerContent)); }));\n    };\n    return TableListItemEvent;\n}(BaseComponent));\nfunction renderInnerContent(innerProps) {\n    return (createElement(Fragment, null,\n        createElement(\"div\", { className: \"fc-daygrid-event-dot\", style: { borderColor: innerProps.borderColor || innerProps.backgroundColor } }),\n        innerProps.timeText && (createElement(\"div\", { className: \"fc-event-time\" }, innerProps.timeText)),\n        createElement(\"div\", { className: \"fc-event-title\" }, innerProps.event.title || createElement(Fragment, null, \"\\u00A0\"))));\n}\nfunction getSegAnchorAttrs(seg) {\n    var url = seg.eventRange.def.url;\n    return url ? { href: url } : {};\n}\n\nvar TableCellMoreLink = /** @class */ (function (_super) {\n    __extends(TableCellMoreLink, _super);\n    function TableCellMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.compileSegs = memoize(compileSegs);\n        return _this;\n    }\n    TableCellMoreLink.prototype.render = function () {\n        var props = this.props;\n        var _a = this.compileSegs(props.singlePlacements), allSegs = _a.allSegs, invisibleSegs = _a.invisibleSegs;\n        return (createElement(MoreLinkRoot, { dateProfile: props.dateProfile, todayRange: props.todayRange, allDayDate: props.allDayDate, moreCnt: props.moreCnt, allSegs: allSegs, hiddenSegs: invisibleSegs, alignmentElRef: props.alignmentElRef, alignGridTop: props.alignGridTop, extraDateSpan: props.extraDateSpan, popoverContent: function () {\n                var isForcedInvisible = (props.eventDrag ? props.eventDrag.affectedInstances : null) ||\n                    (props.eventResize ? props.eventResize.affectedInstances : null) ||\n                    {};\n                return (createElement(Fragment, null, allSegs.map(function (seg) {\n                    var instanceId = seg.eventRange.instance.instanceId;\n                    return (createElement(\"div\", { className: \"fc-daygrid-event-harness\", key: instanceId, style: {\n                            visibility: isForcedInvisible[instanceId] ? 'hidden' : '',\n                        } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === props.eventSelection, defaultDisplayEventEnd: false }, getSegMeta(seg, props.todayRange))))));\n                })));\n            } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: rootElRef, className: ['fc-daygrid-more-link'].concat(classNames).join(' '), onClick: handleClick }, innerContent)); }));\n    };\n    return TableCellMoreLink;\n}(BaseComponent));\nfunction compileSegs(singlePlacements) {\n    var allSegs = [];\n    var invisibleSegs = [];\n    for (var _i = 0, singlePlacements_1 = singlePlacements; _i < singlePlacements_1.length; _i++) {\n        var placement = singlePlacements_1[_i];\n        allSegs.push(placement.seg);\n        if (!placement.isVisible) {\n            invisibleSegs.push(placement.seg);\n        }\n    }\n    return { allSegs: allSegs, invisibleSegs: invisibleSegs };\n}\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'narrow' });\nvar TableCell = /** @class */ (function (_super) {\n    __extends(TableCell, _super);\n    function TableCell() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.handleRootEl = function (el) {\n            setRef(_this.rootElRef, el);\n            setRef(_this.props.elRef, el);\n        };\n        return _this;\n    }\n    TableCell.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context, rootElRef = _a.rootElRef;\n        var options = context.options;\n        var date = props.date, dateProfile = props.dateProfile;\n        var navLinkAttrs = options.navLinks\n            ? { 'data-navlink': buildNavLinkData(date, 'week'), tabIndex: 0 }\n            : {};\n        return (createElement(DayCellRoot, { date: date, dateProfile: dateProfile, todayRange: props.todayRange, showDayNumber: props.showDayNumber, extraHookProps: props.extraHookProps, elRef: this.handleRootEl }, function (dayElRef, dayClassNames, rootDataAttrs, isDisabled) { return (createElement(\"td\", __assign({ ref: dayElRef, className: ['fc-daygrid-day'].concat(dayClassNames, props.extraClassNames || []).join(' ') }, rootDataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-daygrid-day-frame fc-scrollgrid-sync-inner\", ref: props.innerElRef /* different from hook system! RENAME */ },\n                props.showWeekNumber && (createElement(WeekNumberRoot, { date: date, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (weekElRef, weekClassNames, innerElRef, innerContent) { return (createElement(\"a\", __assign({ ref: weekElRef, className: ['fc-daygrid-week-number'].concat(weekClassNames).join(' ') }, navLinkAttrs), innerContent)); })),\n                !isDisabled && (createElement(TableCellTop, { date: date, dateProfile: dateProfile, showDayNumber: props.showDayNumber, forceDayTop: props.forceDayTop, todayRange: props.todayRange, extraHookProps: props.extraHookProps })),\n                createElement(\"div\", { className: \"fc-daygrid-day-events\", ref: props.fgContentElRef },\n                    props.fgContent,\n                    createElement(\"div\", { className: \"fc-daygrid-day-bottom\", style: { marginTop: props.moreMarginTop } },\n                        createElement(TableCellMoreLink, { allDayDate: date, singlePlacements: props.singlePlacements, moreCnt: props.moreCnt, alignmentElRef: rootElRef, alignGridTop: !props.showDayNumber, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange }))),\n                createElement(\"div\", { className: \"fc-daygrid-day-bg\" }, props.bgContent)))); }));\n    };\n    return TableCell;\n}(DateComponent));\n\nfunction computeFgSegPlacement(segs, // assumed already sorted\ndayMaxEvents, dayMaxEventRows, strictOrder, eventInstanceHeights, maxContentHeight, cells) {\n    var hierarchy = new DayGridSegHierarchy();\n    hierarchy.allowReslicing = true;\n    hierarchy.strictOrder = strictOrder;\n    if (dayMaxEvents === true || dayMaxEventRows === true) {\n        hierarchy.maxCoord = maxContentHeight;\n        hierarchy.hiddenConsumes = true;\n    }\n    else if (typeof dayMaxEvents === 'number') {\n        hierarchy.maxStackCnt = dayMaxEvents;\n    }\n    else if (typeof dayMaxEventRows === 'number') {\n        hierarchy.maxStackCnt = dayMaxEventRows;\n        hierarchy.hiddenConsumes = true;\n    }\n    // create segInputs only for segs with known heights\n    var segInputs = [];\n    var unknownHeightSegs = [];\n    for (var i = 0; i < segs.length; i += 1) {\n        var seg = segs[i];\n        var instanceId = seg.eventRange.instance.instanceId;\n        var eventHeight = eventInstanceHeights[instanceId];\n        if (eventHeight != null) {\n            segInputs.push({\n                index: i,\n                thickness: eventHeight,\n                span: {\n                    start: seg.firstCol,\n                    end: seg.lastCol + 1,\n                },\n            });\n        }\n        else {\n            unknownHeightSegs.push(seg);\n        }\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var segRects = hierarchy.toRects();\n    var _a = placeRects(segRects, segs, cells), singleColPlacements = _a.singleColPlacements, multiColPlacements = _a.multiColPlacements, leftoverMargins = _a.leftoverMargins;\n    var moreCnts = [];\n    var moreMarginTops = [];\n    // add segs with unknown heights\n    for (var _i = 0, unknownHeightSegs_1 = unknownHeightSegs; _i < unknownHeightSegs_1.length; _i++) {\n        var seg = unknownHeightSegs_1[_i];\n        multiColPlacements[seg.firstCol].push({\n            seg: seg,\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = seg.firstCol; col <= seg.lastCol; col += 1) {\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // add the hidden entries\n    for (var col = 0; col < cells.length; col += 1) {\n        moreCnts.push(0);\n    }\n    for (var _b = 0, hiddenEntries_1 = hiddenEntries; _b < hiddenEntries_1.length; _b++) {\n        var hiddenEntry = hiddenEntries_1[_b];\n        var seg = segs[hiddenEntry.index];\n        var hiddenSpan = hiddenEntry.span;\n        multiColPlacements[hiddenSpan.start].push({\n            seg: resliceSeg(seg, hiddenSpan.start, hiddenSpan.end, cells),\n            isVisible: false,\n            isAbsolute: true,\n            absoluteTop: 0,\n            marginTop: 0,\n        });\n        for (var col = hiddenSpan.start; col < hiddenSpan.end; col += 1) {\n            moreCnts[col] += 1;\n            singleColPlacements[col].push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: false,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: 0,\n            });\n        }\n    }\n    // deal with leftover margins\n    for (var col = 0; col < cells.length; col += 1) {\n        moreMarginTops.push(leftoverMargins[col]);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, moreCnts: moreCnts, moreMarginTops: moreMarginTops };\n}\n// rects ordered by top coord, then left\nfunction placeRects(allRects, segs, cells) {\n    var rectsByEachCol = groupRectsByEachCol(allRects, cells.length);\n    var singleColPlacements = [];\n    var multiColPlacements = [];\n    var leftoverMargins = [];\n    for (var col = 0; col < cells.length; col += 1) {\n        var rects = rectsByEachCol[col];\n        // compute all static segs in singlePlacements\n        var singlePlacements = [];\n        var currentHeight = 0;\n        var currentMarginTop = 0;\n        for (var _i = 0, rects_1 = rects; _i < rects_1.length; _i++) {\n            var rect = rects_1[_i];\n            var seg = segs[rect.index];\n            singlePlacements.push({\n                seg: resliceSeg(seg, col, col + 1, cells),\n                isVisible: true,\n                isAbsolute: false,\n                absoluteTop: 0,\n                marginTop: rect.levelCoord - currentHeight,\n            });\n            currentHeight = rect.levelCoord + rect.thickness;\n        }\n        // compute mixed static/absolute segs in multiPlacements\n        var multiPlacements = [];\n        currentHeight = 0;\n        currentMarginTop = 0;\n        for (var _a = 0, rects_2 = rects; _a < rects_2.length; _a++) {\n            var rect = rects_2[_a];\n            var seg = segs[rect.index];\n            var isAbsolute = rect.span.end - rect.span.start > 1; // multi-column?\n            var isFirstCol = rect.span.start === col;\n            currentMarginTop += rect.levelCoord - currentHeight; // amount of space since bottom of previous seg\n            currentHeight = rect.levelCoord + rect.thickness; // height will now be bottom of current seg\n            if (isAbsolute) {\n                currentMarginTop += rect.thickness;\n                if (isFirstCol) {\n                    multiPlacements.push({\n                        seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                        isVisible: true,\n                        isAbsolute: true,\n                        absoluteTop: rect.levelCoord,\n                        marginTop: 0,\n                    });\n                }\n            }\n            else if (isFirstCol) {\n                multiPlacements.push({\n                    seg: resliceSeg(seg, rect.span.start, rect.span.end, cells),\n                    isVisible: true,\n                    isAbsolute: false,\n                    absoluteTop: 0,\n                    marginTop: currentMarginTop, // claim the margin\n                });\n                currentMarginTop = 0;\n            }\n        }\n        singleColPlacements.push(singlePlacements);\n        multiColPlacements.push(multiPlacements);\n        leftoverMargins.push(currentMarginTop);\n    }\n    return { singleColPlacements: singleColPlacements, multiColPlacements: multiColPlacements, leftoverMargins: leftoverMargins };\n}\nfunction groupRectsByEachCol(rects, colCnt) {\n    var rectsByEachCol = [];\n    for (var col = 0; col < colCnt; col += 1) {\n        rectsByEachCol.push([]);\n    }\n    for (var _i = 0, rects_3 = rects; _i < rects_3.length; _i++) {\n        var rect = rects_3[_i];\n        for (var col = rect.span.start; col < rect.span.end; col += 1) {\n            rectsByEachCol[col].push(rect);\n        }\n    }\n    return rectsByEachCol;\n}\nfunction resliceSeg(seg, spanStart, spanEnd, cells) {\n    if (seg.firstCol === spanStart && seg.lastCol === spanEnd - 1) {\n        return seg;\n    }\n    var eventRange = seg.eventRange;\n    var origRange = eventRange.range;\n    var slicedRange = intersectRanges(origRange, {\n        start: cells[spanStart].date,\n        end: addDays(cells[spanEnd - 1].date, 1),\n    });\n    return __assign(__assign({}, seg), { firstCol: spanStart, lastCol: spanEnd - 1, eventRange: {\n            def: eventRange.def,\n            ui: __assign(__assign({}, eventRange.ui), { durationEditable: false }),\n            instance: eventRange.instance,\n            range: slicedRange,\n        }, isStart: seg.isStart && slicedRange.start.valueOf() === origRange.start.valueOf(), isEnd: seg.isEnd && slicedRange.end.valueOf() === origRange.end.valueOf() });\n}\nvar DayGridSegHierarchy = /** @class */ (function (_super) {\n    __extends(DayGridSegHierarchy, _super);\n    function DayGridSegHierarchy() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        // config\n        _this.hiddenConsumes = false;\n        // allows us to keep hidden entries in the hierarchy so they take up space\n        _this.forceHidden = {};\n        return _this;\n    }\n    DayGridSegHierarchy.prototype.addSegs = function (segInputs) {\n        var _this = this;\n        var hiddenSegs = _super.prototype.addSegs.call(this, segInputs);\n        var entriesByLevel = this.entriesByLevel;\n        var excludeHidden = function (entry) { return !_this.forceHidden[buildEntryKey(entry)]; };\n        // remove the forced-hidden segs\n        for (var level = 0; level < entriesByLevel.length; level += 1) {\n            entriesByLevel[level] = entriesByLevel[level].filter(excludeHidden);\n        }\n        return hiddenSegs;\n    };\n    DayGridSegHierarchy.prototype.handleInvalidInsertion = function (insertion, entry, hiddenEntries) {\n        var _a = this, entriesByLevel = _a.entriesByLevel, forceHidden = _a.forceHidden;\n        var touchingLevel = insertion.touchingLevel;\n        if (this.hiddenConsumes && touchingLevel >= 0) {\n            for (var lateral = insertion.lateralStart; lateral < insertion.lateralEnd; lateral += 1) {\n                var leadingEntry = entriesByLevel[touchingLevel][lateral];\n                if (this.allowReslicing) {\n                    var placeholderEntry = __assign(__assign({}, leadingEntry), { span: intersectSpans(leadingEntry.span, entry.span) });\n                    var placeholderEntryId = buildEntryKey(placeholderEntry);\n                    if (!forceHidden[placeholderEntryId]) { // if not already hidden\n                        forceHidden[placeholderEntryId] = true;\n                        entriesByLevel[touchingLevel][lateral] = placeholderEntry; // replace leadingEntry with our placeholder\n                        this.splitEntry(leadingEntry, entry, hiddenEntries); // split up the leadingEntry, reinsert it\n                    }\n                }\n                else {\n                    var placeholderEntryId = buildEntryKey(leadingEntry);\n                    if (!forceHidden[placeholderEntryId]) {\n                        forceHidden[placeholderEntryId] = true;\n                        hiddenEntries.push(leadingEntry);\n                    }\n                }\n            }\n        }\n        return _super.prototype.handleInvalidInsertion.call(this, insertion, entry, hiddenEntries);\n    };\n    return DayGridSegHierarchy;\n}(SegHierarchy));\n\nvar TableRow = /** @class */ (function (_super) {\n    __extends(TableRow, _super);\n    function TableRow() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.cellElRefs = new RefMap(); // the <td>\n        _this.frameElRefs = new RefMap(); // the fc-daygrid-day-frame\n        _this.fgElRefs = new RefMap(); // the fc-daygrid-day-events\n        _this.segHarnessRefs = new RefMap(); // indexed by \"instanceId:firstCol\"\n        _this.rootElRef = createRef();\n        _this.state = {\n            framePositions: null,\n            maxContentHeight: null,\n            eventInstanceHeights: {},\n        };\n        return _this;\n    }\n    TableRow.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, state = _a.state, context = _a.context;\n        var options = context.options;\n        var colCnt = props.cells.length;\n        var businessHoursByCol = splitSegsByFirstCol(props.businessHourSegs, colCnt);\n        var bgEventSegsByCol = splitSegsByFirstCol(props.bgEventSegs, colCnt);\n        var highlightSegsByCol = splitSegsByFirstCol(this.getHighlightSegs(), colCnt);\n        var mirrorSegsByCol = splitSegsByFirstCol(this.getMirrorSegs(), colCnt);\n        var _b = computeFgSegPlacement(sortEventSegs(props.fgEventSegs, options.eventOrder), props.dayMaxEvents, props.dayMaxEventRows, options.eventOrderStrict, state.eventInstanceHeights, state.maxContentHeight, props.cells), singleColPlacements = _b.singleColPlacements, multiColPlacements = _b.multiColPlacements, moreCnts = _b.moreCnts, moreMarginTops = _b.moreMarginTops;\n        var isForcedInvisible = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        return (createElement(\"tr\", { ref: this.rootElRef },\n            props.renderIntro && props.renderIntro(),\n            props.cells.map(function (cell, col) {\n                var normalFgNodes = _this.renderFgSegs(col, props.forPrint ? singleColPlacements[col] : multiColPlacements[col], props.todayRange, isForcedInvisible);\n                var mirrorFgNodes = _this.renderFgSegs(col, buildMirrorPlacements(mirrorSegsByCol[col], multiColPlacements), props.todayRange, {}, Boolean(props.eventDrag), Boolean(props.eventResize), false);\n                return (createElement(TableCell, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), innerElRef: _this.frameElRefs.createRef(cell.key) /* FF <td> problem, but okay to use for left/right. TODO: rename prop */, dateProfile: props.dateProfile, date: cell.date, showDayNumber: props.showDayNumbers, showWeekNumber: props.showWeekNumbers && col === 0, forceDayTop: props.showWeekNumbers /* even displaying weeknum for row, not necessarily day */, todayRange: props.todayRange, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, moreCnt: moreCnts[col], moreMarginTop: moreMarginTops[col], singlePlacements: singleColPlacements[col], fgContentElRef: _this.fgElRefs.createRef(cell.key), fgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        createElement(Fragment, null, normalFgNodes),\n                        createElement(Fragment, null, mirrorFgNodes))), bgContent: ( // Fragment scopes the keys\n                    createElement(Fragment, null,\n                        _this.renderFillSegs(highlightSegsByCol[col], 'highlight'),\n                        _this.renderFillSegs(businessHoursByCol[col], 'non-business'),\n                        _this.renderFillSegs(bgEventSegsByCol[col], 'bg-event'))) }));\n            })));\n    };\n    TableRow.prototype.componentDidMount = function () {\n        this.updateSizing(true);\n    };\n    TableRow.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var currentProps = this.props;\n        this.updateSizing(!isPropsEqual(prevProps, currentProps));\n    };\n    TableRow.prototype.getHighlightSegs = function () {\n        var props = this.props;\n        if (props.eventDrag && props.eventDrag.segs.length) { // messy check\n            return props.eventDrag.segs;\n        }\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return props.dateSelectionSegs;\n    };\n    TableRow.prototype.getMirrorSegs = function () {\n        var props = this.props;\n        if (props.eventResize && props.eventResize.segs.length) { // messy check\n            return props.eventResize.segs;\n        }\n        return [];\n    };\n    TableRow.prototype.renderFgSegs = function (col, segPlacements, todayRange, isForcedInvisible, isDragging, isResizing, isDateSelecting) {\n        var context = this.context;\n        var eventSelection = this.props.eventSelection;\n        var framePositions = this.state.framePositions;\n        var defaultDisplayEventEnd = this.props.cells.length === 1; // colCnt === 1\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segPlacements_1 = segPlacements; _i < segPlacements_1.length; _i++) {\n                var placement = segPlacements_1[_i];\n                var seg = placement.seg;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var key = instanceId + ':' + col;\n                var isVisible = placement.isVisible && !isForcedInvisible[instanceId];\n                var isAbsolute = placement.isAbsolute;\n                var left = '';\n                var right = '';\n                if (isAbsolute) {\n                    if (context.isRtl) {\n                        right = 0;\n                        left = framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol];\n                    }\n                    else {\n                        left = 0;\n                        right = framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol];\n                    }\n                }\n                /*\n                known bug: events that are force to be list-item but span multiple days still take up space in later columns\n                todo: in print view, for multi-day events, don't display title within non-start/end segs\n                */\n                nodes.push(createElement(\"div\", { className: 'fc-daygrid-event-harness' + (isAbsolute ? ' fc-daygrid-event-harness-abs' : ''), key: key, ref: isMirror ? null : this.segHarnessRefs.createRef(key), style: {\n                        visibility: isVisible ? '' : 'hidden',\n                        marginTop: isAbsolute ? '' : placement.marginTop,\n                        top: isAbsolute ? placement.absoluteTop : '',\n                        left: left,\n                        right: right,\n                    } }, hasListItemDisplay(seg) ? (createElement(TableListItemEvent, __assign({ seg: seg, isDragging: isDragging, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange)))) : (createElement(TableBlockEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, defaultDisplayEventEnd: defaultDisplayEventEnd }, getSegMeta(seg, todayRange))))));\n            }\n        }\n        return nodes;\n    };\n    TableRow.prototype.renderFillSegs = function (segs, fillType) {\n        var isRtl = this.context.isRtl;\n        var todayRange = this.props.todayRange;\n        var framePositions = this.state.framePositions;\n        var nodes = [];\n        if (framePositions) {\n            for (var _i = 0, segs_1 = segs; _i < segs_1.length; _i++) {\n                var seg = segs_1[_i];\n                var leftRightCss = isRtl ? {\n                    right: 0,\n                    left: framePositions.lefts[seg.lastCol] - framePositions.lefts[seg.firstCol],\n                } : {\n                    left: 0,\n                    right: framePositions.rights[seg.firstCol] - framePositions.rights[seg.lastCol],\n                };\n                nodes.push(createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-daygrid-bg-harness\", style: leftRightCss }, fillType === 'bg-event' ?\n                    createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, todayRange))) :\n                    renderFill(fillType)));\n            }\n        }\n        return createElement.apply(void 0, __spreadArray([Fragment, {}], nodes));\n    };\n    TableRow.prototype.updateSizing = function (isExternalSizingChange) {\n        var _a = this, props = _a.props, frameElRefs = _a.frameElRefs;\n        if (!props.forPrint &&\n            props.clientWidth !== null // positioning ready?\n        ) {\n            if (isExternalSizingChange) {\n                var frameEls = props.cells.map(function (cell) { return frameElRefs.currentMap[cell.key]; });\n                if (frameEls.length) {\n                    var originEl = this.rootElRef.current;\n                    this.setState({\n                        framePositions: new PositionCache(originEl, frameEls, true, // isHorizontal\n                        false),\n                    });\n                }\n            }\n            var limitByContentHeight = props.dayMaxEvents === true || props.dayMaxEventRows === true;\n            this.setState({\n                eventInstanceHeights: this.queryEventInstanceHeights(),\n                maxContentHeight: limitByContentHeight ? this.computeMaxContentHeight() : null,\n            });\n        }\n    };\n    TableRow.prototype.queryEventInstanceHeights = function () {\n        var segElMap = this.segHarnessRefs.currentMap;\n        var eventInstanceHeights = {};\n        // get the max height amongst instance segs\n        for (var key in segElMap) {\n            var height = Math.round(segElMap[key].getBoundingClientRect().height);\n            var instanceId = key.split(':')[0]; // deconstruct how renderFgSegs makes the key\n            eventInstanceHeights[instanceId] = Math.max(eventInstanceHeights[instanceId] || 0, height);\n        }\n        return eventInstanceHeights;\n    };\n    TableRow.prototype.computeMaxContentHeight = function () {\n        var firstKey = this.props.cells[0].key;\n        var cellEl = this.cellElRefs.currentMap[firstKey];\n        var fcContainerEl = this.fgElRefs.currentMap[firstKey];\n        return cellEl.getBoundingClientRect().bottom - fcContainerEl.getBoundingClientRect().top;\n    };\n    TableRow.prototype.getCellEls = function () {\n        var elMap = this.cellElRefs.currentMap;\n        return this.props.cells.map(function (cell) { return elMap[cell.key]; });\n    };\n    return TableRow;\n}(DateComponent));\nTableRow.addStateEquality({\n    eventInstanceHeights: isPropsEqual,\n});\nfunction buildMirrorPlacements(mirrorSegs, colPlacements) {\n    if (!mirrorSegs.length) {\n        return [];\n    }\n    var topsByInstanceId = buildAbsoluteTopHash(colPlacements); // TODO: cache this at first render?\n    return mirrorSegs.map(function (seg) { return ({\n        seg: seg,\n        isVisible: true,\n        isAbsolute: true,\n        absoluteTop: topsByInstanceId[seg.eventRange.instance.instanceId],\n        marginTop: 0,\n    }); });\n}\nfunction buildAbsoluteTopHash(colPlacements) {\n    var topsByInstanceId = {};\n    for (var _i = 0, colPlacements_1 = colPlacements; _i < colPlacements_1.length; _i++) {\n        var placements = colPlacements_1[_i];\n        for (var _a = 0, placements_1 = placements; _a < placements_1.length; _a++) {\n            var placement = placements_1[_a];\n            topsByInstanceId[placement.seg.eventRange.instance.instanceId] = placement.absoluteTop;\n        }\n    }\n    return colPlacements;\n}\n\nvar Table = /** @class */ (function (_super) {\n    __extends(Table, _super);\n    function Table() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitBusinessHourSegs = memoize(splitSegsByRow);\n        _this.splitBgEventSegs = memoize(splitSegsByRow);\n        _this.splitFgEventSegs = memoize(splitSegsByRow);\n        _this.splitDateSelectionSegs = memoize(splitSegsByRow);\n        _this.splitEventDrag = memoize(splitInteractionByRow);\n        _this.splitEventResize = memoize(splitInteractionByRow);\n        _this.rowRefs = new RefMap();\n        _this.handleRootEl = function (rootEl) {\n            _this.rootEl = rootEl;\n            if (rootEl) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: rootEl,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        return _this;\n    }\n    Table.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        var dateProfile = props.dateProfile, dayMaxEventRows = props.dayMaxEventRows, dayMaxEvents = props.dayMaxEvents, expandRows = props.expandRows;\n        var rowCnt = props.cells.length;\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, rowCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, rowCnt);\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, rowCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, rowCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, rowCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, rowCnt);\n        var limitViaBalanced = dayMaxEvents === true || dayMaxEventRows === true;\n        // if rows can't expand to fill fixed height, can't do balanced-height event limit\n        // TODO: best place to normalize these options?\n        if (limitViaBalanced && !expandRows) {\n            limitViaBalanced = false;\n            dayMaxEventRows = null;\n            dayMaxEvents = null;\n        }\n        var classNames = [\n            'fc-daygrid-body',\n            limitViaBalanced ? 'fc-daygrid-body-balanced' : 'fc-daygrid-body-unbalanced',\n            expandRows ? '' : 'fc-daygrid-body-natural', // will height of one row depend on the others?\n        ];\n        return (createElement(\"div\", { className: classNames.join(' '), ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(NowTimer, { unit: \"day\" }, function (nowDate, todayRange) { return (createElement(Fragment, null,\n                createElement(\"table\", { className: \"fc-scrollgrid-sync-table\", style: {\n                        width: props.clientWidth,\n                        minWidth: props.tableMinWidth,\n                        height: expandRows ? props.clientHeight : '',\n                    } },\n                    props.colGroupNode,\n                    createElement(\"tbody\", null, props.cells.map(function (cells, row) { return (createElement(TableRow, { ref: _this.rowRefs.createRef(row), key: cells.length\n                            ? cells[0].date.toISOString() /* best? or put key on cell? or use diff formatter? */\n                            : row // in case there are no cells (like when resource view is loading)\n                        , showDayNumbers: rowCnt > 1, showWeekNumbers: props.showWeekNumbers, todayRange: todayRange, dateProfile: dateProfile, cells: cells, renderIntro: props.renderRowIntro, businessHourSegs: businessHourSegsByRow[row], eventSelection: props.eventSelection, bgEventSegs: bgEventSegsByRow[row].filter(isSegAllDay) /* hack */, fgEventSegs: fgEventSegsByRow[row], dateSelectionSegs: dateSelectionSegsByRow[row], eventDrag: eventDragByRow[row], eventResize: eventResizeByRow[row], dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })); }))))); })));\n    };\n    // Hit System\n    // ----------------------------------------------------------------------------------------------------\n    Table.prototype.prepareHits = function () {\n        this.rowPositions = new PositionCache(this.rootEl, this.rowRefs.collect().map(function (rowObj) { return rowObj.getCellEls()[0]; }), // first cell el in each row. TODO: not optimal\n        false, true);\n        this.colPositions = new PositionCache(this.rootEl, this.rowRefs.currentMap[0].getCellEls(), // cell els in first row\n        true, // horizontal\n        false);\n    };\n    Table.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this, colPositions = _a.colPositions, rowPositions = _a.rowPositions;\n        var col = colPositions.leftToIndex(positionLeft);\n        var row = rowPositions.topToIndex(positionTop);\n        if (row != null && col != null) {\n            var cell = this.props.cells[row][col];\n            return {\n                dateProfile: this.props.dateProfile,\n                dateSpan: __assign({ range: this.getCellRange(row, col), allDay: true }, cell.extraDateSpan),\n                dayEl: this.getCellEl(row, col),\n                rect: {\n                    left: colPositions.lefts[col],\n                    right: colPositions.rights[col],\n                    top: rowPositions.tops[row],\n                    bottom: rowPositions.bottoms[row],\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    Table.prototype.getCellEl = function (row, col) {\n        return this.rowRefs.currentMap[row].getCellEls()[col]; // TODO: not optimal\n    };\n    Table.prototype.getCellRange = function (row, col) {\n        var start = this.props.cells[row][col].date;\n        var end = addDays(start, 1);\n        return { start: start, end: end };\n    };\n    return Table;\n}(DateComponent));\nfunction isSegAllDay(seg) {\n    return seg.eventRange.def.allDay;\n}\n\nvar DayTableSlicer = /** @class */ (function (_super) {\n    __extends(DayTableSlicer, _super);\n    function DayTableSlicer() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.forceDayIfListItem = true;\n        return _this;\n    }\n    DayTableSlicer.prototype.sliceRange = function (dateRange, dayTableModel) {\n        return dayTableModel.sliceRange(dateRange);\n    };\n    return DayTableSlicer;\n}(Slicer));\n\nvar DayTable = /** @class */ (function (_super) {\n    __extends(DayTable, _super);\n    function DayTable() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.slicer = new DayTableSlicer();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTable.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(Table, __assign({ ref: this.tableRef }, this.slicer.sliceProps(props, props.dateProfile, props.nextDayThreshold, context, props.dayTableModel), { dateProfile: props.dateProfile, cells: props.dayTableModel.cells, colGroupNode: props.colGroupNode, tableMinWidth: props.tableMinWidth, renderRowIntro: props.renderRowIntro, dayMaxEvents: props.dayMaxEvents, dayMaxEventRows: props.dayMaxEventRows, showWeekNumbers: props.showWeekNumbers, expandRows: props.expandRows, headerAlignElRef: props.headerAlignElRef, clientWidth: props.clientWidth, clientHeight: props.clientHeight, forPrint: props.forPrint })));\n    };\n    return DayTable;\n}(DateComponent));\n\nvar DayTableView = /** @class */ (function (_super) {\n    __extends(DayTableView, _super);\n    function DayTableView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayTableModel = memoize(buildDayTableModel);\n        _this.headerRef = createRef();\n        _this.tableRef = createRef();\n        return _this;\n    }\n    DayTableView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dayTableModel = this.buildDayTableModel(props.dateProfile, dateProfileGenerator);\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { ref: this.headerRef, dateProfile: props.dateProfile, dates: dayTableModel.headerDates, datesRepDistinctDays: dayTableModel.rowCnt === 1 }));\n        var bodyContent = function (contentArg) { return (createElement(DayTable, { ref: _this.tableRef, dateProfile: props.dateProfile, dayTableModel: dayTableModel, businessHours: props.businessHours, dateSelection: props.dateSelection, eventStore: props.eventStore, eventUiBases: props.eventUiBases, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, nextDayThreshold: options.nextDayThreshold, colGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, dayMaxEvents: options.dayMaxEvents, dayMaxEventRows: options.dayMaxEventRows, showWeekNumbers: options.weekNumbers, expandRows: !props.isHeightAuto, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint })); };\n        return options.dayMinWidth\n            ? this.renderHScrollLayout(headerContent, bodyContent, dayTableModel.colCnt, options.dayMinWidth)\n            : this.renderSimpleLayout(headerContent, bodyContent);\n    };\n    return DayTableView;\n}(TableView));\nfunction buildDayTableModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, /year|month|week/.test(dateProfile.currentRangeUnit));\n}\n\nvar TableDateProfileGenerator = /** @class */ (function (_super) {\n    __extends(TableDateProfileGenerator, _super);\n    function TableDateProfileGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    // Computes the date range that will be rendered.\n    TableDateProfileGenerator.prototype.buildRenderRange = function (currentRange, currentRangeUnit, isRangeAllDay) {\n        var dateEnv = this.props.dateEnv;\n        var renderRange = _super.prototype.buildRenderRange.call(this, currentRange, currentRangeUnit, isRangeAllDay);\n        var start = renderRange.start;\n        var end = renderRange.end;\n        var endOfWeek;\n        // year and month views should be aligned with weeks. this is already done for week\n        if (/^(year|month)$/.test(currentRangeUnit)) {\n            start = dateEnv.startOfWeek(start);\n            // make end-of-week if not already\n            endOfWeek = dateEnv.startOfWeek(end);\n            if (endOfWeek.valueOf() !== end.valueOf()) {\n                end = addWeeks(endOfWeek, 1);\n            }\n        }\n        // ensure 6 weeks\n        if (this.props.monthMode &&\n            this.props.fixedWeekCount) {\n            var rowCnt = Math.ceil(// could be partial weeks due to hiddenDays\n            diffWeeks(start, end));\n            end = addWeeks(end, 6 - rowCnt);\n        }\n        return { start: start, end: end };\n    };\n    return TableDateProfileGenerator;\n}(DateProfileGenerator));\n\nvar main = createPlugin({\n    initialView: 'dayGridMonth',\n    views: {\n        dayGrid: {\n            component: DayTableView,\n            dateProfileGeneratorClass: TableDateProfileGenerator,\n        },\n        dayGridDay: {\n            type: 'dayGrid',\n            duration: { days: 1 },\n        },\n        dayGridWeek: {\n            type: 'dayGrid',\n            duration: { weeks: 1 },\n        },\n        dayGridMonth: {\n            type: 'dayGrid',\n            duration: { months: 1 },\n            monthMode: true,\n            fixedWeekCount: true,\n        },\n    },\n});\n\nexport default main;\nexport { DayTableView as DayGridView, DayTable, DayTableSlicer, Table, TableView, buildDayTableModel };\n","/*!\nFullCalendar v5.8.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport { config, elementClosest, Emitter, applyStyle, whenTransitionDone, removeElement, ScrollController, ElementScrollController, computeInnerRect, WindowScrollController, preventSelection, preventContextMenu, allowSelection, allowContextMenu, ElementDragging, computeRect, getClippingParents, pointInsideRect, isDateSpansEqual, constrainPoint, intersectRects, getRectCenter, diffPoints, mapHash, rangeContainsRange, interactionSettingsToStore, Interaction, isDateSelectionValid, enableCursor, disableCursor, triggerDateSelect, compareNumbers, getElSeg, getRelevantEvents, EventApi, createEmptyEventStore, applyMutationToEventStore, isInteractionValid, buildEventApis, interactionSettingsStore, startOfDay, diffDates, createDuration, identity, eventTupleToStore, parseDragMeta, elementMatches, refineEventDef, parseEventDef, getDefaultEventEnd, createEventInstance, BASE_OPTION_DEFAULTS, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\n\nconfig.touchMouseIgnoreWait = 500;\nvar ignoreMouseDepth = 0;\nvar listenerCnt = 0;\nvar isWindowTouchMoveCancelled = false;\n/*\nUses a \"pointer\" abstraction, which monitors UI events for both mouse and touch.\nTracks when the pointer \"drags\" on a certain element, meaning down+move+up.\n\nAlso, tracks if there was touch-scrolling.\nAlso, can prevent touch-scrolling from happening.\nAlso, can fire pointermove events when scrolling happens underneath, even when no real pointer movement.\n\nemits:\n- pointerdown\n- pointermove\n- pointerup\n*/\nvar PointerDragging = /** @class */ (function () {\n    function PointerDragging(containerEl) {\n        var _this = this;\n        this.subjectEl = null;\n        // options that can be directly assigned by caller\n        this.selector = ''; // will cause subjectEl in all emitted events to be this element\n        this.handleSelector = '';\n        this.shouldIgnoreMove = false;\n        this.shouldWatchScroll = true; // for simulating pointermove on scroll\n        // internal states\n        this.isDragging = false;\n        this.isTouchDragging = false;\n        this.wasTouchScroll = false;\n        // Mouse\n        // ----------------------------------------------------------------------------------------------------\n        this.handleMouseDown = function (ev) {\n            if (!_this.shouldIgnoreMouse() &&\n                isPrimaryMouseButton(ev) &&\n                _this.tryStart(ev)) {\n                var pev = _this.createEventFromMouse(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                if (!_this.shouldIgnoreMove) {\n                    document.addEventListener('mousemove', _this.handleMouseMove);\n                }\n                document.addEventListener('mouseup', _this.handleMouseUp);\n            }\n        };\n        this.handleMouseMove = function (ev) {\n            var pev = _this.createEventFromMouse(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleMouseUp = function (ev) {\n            document.removeEventListener('mousemove', _this.handleMouseMove);\n            document.removeEventListener('mouseup', _this.handleMouseUp);\n            _this.emitter.trigger('pointerup', _this.createEventFromMouse(ev));\n            _this.cleanup(); // call last so that pointerup has access to props\n        };\n        // Touch\n        // ----------------------------------------------------------------------------------------------------\n        this.handleTouchStart = function (ev) {\n            if (_this.tryStart(ev)) {\n                _this.isTouchDragging = true;\n                var pev = _this.createEventFromTouch(ev, true);\n                _this.emitter.trigger('pointerdown', pev);\n                _this.initScrollWatch(pev);\n                // unlike mouse, need to attach to target, not document\n                // https://stackoverflow.com/a/45760014\n                var targetEl = ev.target;\n                if (!_this.shouldIgnoreMove) {\n                    targetEl.addEventListener('touchmove', _this.handleTouchMove);\n                }\n                targetEl.addEventListener('touchend', _this.handleTouchEnd);\n                targetEl.addEventListener('touchcancel', _this.handleTouchEnd); // treat it as a touch end\n                // attach a handler to get called when ANY scroll action happens on the page.\n                // this was impossible to do with normal on/off because 'scroll' doesn't bubble.\n                // http://stackoverflow.com/a/32954565/96342\n                window.addEventListener('scroll', _this.handleTouchScroll, true);\n            }\n        };\n        this.handleTouchMove = function (ev) {\n            var pev = _this.createEventFromTouch(ev);\n            _this.recordCoords(pev);\n            _this.emitter.trigger('pointermove', pev);\n        };\n        this.handleTouchEnd = function (ev) {\n            if (_this.isDragging) { // done to guard against touchend followed by touchcancel\n                var targetEl = ev.target;\n                targetEl.removeEventListener('touchmove', _this.handleTouchMove);\n                targetEl.removeEventListener('touchend', _this.handleTouchEnd);\n                targetEl.removeEventListener('touchcancel', _this.handleTouchEnd);\n                window.removeEventListener('scroll', _this.handleTouchScroll, true); // useCaptured=true\n                _this.emitter.trigger('pointerup', _this.createEventFromTouch(ev));\n                _this.cleanup(); // call last so that pointerup has access to props\n                _this.isTouchDragging = false;\n                startIgnoringMouse();\n            }\n        };\n        this.handleTouchScroll = function () {\n            _this.wasTouchScroll = true;\n        };\n        this.handleScroll = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                var pageX = (window.pageXOffset - _this.prevScrollX) + _this.prevPageX;\n                var pageY = (window.pageYOffset - _this.prevScrollY) + _this.prevPageY;\n                _this.emitter.trigger('pointermove', {\n                    origEvent: ev,\n                    isTouch: _this.isTouchDragging,\n                    subjectEl: _this.subjectEl,\n                    pageX: pageX,\n                    pageY: pageY,\n                    deltaX: pageX - _this.origPageX,\n                    deltaY: pageY - _this.origPageY,\n                });\n            }\n        };\n        this.containerEl = containerEl;\n        this.emitter = new Emitter();\n        containerEl.addEventListener('mousedown', this.handleMouseDown);\n        containerEl.addEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerCreated();\n    }\n    PointerDragging.prototype.destroy = function () {\n        this.containerEl.removeEventListener('mousedown', this.handleMouseDown);\n        this.containerEl.removeEventListener('touchstart', this.handleTouchStart, { passive: true });\n        listenerDestroyed();\n    };\n    PointerDragging.prototype.tryStart = function (ev) {\n        var subjectEl = this.querySubjectEl(ev);\n        var downEl = ev.target;\n        if (subjectEl &&\n            (!this.handleSelector || elementClosest(downEl, this.handleSelector))) {\n            this.subjectEl = subjectEl;\n            this.isDragging = true; // do this first so cancelTouchScroll will work\n            this.wasTouchScroll = false;\n            return true;\n        }\n        return false;\n    };\n    PointerDragging.prototype.cleanup = function () {\n        isWindowTouchMoveCancelled = false;\n        this.isDragging = false;\n        this.subjectEl = null;\n        // keep wasTouchScroll around for later access\n        this.destroyScrollWatch();\n    };\n    PointerDragging.prototype.querySubjectEl = function (ev) {\n        if (this.selector) {\n            return elementClosest(ev.target, this.selector);\n        }\n        return this.containerEl;\n    };\n    PointerDragging.prototype.shouldIgnoreMouse = function () {\n        return ignoreMouseDepth || this.isTouchDragging;\n    };\n    // can be called by user of this class, to cancel touch-based scrolling for the current drag\n    PointerDragging.prototype.cancelTouchScroll = function () {\n        if (this.isDragging) {\n            isWindowTouchMoveCancelled = true;\n        }\n    };\n    // Scrolling that simulates pointermoves\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.initScrollWatch = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.recordCoords(ev);\n            window.addEventListener('scroll', this.handleScroll, true); // useCapture=true\n        }\n    };\n    PointerDragging.prototype.recordCoords = function (ev) {\n        if (this.shouldWatchScroll) {\n            this.prevPageX = ev.pageX;\n            this.prevPageY = ev.pageY;\n            this.prevScrollX = window.pageXOffset;\n            this.prevScrollY = window.pageYOffset;\n        }\n    };\n    PointerDragging.prototype.destroyScrollWatch = function () {\n        if (this.shouldWatchScroll) {\n            window.removeEventListener('scroll', this.handleScroll, true); // useCaptured=true\n        }\n    };\n    // Event Normalization\n    // ----------------------------------------------------------------------------------------------------\n    PointerDragging.prototype.createEventFromMouse = function (ev, isFirst) {\n        var deltaX = 0;\n        var deltaY = 0;\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = ev.pageX;\n            this.origPageY = ev.pageY;\n        }\n        else {\n            deltaX = ev.pageX - this.origPageX;\n            deltaY = ev.pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: false,\n            subjectEl: this.subjectEl,\n            pageX: ev.pageX,\n            pageY: ev.pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    PointerDragging.prototype.createEventFromTouch = function (ev, isFirst) {\n        var touches = ev.touches;\n        var pageX;\n        var pageY;\n        var deltaX = 0;\n        var deltaY = 0;\n        // if touch coords available, prefer,\n        // because FF would give bad ev.pageX ev.pageY\n        if (touches && touches.length) {\n            pageX = touches[0].pageX;\n            pageY = touches[0].pageY;\n        }\n        else {\n            pageX = ev.pageX;\n            pageY = ev.pageY;\n        }\n        // TODO: repeat code\n        if (isFirst) {\n            this.origPageX = pageX;\n            this.origPageY = pageY;\n        }\n        else {\n            deltaX = pageX - this.origPageX;\n            deltaY = pageY - this.origPageY;\n        }\n        return {\n            origEvent: ev,\n            isTouch: true,\n            subjectEl: this.subjectEl,\n            pageX: pageX,\n            pageY: pageY,\n            deltaX: deltaX,\n            deltaY: deltaY,\n        };\n    };\n    return PointerDragging;\n}());\n// Returns a boolean whether this was a left mouse click and no ctrl key (which means right click on Mac)\nfunction isPrimaryMouseButton(ev) {\n    return ev.button === 0 && !ev.ctrlKey;\n}\n// Ignoring fake mouse events generated by touch\n// ----------------------------------------------------------------------------------------------------\nfunction startIgnoringMouse() {\n    ignoreMouseDepth += 1;\n    setTimeout(function () {\n        ignoreMouseDepth -= 1;\n    }, config.touchMouseIgnoreWait);\n}\n// We want to attach touchmove as early as possible for Safari\n// ----------------------------------------------------------------------------------------------------\nfunction listenerCreated() {\n    listenerCnt += 1;\n    if (listenerCnt === 1) {\n        window.addEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction listenerDestroyed() {\n    listenerCnt -= 1;\n    if (!listenerCnt) {\n        window.removeEventListener('touchmove', onWindowTouchMove, { passive: false });\n    }\n}\nfunction onWindowTouchMove(ev) {\n    if (isWindowTouchMoveCancelled) {\n        ev.preventDefault();\n    }\n}\n\n/*\nAn effect in which an element follows the movement of a pointer across the screen.\nThe moving element is a clone of some other element.\nMust call start + handleMove + stop.\n*/\nvar ElementMirror = /** @class */ (function () {\n    function ElementMirror() {\n        this.isVisible = false; // must be explicitly enabled\n        this.sourceEl = null;\n        this.mirrorEl = null;\n        this.sourceElRect = null; // screen coords relative to viewport\n        // options that can be set directly by caller\n        this.parentNode = document.body;\n        this.zIndex = 9999;\n        this.revertDuration = 0;\n    }\n    ElementMirror.prototype.start = function (sourceEl, pageX, pageY) {\n        this.sourceEl = sourceEl;\n        this.sourceElRect = this.sourceEl.getBoundingClientRect();\n        this.origScreenX = pageX - window.pageXOffset;\n        this.origScreenY = pageY - window.pageYOffset;\n        this.deltaX = 0;\n        this.deltaY = 0;\n        this.updateElPosition();\n    };\n    ElementMirror.prototype.handleMove = function (pageX, pageY) {\n        this.deltaX = (pageX - window.pageXOffset) - this.origScreenX;\n        this.deltaY = (pageY - window.pageYOffset) - this.origScreenY;\n        this.updateElPosition();\n    };\n    // can be called before start\n    ElementMirror.prototype.setIsVisible = function (bool) {\n        if (bool) {\n            if (!this.isVisible) {\n                if (this.mirrorEl) {\n                    this.mirrorEl.style.display = '';\n                }\n                this.isVisible = bool; // needs to happen before updateElPosition\n                this.updateElPosition(); // because was not updating the position while invisible\n            }\n        }\n        else if (this.isVisible) {\n            if (this.mirrorEl) {\n                this.mirrorEl.style.display = 'none';\n            }\n            this.isVisible = bool;\n        }\n    };\n    // always async\n    ElementMirror.prototype.stop = function (needsRevertAnimation, callback) {\n        var _this = this;\n        var done = function () {\n            _this.cleanup();\n            callback();\n        };\n        if (needsRevertAnimation &&\n            this.mirrorEl &&\n            this.isVisible &&\n            this.revertDuration && // if 0, transition won't work\n            (this.deltaX || this.deltaY) // if same coords, transition won't work\n        ) {\n            this.doRevertAnimation(done, this.revertDuration);\n        }\n        else {\n            setTimeout(done, 0);\n        }\n    };\n    ElementMirror.prototype.doRevertAnimation = function (callback, revertDuration) {\n        var mirrorEl = this.mirrorEl;\n        var finalSourceElRect = this.sourceEl.getBoundingClientRect(); // because autoscrolling might have happened\n        mirrorEl.style.transition =\n            'top ' + revertDuration + 'ms,' +\n                'left ' + revertDuration + 'ms';\n        applyStyle(mirrorEl, {\n            left: finalSourceElRect.left,\n            top: finalSourceElRect.top,\n        });\n        whenTransitionDone(mirrorEl, function () {\n            mirrorEl.style.transition = '';\n            callback();\n        });\n    };\n    ElementMirror.prototype.cleanup = function () {\n        if (this.mirrorEl) {\n            removeElement(this.mirrorEl);\n            this.mirrorEl = null;\n        }\n        this.sourceEl = null;\n    };\n    ElementMirror.prototype.updateElPosition = function () {\n        if (this.sourceEl && this.isVisible) {\n            applyStyle(this.getMirrorEl(), {\n                left: this.sourceElRect.left + this.deltaX,\n                top: this.sourceElRect.top + this.deltaY,\n            });\n        }\n    };\n    ElementMirror.prototype.getMirrorEl = function () {\n        var sourceElRect = this.sourceElRect;\n        var mirrorEl = this.mirrorEl;\n        if (!mirrorEl) {\n            mirrorEl = this.mirrorEl = this.sourceEl.cloneNode(true); // cloneChildren=true\n            // we don't want long taps or any mouse interaction causing selection/menus.\n            // would use preventSelection(), but that prevents selectstart, causing problems.\n            mirrorEl.classList.add('fc-unselectable');\n            mirrorEl.classList.add('fc-event-dragging');\n            applyStyle(mirrorEl, {\n                position: 'fixed',\n                zIndex: this.zIndex,\n                visibility: '',\n                boxSizing: 'border-box',\n                width: sourceElRect.right - sourceElRect.left,\n                height: sourceElRect.bottom - sourceElRect.top,\n                right: 'auto',\n                bottom: 'auto',\n                margin: 0,\n            });\n            this.parentNode.appendChild(mirrorEl);\n        }\n        return mirrorEl;\n    };\n    return ElementMirror;\n}());\n\n/*\nIs a cache for a given element's scroll information (all the info that ScrollController stores)\nin addition the \"client rectangle\" of the element.. the area within the scrollbars.\n\nThe cache can be in one of two modes:\n- doesListening:false - ignores when the container is scrolled by someone else\n- doesListening:true - watch for scrolling and update the cache\n*/\nvar ScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ScrollGeomCache, _super);\n    function ScrollGeomCache(scrollController, doesListening) {\n        var _this = _super.call(this) || this;\n        _this.handleScroll = function () {\n            _this.scrollTop = _this.scrollController.getScrollTop();\n            _this.scrollLeft = _this.scrollController.getScrollLeft();\n            _this.handleScrollChange();\n        };\n        _this.scrollController = scrollController;\n        _this.doesListening = doesListening;\n        _this.scrollTop = _this.origScrollTop = scrollController.getScrollTop();\n        _this.scrollLeft = _this.origScrollLeft = scrollController.getScrollLeft();\n        _this.scrollWidth = scrollController.getScrollWidth();\n        _this.scrollHeight = scrollController.getScrollHeight();\n        _this.clientWidth = scrollController.getClientWidth();\n        _this.clientHeight = scrollController.getClientHeight();\n        _this.clientRect = _this.computeClientRect(); // do last in case it needs cached values\n        if (_this.doesListening) {\n            _this.getEventTarget().addEventListener('scroll', _this.handleScroll);\n        }\n        return _this;\n    }\n    ScrollGeomCache.prototype.destroy = function () {\n        if (this.doesListening) {\n            this.getEventTarget().removeEventListener('scroll', this.handleScroll);\n        }\n    };\n    ScrollGeomCache.prototype.getScrollTop = function () {\n        return this.scrollTop;\n    };\n    ScrollGeomCache.prototype.getScrollLeft = function () {\n        return this.scrollLeft;\n    };\n    ScrollGeomCache.prototype.setScrollTop = function (top) {\n        this.scrollController.setScrollTop(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollTop = Math.max(Math.min(top, this.getMaxScrollTop()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.setScrollLeft = function (top) {\n        this.scrollController.setScrollLeft(top);\n        if (!this.doesListening) {\n            // we are not relying on the element to normalize out-of-bounds scroll values\n            // so we need to sanitize ourselves\n            this.scrollLeft = Math.max(Math.min(top, this.getMaxScrollLeft()), 0);\n            this.handleScrollChange();\n        }\n    };\n    ScrollGeomCache.prototype.getClientWidth = function () {\n        return this.clientWidth;\n    };\n    ScrollGeomCache.prototype.getClientHeight = function () {\n        return this.clientHeight;\n    };\n    ScrollGeomCache.prototype.getScrollWidth = function () {\n        return this.scrollWidth;\n    };\n    ScrollGeomCache.prototype.getScrollHeight = function () {\n        return this.scrollHeight;\n    };\n    ScrollGeomCache.prototype.handleScrollChange = function () {\n    };\n    return ScrollGeomCache;\n}(ScrollController));\n\nvar ElementScrollGeomCache = /** @class */ (function (_super) {\n    __extends(ElementScrollGeomCache, _super);\n    function ElementScrollGeomCache(el, doesListening) {\n        return _super.call(this, new ElementScrollController(el), doesListening) || this;\n    }\n    ElementScrollGeomCache.prototype.getEventTarget = function () {\n        return this.scrollController.el;\n    };\n    ElementScrollGeomCache.prototype.computeClientRect = function () {\n        return computeInnerRect(this.scrollController.el);\n    };\n    return ElementScrollGeomCache;\n}(ScrollGeomCache));\n\nvar WindowScrollGeomCache = /** @class */ (function (_super) {\n    __extends(WindowScrollGeomCache, _super);\n    function WindowScrollGeomCache(doesListening) {\n        return _super.call(this, new WindowScrollController(), doesListening) || this;\n    }\n    WindowScrollGeomCache.prototype.getEventTarget = function () {\n        return window;\n    };\n    WindowScrollGeomCache.prototype.computeClientRect = function () {\n        return {\n            left: this.scrollLeft,\n            right: this.scrollLeft + this.clientWidth,\n            top: this.scrollTop,\n            bottom: this.scrollTop + this.clientHeight,\n        };\n    };\n    // the window is the only scroll object that changes it's rectangle relative\n    // to the document's topleft as it scrolls\n    WindowScrollGeomCache.prototype.handleScrollChange = function () {\n        this.clientRect = this.computeClientRect();\n    };\n    return WindowScrollGeomCache;\n}(ScrollGeomCache));\n\n// If available we are using native \"performance\" API instead of \"Date\"\n// Read more about it on MDN:\n// https://developer.mozilla.org/en-US/docs/Web/API/Performance\nvar getTime = typeof performance === 'function' ? performance.now : Date.now;\n/*\nFor a pointer interaction, automatically scrolls certain scroll containers when the pointer\napproaches the edge.\n\nThe caller must call start + handleMove + stop.\n*/\nvar AutoScroller = /** @class */ (function () {\n    function AutoScroller() {\n        var _this = this;\n        // options that can be set by caller\n        this.isEnabled = true;\n        this.scrollQuery = [window, '.fc-scroller'];\n        this.edgeThreshold = 50; // pixels\n        this.maxVelocity = 300; // pixels per second\n        // internal state\n        this.pointerScreenX = null;\n        this.pointerScreenY = null;\n        this.isAnimating = false;\n        this.scrollCaches = null;\n        // protect against the initial pointerdown being too close to an edge and starting the scroll\n        this.everMovedUp = false;\n        this.everMovedDown = false;\n        this.everMovedLeft = false;\n        this.everMovedRight = false;\n        this.animate = function () {\n            if (_this.isAnimating) { // wasn't cancelled between animation calls\n                var edge = _this.computeBestEdge(_this.pointerScreenX + window.pageXOffset, _this.pointerScreenY + window.pageYOffset);\n                if (edge) {\n                    var now = getTime();\n                    _this.handleSide(edge, (now - _this.msSinceRequest) / 1000);\n                    _this.requestAnimation(now);\n                }\n                else {\n                    _this.isAnimating = false; // will stop animation\n                }\n            }\n        };\n    }\n    AutoScroller.prototype.start = function (pageX, pageY) {\n        if (this.isEnabled) {\n            this.scrollCaches = this.buildCaches();\n            this.pointerScreenX = null;\n            this.pointerScreenY = null;\n            this.everMovedUp = false;\n            this.everMovedDown = false;\n            this.everMovedLeft = false;\n            this.everMovedRight = false;\n            this.handleMove(pageX, pageY);\n        }\n    };\n    AutoScroller.prototype.handleMove = function (pageX, pageY) {\n        if (this.isEnabled) {\n            var pointerScreenX = pageX - window.pageXOffset;\n            var pointerScreenY = pageY - window.pageYOffset;\n            var yDelta = this.pointerScreenY === null ? 0 : pointerScreenY - this.pointerScreenY;\n            var xDelta = this.pointerScreenX === null ? 0 : pointerScreenX - this.pointerScreenX;\n            if (yDelta < 0) {\n                this.everMovedUp = true;\n            }\n            else if (yDelta > 0) {\n                this.everMovedDown = true;\n            }\n            if (xDelta < 0) {\n                this.everMovedLeft = true;\n            }\n            else if (xDelta > 0) {\n                this.everMovedRight = true;\n            }\n            this.pointerScreenX = pointerScreenX;\n            this.pointerScreenY = pointerScreenY;\n            if (!this.isAnimating) {\n                this.isAnimating = true;\n                this.requestAnimation(getTime());\n            }\n        }\n    };\n    AutoScroller.prototype.stop = function () {\n        if (this.isEnabled) {\n            this.isAnimating = false; // will stop animation\n            for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n                var scrollCache = _a[_i];\n                scrollCache.destroy();\n            }\n            this.scrollCaches = null;\n        }\n    };\n    AutoScroller.prototype.requestAnimation = function (now) {\n        this.msSinceRequest = now;\n        requestAnimationFrame(this.animate);\n    };\n    AutoScroller.prototype.handleSide = function (edge, seconds) {\n        var scrollCache = edge.scrollCache;\n        var edgeThreshold = this.edgeThreshold;\n        var invDistance = edgeThreshold - edge.distance;\n        var velocity = // the closer to the edge, the faster we scroll\n         ((invDistance * invDistance) / (edgeThreshold * edgeThreshold)) * // quadratic\n            this.maxVelocity * seconds;\n        var sign = 1;\n        switch (edge.name) {\n            case 'left':\n                sign = -1;\n            // falls through\n            case 'right':\n                scrollCache.setScrollLeft(scrollCache.getScrollLeft() + velocity * sign);\n                break;\n            case 'top':\n                sign = -1;\n            // falls through\n            case 'bottom':\n                scrollCache.setScrollTop(scrollCache.getScrollTop() + velocity * sign);\n                break;\n        }\n    };\n    // left/top are relative to document topleft\n    AutoScroller.prototype.computeBestEdge = function (left, top) {\n        var edgeThreshold = this.edgeThreshold;\n        var bestSide = null;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            var rect = scrollCache.clientRect;\n            var leftDist = left - rect.left;\n            var rightDist = rect.right - left;\n            var topDist = top - rect.top;\n            var bottomDist = rect.bottom - top;\n            // completely within the rect?\n            if (leftDist >= 0 && rightDist >= 0 && topDist >= 0 && bottomDist >= 0) {\n                if (topDist <= edgeThreshold && this.everMovedUp && scrollCache.canScrollUp() &&\n                    (!bestSide || bestSide.distance > topDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'top', distance: topDist };\n                }\n                if (bottomDist <= edgeThreshold && this.everMovedDown && scrollCache.canScrollDown() &&\n                    (!bestSide || bestSide.distance > bottomDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'bottom', distance: bottomDist };\n                }\n                if (leftDist <= edgeThreshold && this.everMovedLeft && scrollCache.canScrollLeft() &&\n                    (!bestSide || bestSide.distance > leftDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'left', distance: leftDist };\n                }\n                if (rightDist <= edgeThreshold && this.everMovedRight && scrollCache.canScrollRight() &&\n                    (!bestSide || bestSide.distance > rightDist)) {\n                    bestSide = { scrollCache: scrollCache, name: 'right', distance: rightDist };\n                }\n            }\n        }\n        return bestSide;\n    };\n    AutoScroller.prototype.buildCaches = function () {\n        return this.queryScrollEls().map(function (el) {\n            if (el === window) {\n                return new WindowScrollGeomCache(false); // false = don't listen to user-generated scrolls\n            }\n            return new ElementScrollGeomCache(el, false); // false = don't listen to user-generated scrolls\n        });\n    };\n    AutoScroller.prototype.queryScrollEls = function () {\n        var els = [];\n        for (var _i = 0, _a = this.scrollQuery; _i < _a.length; _i++) {\n            var query = _a[_i];\n            if (typeof query === 'object') {\n                els.push(query);\n            }\n            else {\n                els.push.apply(els, Array.prototype.slice.call(document.querySelectorAll(query)));\n            }\n        }\n        return els;\n    };\n    return AutoScroller;\n}());\n\n/*\nMonitors dragging on an element. Has a number of high-level features:\n- minimum distance required before dragging\n- minimum wait time (\"delay\") before dragging\n- a mirror element that follows the pointer\n*/\nvar FeaturefulElementDragging = /** @class */ (function (_super) {\n    __extends(FeaturefulElementDragging, _super);\n    function FeaturefulElementDragging(containerEl, selector) {\n        var _this = _super.call(this, containerEl) || this;\n        // options that can be directly set by caller\n        // the caller can also set the PointerDragging's options as well\n        _this.delay = null;\n        _this.minDistance = 0;\n        _this.touchScrollAllowed = true; // prevents drag from starting and blocks scrolling during drag\n        _this.mirrorNeedsRevert = false;\n        _this.isInteracting = false; // is the user validly moving the pointer? lasts until pointerup\n        _this.isDragging = false; // is it INTENTFULLY dragging? lasts until after revert animation\n        _this.isDelayEnded = false;\n        _this.isDistanceSurpassed = false;\n        _this.delayTimeoutId = null;\n        _this.onPointerDown = function (ev) {\n            if (!_this.isDragging) { // so new drag doesn't happen while revert animation is going\n                _this.isInteracting = true;\n                _this.isDelayEnded = false;\n                _this.isDistanceSurpassed = false;\n                preventSelection(document.body);\n                preventContextMenu(document.body);\n                // prevent links from being visited if there's an eventual drag.\n                // also prevents selection in older browsers (maybe?).\n                // not necessary for touch, besides, browser would complain about passiveness.\n                if (!ev.isTouch) {\n                    ev.origEvent.preventDefault();\n                }\n                _this.emitter.trigger('pointerdown', ev);\n                if (_this.isInteracting && // not destroyed via pointerdown handler\n                    !_this.pointer.shouldIgnoreMove) {\n                    // actions related to initiating dragstart+dragmove+dragend...\n                    _this.mirror.setIsVisible(false); // reset. caller must set-visible\n                    _this.mirror.start(ev.subjectEl, ev.pageX, ev.pageY); // must happen on first pointer down\n                    _this.startDelay(ev);\n                    if (!_this.minDistance) {\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n            }\n        };\n        _this.onPointerMove = function (ev) {\n            if (_this.isInteracting) {\n                _this.emitter.trigger('pointermove', ev);\n                if (!_this.isDistanceSurpassed) {\n                    var minDistance = _this.minDistance;\n                    var distanceSq = void 0; // current distance from the origin, squared\n                    var deltaX = ev.deltaX, deltaY = ev.deltaY;\n                    distanceSq = deltaX * deltaX + deltaY * deltaY;\n                    if (distanceSq >= minDistance * minDistance) { // use pythagorean theorem\n                        _this.handleDistanceSurpassed(ev);\n                    }\n                }\n                if (_this.isDragging) {\n                    // a real pointer move? (not one simulated by scrolling)\n                    if (ev.origEvent.type !== 'scroll') {\n                        _this.mirror.handleMove(ev.pageX, ev.pageY);\n                        _this.autoScroller.handleMove(ev.pageX, ev.pageY);\n                    }\n                    _this.emitter.trigger('dragmove', ev);\n                }\n            }\n        };\n        _this.onPointerUp = function (ev) {\n            if (_this.isInteracting) {\n                _this.isInteracting = false;\n                allowSelection(document.body);\n                allowContextMenu(document.body);\n                _this.emitter.trigger('pointerup', ev); // can potentially set mirrorNeedsRevert\n                if (_this.isDragging) {\n                    _this.autoScroller.stop();\n                    _this.tryStopDrag(ev); // which will stop the mirror\n                }\n                if (_this.delayTimeoutId) {\n                    clearTimeout(_this.delayTimeoutId);\n                    _this.delayTimeoutId = null;\n                }\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.onPointerDown);\n        pointer.emitter.on('pointermove', _this.onPointerMove);\n        pointer.emitter.on('pointerup', _this.onPointerUp);\n        if (selector) {\n            pointer.selector = selector;\n        }\n        _this.mirror = new ElementMirror();\n        _this.autoScroller = new AutoScroller();\n        return _this;\n    }\n    FeaturefulElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n        // HACK: simulate a pointer-up to end the current drag\n        // TODO: fire 'dragend' directly and stop interaction. discourage use of pointerup event (b/c might not fire)\n        this.onPointerUp({});\n    };\n    FeaturefulElementDragging.prototype.startDelay = function (ev) {\n        var _this = this;\n        if (typeof this.delay === 'number') {\n            this.delayTimeoutId = setTimeout(function () {\n                _this.delayTimeoutId = null;\n                _this.handleDelayEnd(ev);\n            }, this.delay); // not assignable to number!\n        }\n        else {\n            this.handleDelayEnd(ev);\n        }\n    };\n    FeaturefulElementDragging.prototype.handleDelayEnd = function (ev) {\n        this.isDelayEnded = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.handleDistanceSurpassed = function (ev) {\n        this.isDistanceSurpassed = true;\n        this.tryStartDrag(ev);\n    };\n    FeaturefulElementDragging.prototype.tryStartDrag = function (ev) {\n        if (this.isDelayEnded && this.isDistanceSurpassed) {\n            if (!this.pointer.wasTouchScroll || this.touchScrollAllowed) {\n                this.isDragging = true;\n                this.mirrorNeedsRevert = false;\n                this.autoScroller.start(ev.pageX, ev.pageY);\n                this.emitter.trigger('dragstart', ev);\n                if (this.touchScrollAllowed === false) {\n                    this.pointer.cancelTouchScroll();\n                }\n            }\n        }\n    };\n    FeaturefulElementDragging.prototype.tryStopDrag = function (ev) {\n        // .stop() is ALWAYS asynchronous, which we NEED because we want all pointerup events\n        // that come from the document to fire beforehand. much more convenient this way.\n        this.mirror.stop(this.mirrorNeedsRevert, this.stopDrag.bind(this, ev));\n    };\n    FeaturefulElementDragging.prototype.stopDrag = function (ev) {\n        this.isDragging = false;\n        this.emitter.trigger('dragend', ev);\n    };\n    // fill in the implementations...\n    FeaturefulElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.pointer.shouldIgnoreMove = bool;\n    };\n    FeaturefulElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        this.mirror.setIsVisible(bool);\n    };\n    FeaturefulElementDragging.prototype.setMirrorNeedsRevert = function (bool) {\n        this.mirrorNeedsRevert = bool;\n    };\n    FeaturefulElementDragging.prototype.setAutoScrollEnabled = function (bool) {\n        this.autoScroller.isEnabled = bool;\n    };\n    return FeaturefulElementDragging;\n}(ElementDragging));\n\n/*\nWhen this class is instantiated, it records the offset of an element (relative to the document topleft),\nand continues to monitor scrolling, updating the cached coordinates if it needs to.\nDoes not access the DOM after instantiation, so highly performant.\n\nAlso keeps track of all scrolling/overflow:hidden containers that are parents of the given element\nand an determine if a given point is inside the combined clipping rectangle.\n*/\nvar OffsetTracker = /** @class */ (function () {\n    function OffsetTracker(el) {\n        this.origRect = computeRect(el);\n        // will work fine for divs that have overflow:hidden\n        this.scrollCaches = getClippingParents(el).map(function (scrollEl) { return new ElementScrollGeomCache(scrollEl, true); });\n    }\n    OffsetTracker.prototype.destroy = function () {\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            scrollCache.destroy();\n        }\n    };\n    OffsetTracker.prototype.computeLeft = function () {\n        var left = this.origRect.left;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            left += scrollCache.origScrollLeft - scrollCache.getScrollLeft();\n        }\n        return left;\n    };\n    OffsetTracker.prototype.computeTop = function () {\n        var top = this.origRect.top;\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            top += scrollCache.origScrollTop - scrollCache.getScrollTop();\n        }\n        return top;\n    };\n    OffsetTracker.prototype.isWithinClipping = function (pageX, pageY) {\n        var point = { left: pageX, top: pageY };\n        for (var _i = 0, _a = this.scrollCaches; _i < _a.length; _i++) {\n            var scrollCache = _a[_i];\n            if (!isIgnoredClipping(scrollCache.getEventTarget()) &&\n                !pointInsideRect(point, scrollCache.clientRect)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    return OffsetTracker;\n}());\n// certain clipping containers should never constrain interactions, like <html> and <body>\n// https://github.com/fullcalendar/fullcalendar/issues/3615\nfunction isIgnoredClipping(node) {\n    var tagName = node.tagName;\n    return tagName === 'HTML' || tagName === 'BODY';\n}\n\n/*\nTracks movement over multiple droppable areas (aka \"hits\")\nthat exist in one or more DateComponents.\nRelies on an existing draggable.\n\nemits:\n- pointerdown\n- dragstart\n- hitchange - fires initially, even if not over a hit\n- pointerup\n- (hitchange - again, to null, if ended over a hit)\n- dragend\n*/\nvar HitDragging = /** @class */ (function () {\n    function HitDragging(dragging, droppableStore) {\n        var _this = this;\n        // options that can be set by caller\n        this.useSubjectCenter = false;\n        this.requireInitial = true; // if doesn't start out on a hit, won't emit any events\n        this.initialHit = null;\n        this.movingHit = null;\n        this.finalHit = null; // won't ever be populated if shouldIgnoreMove\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            _this.initialHit = null;\n            _this.movingHit = null;\n            _this.finalHit = null;\n            _this.prepareHits();\n            _this.processFirstCoord(ev);\n            if (_this.initialHit || !_this.requireInitial) {\n                dragging.setIgnoreMove(false);\n                // TODO: fire this before computing processFirstCoord, so listeners can cancel. this gets fired by almost every handler :(\n                _this.emitter.trigger('pointerdown', ev);\n            }\n            else {\n                dragging.setIgnoreMove(true);\n            }\n        };\n        this.handleDragStart = function (ev) {\n            _this.emitter.trigger('dragstart', ev);\n            _this.handleMove(ev, true); // force = fire even if initially null\n        };\n        this.handleDragMove = function (ev) {\n            _this.emitter.trigger('dragmove', ev);\n            _this.handleMove(ev);\n        };\n        this.handlePointerUp = function (ev) {\n            _this.releaseHits();\n            _this.emitter.trigger('pointerup', ev);\n        };\n        this.handleDragEnd = function (ev) {\n            if (_this.movingHit) {\n                _this.emitter.trigger('hitupdate', null, true, ev);\n            }\n            _this.finalHit = _this.movingHit;\n            _this.movingHit = null;\n            _this.emitter.trigger('dragend', ev);\n        };\n        this.droppableStore = droppableStore;\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        dragging.emitter.on('dragmove', this.handleDragMove);\n        dragging.emitter.on('pointerup', this.handlePointerUp);\n        dragging.emitter.on('dragend', this.handleDragEnd);\n        this.dragging = dragging;\n        this.emitter = new Emitter();\n    }\n    // sets initialHit\n    // sets coordAdjust\n    HitDragging.prototype.processFirstCoord = function (ev) {\n        var origPoint = { left: ev.pageX, top: ev.pageY };\n        var adjustedPoint = origPoint;\n        var subjectEl = ev.subjectEl;\n        var subjectRect;\n        if (subjectEl !== document) {\n            subjectRect = computeRect(subjectEl);\n            adjustedPoint = constrainPoint(adjustedPoint, subjectRect);\n        }\n        var initialHit = this.initialHit = this.queryHitForOffset(adjustedPoint.left, adjustedPoint.top);\n        if (initialHit) {\n            if (this.useSubjectCenter && subjectRect) {\n                var slicedSubjectRect = intersectRects(subjectRect, initialHit.rect);\n                if (slicedSubjectRect) {\n                    adjustedPoint = getRectCenter(slicedSubjectRect);\n                }\n            }\n            this.coordAdjust = diffPoints(adjustedPoint, origPoint);\n        }\n        else {\n            this.coordAdjust = { left: 0, top: 0 };\n        }\n    };\n    HitDragging.prototype.handleMove = function (ev, forceHandle) {\n        var hit = this.queryHitForOffset(ev.pageX + this.coordAdjust.left, ev.pageY + this.coordAdjust.top);\n        if (forceHandle || !isHitsEqual(this.movingHit, hit)) {\n            this.movingHit = hit;\n            this.emitter.trigger('hitupdate', hit, false, ev);\n        }\n    };\n    HitDragging.prototype.prepareHits = function () {\n        this.offsetTrackers = mapHash(this.droppableStore, function (interactionSettings) {\n            interactionSettings.component.prepareHits();\n            return new OffsetTracker(interactionSettings.el);\n        });\n    };\n    HitDragging.prototype.releaseHits = function () {\n        var offsetTrackers = this.offsetTrackers;\n        for (var id in offsetTrackers) {\n            offsetTrackers[id].destroy();\n        }\n        this.offsetTrackers = {};\n    };\n    HitDragging.prototype.queryHitForOffset = function (offsetLeft, offsetTop) {\n        var _a = this, droppableStore = _a.droppableStore, offsetTrackers = _a.offsetTrackers;\n        var bestHit = null;\n        for (var id in droppableStore) {\n            var component = droppableStore[id].component;\n            var offsetTracker = offsetTrackers[id];\n            if (offsetTracker && // wasn't destroyed mid-drag\n                offsetTracker.isWithinClipping(offsetLeft, offsetTop)) {\n                var originLeft = offsetTracker.computeLeft();\n                var originTop = offsetTracker.computeTop();\n                var positionLeft = offsetLeft - originLeft;\n                var positionTop = offsetTop - originTop;\n                var origRect = offsetTracker.origRect;\n                var width = origRect.right - origRect.left;\n                var height = origRect.bottom - origRect.top;\n                if (\n                // must be within the element's bounds\n                positionLeft >= 0 && positionLeft < width &&\n                    positionTop >= 0 && positionTop < height) {\n                    var hit = component.queryHit(positionLeft, positionTop, width, height);\n                    if (hit && (\n                    // make sure the hit is within activeRange, meaning it's not a dead cell\n                    rangeContainsRange(hit.dateProfile.activeRange, hit.dateSpan.range)) &&\n                        (!bestHit || hit.layer > bestHit.layer)) {\n                        hit.componentId = id;\n                        hit.context = component.context;\n                        // TODO: better way to re-orient rectangle\n                        hit.rect.left += originLeft;\n                        hit.rect.right += originLeft;\n                        hit.rect.top += originTop;\n                        hit.rect.bottom += originTop;\n                        bestHit = hit;\n                    }\n                }\n            }\n        }\n        return bestHit;\n    };\n    return HitDragging;\n}());\nfunction isHitsEqual(hit0, hit1) {\n    if (!hit0 && !hit1) {\n        return true;\n    }\n    if (Boolean(hit0) !== Boolean(hit1)) {\n        return false;\n    }\n    return isDateSpansEqual(hit0.dateSpan, hit1.dateSpan);\n}\n\nfunction buildDatePointApiWithContext(dateSpan, context) {\n    var props = {};\n    for (var _i = 0, _a = context.pluginHooks.datePointTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(props, transform(dateSpan, context));\n    }\n    __assign(props, buildDatePointApi(dateSpan, context.dateEnv));\n    return props;\n}\nfunction buildDatePointApi(span, dateEnv) {\n    return {\n        date: dateEnv.toDate(span.range.start),\n        dateStr: dateEnv.formatIso(span.range.start, { omitTime: span.allDay }),\n        allDay: span.allDay,\n    };\n}\n\n/*\nMonitors when the user clicks on a specific date/time of a component.\nA pointerdown+pointerup on the same \"hit\" constitutes a click.\n*/\nvar DateClicking = /** @class */ (function (_super) {\n    __extends(DateClicking, _super);\n    function DateClicking(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.handlePointerDown = function (pev) {\n            var dragging = _this.dragging;\n            var downEl = pev.origEvent.target;\n            // do this in pointerdown (not dragend) because DOM might be mutated by the time dragend is fired\n            dragging.setIgnoreMove(!_this.component.isValidDateDownEl(downEl));\n        };\n        // won't even fire if moving was ignored\n        _this.handleDragEnd = function (ev) {\n            var component = _this.component;\n            var pointer = _this.dragging.pointer;\n            if (!pointer.wasTouchScroll) {\n                var _a = _this.hitDragging, initialHit = _a.initialHit, finalHit = _a.finalHit;\n                if (initialHit && finalHit && isHitsEqual(initialHit, finalHit)) {\n                    var context = component.context;\n                    var arg = __assign(__assign({}, buildDatePointApiWithContext(initialHit.dateSpan, context)), { dayEl: initialHit.dayEl, jsEvent: ev.origEvent, view: context.viewApi || context.calendarApi.view });\n                    context.emitter.trigger('dateClick', arg);\n                }\n            }\n        };\n        // we DO want to watch pointer moves because otherwise finalHit won't get populated\n        _this.dragging = new FeaturefulElementDragging(settings.el);\n        _this.dragging.autoScroller.isEnabled = false;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    DateClicking.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateClicking;\n}(Interaction));\n\n/*\nTracks when the user selects a portion of time of a component,\nconstituted by a drag over date cells, with a possible delay at the beginning of the drag.\n*/\nvar DateSelecting = /** @class */ (function (_super) {\n    __extends(DateSelecting, _super);\n    function DateSelecting(settings) {\n        var _this = _super.call(this, settings) || this;\n        _this.dragSelection = null;\n        _this.handlePointerDown = function (ev) {\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var options = component.context.options;\n            var canSelect = options.selectable &&\n                component.isValidDateDownEl(ev.origEvent.target);\n            // don't bother to watch expensive moves if component won't do selection\n            dragging.setIgnoreMove(!canSelect);\n            // if touch, require user to hold down\n            dragging.delay = ev.isTouch ? getComponentTouchDelay$1(component) : null;\n        };\n        _this.handleDragStart = function (ev) {\n            _this.component.context.calendarApi.unselect(ev); // unselect previous selections\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            var context = _this.component.context;\n            var dragSelection = null;\n            var isInvalid = false;\n            if (hit) {\n                var initialHit = _this.hitDragging.initialHit;\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    dragSelection = joinHitsIntoSelection(initialHit, hit, context.pluginHooks.dateSelectionTransformers);\n                }\n                if (!dragSelection || !isDateSelectionValid(dragSelection, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    dragSelection = null;\n                }\n            }\n            if (dragSelection) {\n                context.dispatch({ type: 'SELECT_DATES', selection: dragSelection });\n            }\n            else if (!isFinal) { // only unselect if moved away while dragging\n                context.dispatch({ type: 'UNSELECT_DATES' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                _this.dragSelection = dragSelection; // only clear if moved away from all hits while dragging\n            }\n        };\n        _this.handlePointerUp = function (pev) {\n            if (_this.dragSelection) {\n                // selection is already rendered, so just need to report selection\n                triggerDateSelect(_this.dragSelection, pev, _this.component.context);\n                _this.dragSelection = null;\n            }\n        };\n        var component = settings.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.touchScrollAllowed = false;\n        dragging.minDistance = options.selectMinDistance || 0;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    DateSelecting.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return DateSelecting;\n}(Interaction));\nfunction getComponentTouchDelay$1(component) {\n    var options = component.context.options;\n    var delay = options.selectLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\nfunction joinHitsIntoSelection(hit0, hit1, dateSelectionTransformers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var ms = [\n        dateSpan0.range.start,\n        dateSpan0.range.end,\n        dateSpan1.range.start,\n        dateSpan1.range.end,\n    ];\n    ms.sort(compareNumbers);\n    var props = {};\n    for (var _i = 0, dateSelectionTransformers_1 = dateSelectionTransformers; _i < dateSelectionTransformers_1.length; _i++) {\n        var transformer = dateSelectionTransformers_1[_i];\n        var res = transformer(hit0, hit1);\n        if (res === false) {\n            return null;\n        }\n        if (res) {\n            __assign(props, res);\n        }\n    }\n    props.range = { start: ms[0], end: ms[3] };\n    props.allDay = dateSpan0.allDay;\n    return props;\n}\n\nvar EventDragging = /** @class */ (function (_super) {\n    __extends(EventDragging, _super);\n    function EventDragging(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.subjectEl = null;\n        _this.subjectSeg = null; // the seg being selected/dragged\n        _this.isDragging = false;\n        _this.eventRange = null;\n        _this.relevantEvents = null; // the events being dragged\n        _this.receivingContext = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var origTarget = ev.origEvent.target;\n            var _a = _this, component = _a.component, dragging = _a.dragging;\n            var mirror = dragging.mirror;\n            var options = component.context.options;\n            var initialContext = component.context;\n            _this.subjectEl = ev.subjectEl;\n            var subjectSeg = _this.subjectSeg = getElSeg(ev.subjectEl);\n            var eventRange = _this.eventRange = subjectSeg.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            _this.relevantEvents = getRelevantEvents(initialContext.getCurrentData().eventStore, eventInstanceId);\n            dragging.minDistance = ev.isTouch ? 0 : options.eventDragMinDistance;\n            dragging.delay =\n                // only do a touch delay if touch and this event hasn't been selected yet\n                (ev.isTouch && eventInstanceId !== component.props.eventSelection) ?\n                    getComponentTouchDelay(component) :\n                    null;\n            if (options.fixedMirrorParent) {\n                mirror.parentNode = options.fixedMirrorParent;\n            }\n            else {\n                mirror.parentNode = elementClosest(origTarget, '.fc');\n            }\n            mirror.revertDuration = options.dragRevertDuration;\n            var isValid = component.isValidSegDownEl(origTarget) &&\n                !elementClosest(origTarget, '.fc-event-resizer'); // NOT on a resizer\n            dragging.setIgnoreMove(!isValid);\n            // disable dragging for elements that are resizable (ie, selectable)\n            // but are not draggable\n            _this.isDragging = isValid &&\n                ev.subjectEl.classList.contains('fc-event-draggable');\n        };\n        _this.handleDragStart = function (ev) {\n            var initialContext = _this.component.context;\n            var eventRange = _this.eventRange;\n            var eventInstanceId = eventRange.instance.instanceId;\n            if (ev.isTouch) {\n                // need to select a different event?\n                if (eventInstanceId !== _this.component.props.eventSelection) {\n                    initialContext.dispatch({ type: 'SELECT_EVENT', eventInstanceId: eventInstanceId });\n                }\n            }\n            else {\n                // if now using mouse, but was previous touch interaction, clear selected event\n                initialContext.dispatch({ type: 'UNSELECT_EVENT' });\n            }\n            if (_this.isDragging) {\n                initialContext.calendarApi.unselect(ev); // unselect *date* selection\n                initialContext.emitter.trigger('eventDragStart', {\n                    el: _this.subjectEl,\n                    event: new EventApi(initialContext, eventRange.def, eventRange.instance),\n                    jsEvent: ev.origEvent,\n                    view: initialContext.viewApi,\n                });\n            }\n        };\n        _this.handleHitUpdate = function (hit, isFinal) {\n            if (!_this.isDragging) {\n                return;\n            }\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var initialContext = _this.component.context;\n            // states based on new hit\n            var receivingContext = null;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                var receivingOptions = receivingContext.options;\n                if (initialContext === receivingContext ||\n                    (receivingOptions.editable && receivingOptions.droppable)) {\n                    mutation = computeEventMutation(initialHit, hit, receivingContext.getCurrentData().pluginHooks.eventDragMutationMassagers);\n                    if (mutation) {\n                        mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, receivingContext.getCurrentData().eventUiBases, mutation, receivingContext);\n                        interaction.mutatedEvents = mutatedRelevantEvents;\n                        if (!isInteractionValid(interaction, hit.dateProfile, receivingContext)) {\n                            isInvalid = true;\n                            mutation = null;\n                            mutatedRelevantEvents = null;\n                            interaction.mutatedEvents = createEmptyEventStore();\n                        }\n                    }\n                }\n                else {\n                    receivingContext = null;\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (initialContext === receivingContext && // TODO: write test for this\n                    isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.dragging.setMirrorNeedsRevert(!mutation);\n                // render the mirror if no already-rendered mirror\n                // TODO: wish we could somehow wait for dispatch to guarantee render\n                _this.dragging.setMirrorIsVisible(!hit || !document.querySelector('.fc-event-mirror'));\n                // assign states based on new hit\n                _this.receivingContext = receivingContext;\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handlePointerUp = function () {\n            if (!_this.isDragging) {\n                _this.cleanup(); // because handleDragEnd won't fire\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            if (_this.isDragging) {\n                var initialContext_1 = _this.component.context;\n                var initialView = initialContext_1.viewApi;\n                var _a = _this, receivingContext_1 = _a.receivingContext, validMutation = _a.validMutation;\n                var eventDef = _this.eventRange.def;\n                var eventInstance = _this.eventRange.instance;\n                var eventApi = new EventApi(initialContext_1, eventDef, eventInstance);\n                var relevantEvents_1 = _this.relevantEvents;\n                var mutatedRelevantEvents_1 = _this.mutatedRelevantEvents;\n                var finalHit = _this.hitDragging.finalHit;\n                _this.clearDrag(); // must happen after revert animation\n                initialContext_1.emitter.trigger('eventDragStop', {\n                    el: _this.subjectEl,\n                    event: eventApi,\n                    jsEvent: ev.origEvent,\n                    view: initialView,\n                });\n                if (validMutation) {\n                    // dropped within same calendar\n                    if (receivingContext_1 === initialContext_1) {\n                        var updatedEventApi = new EventApi(initialContext_1, mutatedRelevantEvents_1.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents_1.instances[eventInstance.instanceId] : null);\n                        initialContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventChangeArg = {\n                            oldEvent: eventApi,\n                            event: updatedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1, // the pre-change data\n                                });\n                            },\n                        };\n                        var transformed = {};\n                        for (var _i = 0, _b = initialContext_1.getCurrentData().pluginHooks.eventDropTransformers; _i < _b.length; _i++) {\n                            var transformer = _b[_i];\n                            __assign(transformed, transformer(validMutation, initialContext_1));\n                        }\n                        initialContext_1.emitter.trigger('eventDrop', __assign(__assign(__assign({}, eventChangeArg), transformed), { el: ev.subjectEl, delta: validMutation.datesDelta, jsEvent: ev.origEvent, view: initialView }));\n                        initialContext_1.emitter.trigger('eventChange', eventChangeArg);\n                        // dropped in different calendar\n                    }\n                    else if (receivingContext_1) {\n                        var eventRemoveArg = {\n                            event: eventApi,\n                            relatedEvents: buildEventApis(relevantEvents_1, initialContext_1, eventInstance),\n                            revert: function () {\n                                initialContext_1.dispatch({\n                                    type: 'MERGE_EVENTS',\n                                    eventStore: relevantEvents_1,\n                                });\n                            },\n                        };\n                        initialContext_1.emitter.trigger('eventLeave', __assign(__assign({}, eventRemoveArg), { draggedEl: ev.subjectEl, view: initialView }));\n                        initialContext_1.dispatch({\n                            type: 'REMOVE_EVENTS',\n                            eventStore: relevantEvents_1,\n                        });\n                        initialContext_1.emitter.trigger('eventRemove', eventRemoveArg);\n                        var addedEventDef = mutatedRelevantEvents_1.defs[eventDef.defId];\n                        var addedEventInstance = mutatedRelevantEvents_1.instances[eventInstance.instanceId];\n                        var addedEventApi = new EventApi(receivingContext_1, addedEventDef, addedEventInstance);\n                        receivingContext_1.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: mutatedRelevantEvents_1,\n                        });\n                        var eventAddArg = {\n                            event: addedEventApi,\n                            relatedEvents: buildEventApis(mutatedRelevantEvents_1, receivingContext_1, addedEventInstance),\n                            revert: function () {\n                                receivingContext_1.dispatch({\n                                    type: 'REMOVE_EVENTS',\n                                    eventStore: mutatedRelevantEvents_1,\n                                });\n                            },\n                        };\n                        receivingContext_1.emitter.trigger('eventAdd', eventAddArg);\n                        if (ev.isTouch) {\n                            receivingContext_1.dispatch({\n                                type: 'SELECT_EVENT',\n                                eventInstanceId: eventInstance.instanceId,\n                            });\n                        }\n                        receivingContext_1.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext_1)), { draggedEl: ev.subjectEl, jsEvent: ev.origEvent, view: finalHit.context.viewApi }));\n                        receivingContext_1.emitter.trigger('eventReceive', __assign(__assign({}, eventAddArg), { draggedEl: ev.subjectEl, view: finalHit.context.viewApi }));\n                    }\n                }\n                else {\n                    initialContext_1.emitter.trigger('_noEventDrop');\n                }\n            }\n            _this.cleanup();\n        };\n        var component = _this.component;\n        var options = component.context.options;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = EventDragging.SELECTOR;\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsStore);\n        hitDragging.useSubjectCenter = settings.useEventCenter;\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('pointerup', _this.handlePointerUp);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventDragging.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    // render a drag state on the next receivingCalendar\n    EventDragging.prototype.displayDrag = function (nextContext, state) {\n        var initialContext = this.component.context;\n        var prevContext = this.receivingContext;\n        // does the previous calendar need to be cleared?\n        if (prevContext && prevContext !== nextContext) {\n            // does the initial calendar need to be cleared?\n            // if so, don't clear all the way. we still need to to hide the affectedEvents\n            if (prevContext === initialContext) {\n                prevContext.dispatch({\n                    type: 'SET_EVENT_DRAG',\n                    state: {\n                        affectedEvents: state.affectedEvents,\n                        mutatedEvents: createEmptyEventStore(),\n                        isEvent: true,\n                    },\n                });\n                // completely clear the old calendar if it wasn't the initial\n            }\n            else {\n                prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n            }\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    EventDragging.prototype.clearDrag = function () {\n        var initialCalendar = this.component.context;\n        var receivingContext = this.receivingContext;\n        if (receivingContext) {\n            receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        // the initial calendar might have an dummy drag state from displayDrag\n        if (initialCalendar !== receivingContext) {\n            initialCalendar.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    EventDragging.prototype.cleanup = function () {\n        this.subjectSeg = null;\n        this.isDragging = false;\n        this.eventRange = null;\n        this.relevantEvents = null;\n        this.receivingContext = null;\n        this.validMutation = null;\n        this.mutatedRelevantEvents = null;\n    };\n    // TODO: test this in IE11\n    // QUESTION: why do we need it on the resizable???\n    EventDragging.SELECTOR = '.fc-event-draggable, .fc-event-resizable';\n    return EventDragging;\n}(Interaction));\nfunction computeEventMutation(hit0, hit1, massagers) {\n    var dateSpan0 = hit0.dateSpan;\n    var dateSpan1 = hit1.dateSpan;\n    var date0 = dateSpan0.range.start;\n    var date1 = dateSpan1.range.start;\n    var standardProps = {};\n    if (dateSpan0.allDay !== dateSpan1.allDay) {\n        standardProps.allDay = dateSpan1.allDay;\n        standardProps.hasEnd = hit1.context.options.allDayMaintainDuration;\n        if (dateSpan1.allDay) {\n            // means date1 is already start-of-day,\n            // but date0 needs to be converted\n            date0 = startOfDay(date0);\n        }\n    }\n    var delta = diffDates(date0, date1, hit0.context.dateEnv, hit0.componentId === hit1.componentId ?\n        hit0.largeUnit :\n        null);\n    if (delta.milliseconds) { // has hours/minutes/seconds\n        standardProps.allDay = false;\n    }\n    var mutation = {\n        datesDelta: delta,\n        standardProps: standardProps,\n    };\n    for (var _i = 0, massagers_1 = massagers; _i < massagers_1.length; _i++) {\n        var massager = massagers_1[_i];\n        massager(mutation, hit0, hit1);\n    }\n    return mutation;\n}\nfunction getComponentTouchDelay(component) {\n    var options = component.context.options;\n    var delay = options.eventLongPressDelay;\n    if (delay == null) {\n        delay = options.longPressDelay;\n    }\n    return delay;\n}\n\nvar EventResizing = /** @class */ (function (_super) {\n    __extends(EventResizing, _super);\n    function EventResizing(settings) {\n        var _this = _super.call(this, settings) || this;\n        // internal state\n        _this.draggingSegEl = null;\n        _this.draggingSeg = null; // TODO: rename to resizingSeg? subjectSeg?\n        _this.eventRange = null;\n        _this.relevantEvents = null;\n        _this.validMutation = null;\n        _this.mutatedRelevantEvents = null;\n        _this.handlePointerDown = function (ev) {\n            var component = _this.component;\n            var segEl = _this.querySegEl(ev);\n            var seg = getElSeg(segEl);\n            var eventRange = _this.eventRange = seg.eventRange;\n            _this.dragging.minDistance = component.context.options.eventDragMinDistance;\n            // if touch, need to be working with a selected event\n            _this.dragging.setIgnoreMove(!_this.component.isValidSegDownEl(ev.origEvent.target) ||\n                (ev.isTouch && _this.component.props.eventSelection !== eventRange.instance.instanceId));\n        };\n        _this.handleDragStart = function (ev) {\n            var context = _this.component.context;\n            var eventRange = _this.eventRange;\n            _this.relevantEvents = getRelevantEvents(context.getCurrentData().eventStore, _this.eventRange.instance.instanceId);\n            var segEl = _this.querySegEl(ev);\n            _this.draggingSegEl = segEl;\n            _this.draggingSeg = getElSeg(segEl);\n            context.calendarApi.unselect();\n            context.emitter.trigger('eventResizeStart', {\n                el: segEl,\n                event: new EventApi(context, eventRange.def, eventRange.instance),\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n        };\n        _this.handleHitUpdate = function (hit, isFinal, ev) {\n            var context = _this.component.context;\n            var relevantEvents = _this.relevantEvents;\n            var initialHit = _this.hitDragging.initialHit;\n            var eventInstance = _this.eventRange.instance;\n            var mutation = null;\n            var mutatedRelevantEvents = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: relevantEvents,\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: true,\n            };\n            if (hit) {\n                var disallowed = hit.componentId === initialHit.componentId\n                    && _this.isHitComboAllowed\n                    && !_this.isHitComboAllowed(initialHit, hit);\n                if (!disallowed) {\n                    mutation = computeMutation(initialHit, hit, ev.subjectEl.classList.contains('fc-event-resizer-start'), eventInstance.range);\n                }\n            }\n            if (mutation) {\n                mutatedRelevantEvents = applyMutationToEventStore(relevantEvents, context.getCurrentData().eventUiBases, mutation, context);\n                interaction.mutatedEvents = mutatedRelevantEvents;\n                if (!isInteractionValid(interaction, hit.dateProfile, context)) {\n                    isInvalid = true;\n                    mutation = null;\n                    mutatedRelevantEvents = null;\n                    interaction.mutatedEvents = null;\n                }\n            }\n            if (mutatedRelevantEvents) {\n                context.dispatch({\n                    type: 'SET_EVENT_RESIZE',\n                    state: interaction,\n                });\n            }\n            else {\n                context.dispatch({ type: 'UNSET_EVENT_RESIZE' });\n            }\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                if (mutation && isHitsEqual(initialHit, hit)) {\n                    mutation = null;\n                }\n                _this.validMutation = mutation;\n                _this.mutatedRelevantEvents = mutatedRelevantEvents;\n            }\n        };\n        _this.handleDragEnd = function (ev) {\n            var context = _this.component.context;\n            var eventDef = _this.eventRange.def;\n            var eventInstance = _this.eventRange.instance;\n            var eventApi = new EventApi(context, eventDef, eventInstance);\n            var relevantEvents = _this.relevantEvents;\n            var mutatedRelevantEvents = _this.mutatedRelevantEvents;\n            context.emitter.trigger('eventResizeStop', {\n                el: _this.draggingSegEl,\n                event: eventApi,\n                jsEvent: ev.origEvent,\n                view: context.viewApi,\n            });\n            if (_this.validMutation) {\n                var updatedEventApi = new EventApi(context, mutatedRelevantEvents.defs[eventDef.defId], eventInstance ? mutatedRelevantEvents.instances[eventInstance.instanceId] : null);\n                context.dispatch({\n                    type: 'MERGE_EVENTS',\n                    eventStore: mutatedRelevantEvents,\n                });\n                var eventChangeArg = {\n                    oldEvent: eventApi,\n                    event: updatedEventApi,\n                    relatedEvents: buildEventApis(mutatedRelevantEvents, context, eventInstance),\n                    revert: function () {\n                        context.dispatch({\n                            type: 'MERGE_EVENTS',\n                            eventStore: relevantEvents, // the pre-change events\n                        });\n                    },\n                };\n                context.emitter.trigger('eventResize', __assign(__assign({}, eventChangeArg), { el: _this.draggingSegEl, startDelta: _this.validMutation.startDelta || createDuration(0), endDelta: _this.validMutation.endDelta || createDuration(0), jsEvent: ev.origEvent, view: context.viewApi }));\n                context.emitter.trigger('eventChange', eventChangeArg);\n            }\n            else {\n                context.emitter.trigger('_noEventResize');\n            }\n            // reset all internal state\n            _this.draggingSeg = null;\n            _this.relevantEvents = null;\n            _this.validMutation = null;\n            // okay to keep eventInstance around. useful to set it in handlePointerDown\n        };\n        var component = settings.component;\n        var dragging = _this.dragging = new FeaturefulElementDragging(settings.el);\n        dragging.pointer.selector = '.fc-event-resizer';\n        dragging.touchScrollAllowed = false;\n        dragging.autoScroller.isEnabled = component.context.options.dragScroll;\n        var hitDragging = _this.hitDragging = new HitDragging(_this.dragging, interactionSettingsToStore(settings));\n        hitDragging.emitter.on('pointerdown', _this.handlePointerDown);\n        hitDragging.emitter.on('dragstart', _this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', _this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', _this.handleDragEnd);\n        return _this;\n    }\n    EventResizing.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    EventResizing.prototype.querySegEl = function (ev) {\n        return elementClosest(ev.subjectEl, '.fc-event');\n    };\n    return EventResizing;\n}(Interaction));\nfunction computeMutation(hit0, hit1, isFromStart, instanceRange) {\n    var dateEnv = hit0.context.dateEnv;\n    var date0 = hit0.dateSpan.range.start;\n    var date1 = hit1.dateSpan.range.start;\n    var delta = diffDates(date0, date1, dateEnv, hit0.largeUnit);\n    if (isFromStart) {\n        if (dateEnv.add(instanceRange.start, delta) < instanceRange.end) {\n            return { startDelta: delta };\n        }\n    }\n    else if (dateEnv.add(instanceRange.end, delta) > instanceRange.start) {\n        return { endDelta: delta };\n    }\n    return null;\n}\n\nvar UnselectAuto = /** @class */ (function () {\n    function UnselectAuto(context) {\n        var _this = this;\n        this.context = context;\n        this.isRecentPointerDateSelect = false; // wish we could use a selector to detect date selection, but uses hit system\n        this.matchesCancel = false;\n        this.matchesEvent = false;\n        this.onSelect = function (selectInfo) {\n            if (selectInfo.jsEvent) {\n                _this.isRecentPointerDateSelect = true;\n            }\n        };\n        this.onDocumentPointerDown = function (pev) {\n            var unselectCancel = _this.context.options.unselectCancel;\n            var downEl = pev.origEvent.target;\n            _this.matchesCancel = !!elementClosest(downEl, unselectCancel);\n            _this.matchesEvent = !!elementClosest(downEl, EventDragging.SELECTOR); // interaction started on an event?\n        };\n        this.onDocumentPointerUp = function (pev) {\n            var context = _this.context;\n            var documentPointer = _this.documentPointer;\n            var calendarState = context.getCurrentData();\n            // touch-scrolling should never unfocus any type of selection\n            if (!documentPointer.wasTouchScroll) {\n                if (calendarState.dateSelection && // an existing date selection?\n                    !_this.isRecentPointerDateSelect // a new pointer-initiated date selection since last onDocumentPointerUp?\n                ) {\n                    var unselectAuto = context.options.unselectAuto;\n                    if (unselectAuto && (!unselectAuto || !_this.matchesCancel)) {\n                        context.calendarApi.unselect(pev);\n                    }\n                }\n                if (calendarState.eventSelection && // an existing event selected?\n                    !_this.matchesEvent // interaction DIDN'T start on an event\n                ) {\n                    context.dispatch({ type: 'UNSELECT_EVENT' });\n                }\n            }\n            _this.isRecentPointerDateSelect = false;\n        };\n        var documentPointer = this.documentPointer = new PointerDragging(document);\n        documentPointer.shouldIgnoreMove = true;\n        documentPointer.shouldWatchScroll = false;\n        documentPointer.emitter.on('pointerdown', this.onDocumentPointerDown);\n        documentPointer.emitter.on('pointerup', this.onDocumentPointerUp);\n        /*\n        TODO: better way to know about whether there was a selection with the pointer\n        */\n        context.emitter.on('select', this.onSelect);\n    }\n    UnselectAuto.prototype.destroy = function () {\n        this.context.emitter.off('select', this.onSelect);\n        this.documentPointer.destroy();\n    };\n    return UnselectAuto;\n}());\n\nvar OPTION_REFINERS = {\n    fixedMirrorParent: identity,\n};\nvar LISTENER_REFINERS = {\n    dateClick: identity,\n    eventDragStart: identity,\n    eventDragStop: identity,\n    eventDrop: identity,\n    eventResizeStart: identity,\n    eventResizeStop: identity,\n    eventResize: identity,\n    drop: identity,\n    eventReceive: identity,\n    eventLeave: identity,\n};\n\n/*\nGiven an already instantiated draggable object for one-or-more elements,\nInterprets any dragging as an attempt to drag an events that lives outside\nof a calendar onto a calendar.\n*/\nvar ExternalElementDragging = /** @class */ (function () {\n    function ExternalElementDragging(dragging, suppliedDragMeta) {\n        var _this = this;\n        this.receivingContext = null;\n        this.droppableEvent = null; // will exist for all drags, even if create:false\n        this.suppliedDragMeta = null;\n        this.dragMeta = null;\n        this.handleDragStart = function (ev) {\n            _this.dragMeta = _this.buildDragMeta(ev.subjectEl);\n        };\n        this.handleHitUpdate = function (hit, isFinal, ev) {\n            var dragging = _this.hitDragging.dragging;\n            var receivingContext = null;\n            var droppableEvent = null;\n            var isInvalid = false;\n            var interaction = {\n                affectedEvents: createEmptyEventStore(),\n                mutatedEvents: createEmptyEventStore(),\n                isEvent: _this.dragMeta.create,\n            };\n            if (hit) {\n                receivingContext = hit.context;\n                if (_this.canDropElOnCalendar(ev.subjectEl, receivingContext)) {\n                    droppableEvent = computeEventForDateSpan(hit.dateSpan, _this.dragMeta, receivingContext);\n                    interaction.mutatedEvents = eventTupleToStore(droppableEvent);\n                    isInvalid = !isInteractionValid(interaction, hit.dateProfile, receivingContext);\n                    if (isInvalid) {\n                        interaction.mutatedEvents = createEmptyEventStore();\n                        droppableEvent = null;\n                    }\n                }\n            }\n            _this.displayDrag(receivingContext, interaction);\n            // show mirror if no already-rendered mirror element OR if we are shutting down the mirror (?)\n            // TODO: wish we could somehow wait for dispatch to guarantee render\n            dragging.setMirrorIsVisible(isFinal || !droppableEvent || !document.querySelector('.fc-event-mirror'));\n            if (!isInvalid) {\n                enableCursor();\n            }\n            else {\n                disableCursor();\n            }\n            if (!isFinal) {\n                dragging.setMirrorNeedsRevert(!droppableEvent);\n                _this.receivingContext = receivingContext;\n                _this.droppableEvent = droppableEvent;\n            }\n        };\n        this.handleDragEnd = function (pev) {\n            var _a = _this, receivingContext = _a.receivingContext, droppableEvent = _a.droppableEvent;\n            _this.clearDrag();\n            if (receivingContext && droppableEvent) {\n                var finalHit = _this.hitDragging.finalHit;\n                var finalView = finalHit.context.viewApi;\n                var dragMeta = _this.dragMeta;\n                receivingContext.emitter.trigger('drop', __assign(__assign({}, buildDatePointApiWithContext(finalHit.dateSpan, receivingContext)), { draggedEl: pev.subjectEl, jsEvent: pev.origEvent, view: finalView }));\n                if (dragMeta.create) {\n                    var addingEvents_1 = eventTupleToStore(droppableEvent);\n                    receivingContext.dispatch({\n                        type: 'MERGE_EVENTS',\n                        eventStore: addingEvents_1,\n                    });\n                    if (pev.isTouch) {\n                        receivingContext.dispatch({\n                            type: 'SELECT_EVENT',\n                            eventInstanceId: droppableEvent.instance.instanceId,\n                        });\n                    }\n                    // signal that an external event landed\n                    receivingContext.emitter.trigger('eventReceive', {\n                        event: new EventApi(receivingContext, droppableEvent.def, droppableEvent.instance),\n                        relatedEvents: [],\n                        revert: function () {\n                            receivingContext.dispatch({\n                                type: 'REMOVE_EVENTS',\n                                eventStore: addingEvents_1,\n                            });\n                        },\n                        draggedEl: pev.subjectEl,\n                        view: finalView,\n                    });\n                }\n            }\n            _this.receivingContext = null;\n            _this.droppableEvent = null;\n        };\n        var hitDragging = this.hitDragging = new HitDragging(dragging, interactionSettingsStore);\n        hitDragging.requireInitial = false; // will start outside of a component\n        hitDragging.emitter.on('dragstart', this.handleDragStart);\n        hitDragging.emitter.on('hitupdate', this.handleHitUpdate);\n        hitDragging.emitter.on('dragend', this.handleDragEnd);\n        this.suppliedDragMeta = suppliedDragMeta;\n    }\n    ExternalElementDragging.prototype.buildDragMeta = function (subjectEl) {\n        if (typeof this.suppliedDragMeta === 'object') {\n            return parseDragMeta(this.suppliedDragMeta);\n        }\n        if (typeof this.suppliedDragMeta === 'function') {\n            return parseDragMeta(this.suppliedDragMeta(subjectEl));\n        }\n        return getDragMetaFromEl(subjectEl);\n    };\n    ExternalElementDragging.prototype.displayDrag = function (nextContext, state) {\n        var prevContext = this.receivingContext;\n        if (prevContext && prevContext !== nextContext) {\n            prevContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n        if (nextContext) {\n            nextContext.dispatch({ type: 'SET_EVENT_DRAG', state: state });\n        }\n    };\n    ExternalElementDragging.prototype.clearDrag = function () {\n        if (this.receivingContext) {\n            this.receivingContext.dispatch({ type: 'UNSET_EVENT_DRAG' });\n        }\n    };\n    ExternalElementDragging.prototype.canDropElOnCalendar = function (el, receivingContext) {\n        var dropAccept = receivingContext.options.dropAccept;\n        if (typeof dropAccept === 'function') {\n            return dropAccept.call(receivingContext.calendarApi, el);\n        }\n        if (typeof dropAccept === 'string' && dropAccept) {\n            return Boolean(elementMatches(el, dropAccept));\n        }\n        return true;\n    };\n    return ExternalElementDragging;\n}());\n// Utils for computing event store from the DragMeta\n// ----------------------------------------------------------------------------------------------------\nfunction computeEventForDateSpan(dateSpan, dragMeta, context) {\n    var defProps = __assign({}, dragMeta.leftoverProps);\n    for (var _i = 0, _a = context.pluginHooks.externalDefTransforms; _i < _a.length; _i++) {\n        var transform = _a[_i];\n        __assign(defProps, transform(dateSpan, dragMeta));\n    }\n    var _b = refineEventDef(defProps, context), refined = _b.refined, extra = _b.extra;\n    var def = parseEventDef(refined, extra, dragMeta.sourceId, dateSpan.allDay, context.options.forceEventDuration || Boolean(dragMeta.duration), // hasEnd\n    context);\n    var start = dateSpan.range.start;\n    // only rely on time info if drop zone is all-day,\n    // otherwise, we already know the time\n    if (dateSpan.allDay && dragMeta.startTime) {\n        start = context.dateEnv.add(start, dragMeta.startTime);\n    }\n    var end = dragMeta.duration ?\n        context.dateEnv.add(start, dragMeta.duration) :\n        getDefaultEventEnd(dateSpan.allDay, start, context);\n    var instance = createEventInstance(def.defId, { start: start, end: end });\n    return { def: def, instance: instance };\n}\n// Utils for extracting data from element\n// ----------------------------------------------------------------------------------------------------\nfunction getDragMetaFromEl(el) {\n    var str = getEmbeddedElData(el, 'event');\n    var obj = str ?\n        JSON.parse(str) :\n        { create: false }; // if no embedded data, assume no event creation\n    return parseDragMeta(obj);\n}\nconfig.dataAttrPrefix = '';\nfunction getEmbeddedElData(el, name) {\n    var prefix = config.dataAttrPrefix;\n    var prefixedName = (prefix ? prefix + '-' : '') + name;\n    return el.getAttribute('data-' + prefixedName) || '';\n}\n\n/*\nMakes an element (that is *external* to any calendar) draggable.\nCan pass in data that determines how an event will be created when dropped onto a calendar.\nLeverages FullCalendar's internal drag-n-drop functionality WITHOUT a third-party drag system.\n*/\nvar ExternalDraggable = /** @class */ (function () {\n    function ExternalDraggable(el, settings) {\n        var _this = this;\n        if (settings === void 0) { settings = {}; }\n        this.handlePointerDown = function (ev) {\n            var dragging = _this.dragging;\n            var _a = _this.settings, minDistance = _a.minDistance, longPressDelay = _a.longPressDelay;\n            dragging.minDistance =\n                minDistance != null ?\n                    minDistance :\n                    (ev.isTouch ? 0 : BASE_OPTION_DEFAULTS.eventDragMinDistance);\n            dragging.delay =\n                ev.isTouch ? // TODO: eventually read eventLongPressDelay instead vvv\n                    (longPressDelay != null ? longPressDelay : BASE_OPTION_DEFAULTS.longPressDelay) :\n                    0;\n        };\n        this.handleDragStart = function (ev) {\n            if (ev.isTouch &&\n                _this.dragging.delay &&\n                ev.subjectEl.classList.contains('fc-event')) {\n                _this.dragging.mirror.getMirrorEl().classList.add('fc-event-selected');\n            }\n        };\n        this.settings = settings;\n        var dragging = this.dragging = new FeaturefulElementDragging(el);\n        dragging.touchScrollAllowed = false;\n        if (settings.itemSelector != null) {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        if (settings.appendTo != null) {\n            dragging.mirror.parentNode = settings.appendTo; // TODO: write tests\n        }\n        dragging.emitter.on('pointerdown', this.handlePointerDown);\n        dragging.emitter.on('dragstart', this.handleDragStart);\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ExternalDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ExternalDraggable;\n}());\n\n/*\nDetects when a *THIRD-PARTY* drag-n-drop system interacts with elements.\nThe third-party system is responsible for drawing the visuals effects of the drag.\nThis class simply monitors for pointer movements and fires events.\nIt also has the ability to hide the moving element (the \"mirror\") during the drag.\n*/\nvar InferredElementDragging = /** @class */ (function (_super) {\n    __extends(InferredElementDragging, _super);\n    function InferredElementDragging(containerEl) {\n        var _this = _super.call(this, containerEl) || this;\n        _this.shouldIgnoreMove = false;\n        _this.mirrorSelector = '';\n        _this.currentMirrorEl = null;\n        _this.handlePointerDown = function (ev) {\n            _this.emitter.trigger('pointerdown', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragstart right away. does not support delay or min-distance\n                _this.emitter.trigger('dragstart', ev);\n            }\n        };\n        _this.handlePointerMove = function (ev) {\n            if (!_this.shouldIgnoreMove) {\n                _this.emitter.trigger('dragmove', ev);\n            }\n        };\n        _this.handlePointerUp = function (ev) {\n            _this.emitter.trigger('pointerup', ev);\n            if (!_this.shouldIgnoreMove) {\n                // fire dragend right away. does not support a revert animation\n                _this.emitter.trigger('dragend', ev);\n            }\n        };\n        var pointer = _this.pointer = new PointerDragging(containerEl);\n        pointer.emitter.on('pointerdown', _this.handlePointerDown);\n        pointer.emitter.on('pointermove', _this.handlePointerMove);\n        pointer.emitter.on('pointerup', _this.handlePointerUp);\n        return _this;\n    }\n    InferredElementDragging.prototype.destroy = function () {\n        this.pointer.destroy();\n    };\n    InferredElementDragging.prototype.setIgnoreMove = function (bool) {\n        this.shouldIgnoreMove = bool;\n    };\n    InferredElementDragging.prototype.setMirrorIsVisible = function (bool) {\n        if (bool) {\n            // restore a previously hidden element.\n            // use the reference in case the selector class has already been removed.\n            if (this.currentMirrorEl) {\n                this.currentMirrorEl.style.visibility = '';\n                this.currentMirrorEl = null;\n            }\n        }\n        else {\n            var mirrorEl = this.mirrorSelector ?\n                document.querySelector(this.mirrorSelector) :\n                null;\n            if (mirrorEl) {\n                this.currentMirrorEl = mirrorEl;\n                mirrorEl.style.visibility = 'hidden';\n            }\n        }\n    };\n    return InferredElementDragging;\n}(ElementDragging));\n\n/*\nBridges third-party drag-n-drop systems with FullCalendar.\nMust be instantiated and destroyed by caller.\n*/\nvar ThirdPartyDraggable = /** @class */ (function () {\n    function ThirdPartyDraggable(containerOrSettings, settings) {\n        var containerEl = document;\n        if (\n        // wish we could just test instanceof EventTarget, but doesn't work in IE11\n        containerOrSettings === document ||\n            containerOrSettings instanceof Element) {\n            containerEl = containerOrSettings;\n            settings = settings || {};\n        }\n        else {\n            settings = (containerOrSettings || {});\n        }\n        var dragging = this.dragging = new InferredElementDragging(containerEl);\n        if (typeof settings.itemSelector === 'string') {\n            dragging.pointer.selector = settings.itemSelector;\n        }\n        else if (containerEl === document) {\n            dragging.pointer.selector = '[data-event]';\n        }\n        if (typeof settings.mirrorSelector === 'string') {\n            dragging.mirrorSelector = settings.mirrorSelector;\n        }\n        new ExternalElementDragging(dragging, settings.eventData); // eslint-disable-line no-new\n    }\n    ThirdPartyDraggable.prototype.destroy = function () {\n        this.dragging.destroy();\n    };\n    return ThirdPartyDraggable;\n}());\n\nvar main = createPlugin({\n    componentInteractions: [DateClicking, DateSelecting, EventDragging, EventResizing],\n    calendarInteractions: [UnselectAuto],\n    elementDraggingImpl: FeaturefulElementDragging,\n    optionRefiners: OPTION_REFINERS,\n    listenerRefiners: LISTENER_REFINERS,\n});\n\nexport default main;\nexport { ExternalDraggable as Draggable, FeaturefulElementDragging, PointerDragging, ThirdPartyDraggable };\n","/*!\nFullCalendar v5.8.0\nDocs & License: https://fullcalendar.io/\n(c) 2021 Adam Shaw\n*/\nimport './main.css';\n\nimport { hasBgRendering, Splitter, createFormatter, createElement, ViewContextType, RenderHook, BaseComponent, createRef, diffDays, buildNavLinkData, WeekNumberRoot, getStickyHeaderDates, ViewRoot, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorRoot, renderScrollShim, DateComponent, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkRoot, setRef, SegHierarchy, groupIntersectingEntries, buildEntryKey, binarySearch, getEntrySpanEnd, StandardEvent, DayCellContent, Fragment, getSegMeta, memoize, sortEventSegs, DayCellRoot, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, intersectRanges, Slicer, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel, createPlugin } from '@fullcalendar/common';\nimport { __extends, __assign } from 'tslib';\nimport { DayTable } from '@fullcalendar/daygrid';\n\nvar AllDaySplitter = /** @class */ (function (_super) {\n    __extends(AllDaySplitter, _super);\n    function AllDaySplitter() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    AllDaySplitter.prototype.getKeyInfo = function () {\n        return {\n            allDay: {},\n            timed: {},\n        };\n    };\n    AllDaySplitter.prototype.getKeysForDateSpan = function (dateSpan) {\n        if (dateSpan.allDay) {\n            return ['allDay'];\n        }\n        return ['timed'];\n    };\n    AllDaySplitter.prototype.getKeysForEventDef = function (eventDef) {\n        if (!eventDef.allDay) {\n            return ['timed'];\n        }\n        if (hasBgRendering(eventDef)) {\n            return ['timed', 'allDay'];\n        }\n        return ['allDay'];\n    };\n    return AllDaySplitter;\n}(Splitter));\n\nvar DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    omitZeroMinute: true,\n    meridiem: 'short',\n});\nfunction TimeColsAxisCell(props) {\n    var classNames = [\n        'fc-timegrid-slot',\n        'fc-timegrid-slot-label',\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\n    ];\n    return (createElement(ViewContextType.Consumer, null, function (context) {\n        if (!props.isLabeled) {\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\n        }\n        var dateEnv = context.dateEnv, options = context.options, viewApi = context.viewApi;\n        var labelFormat = // TODO: fully pre-parse\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\n                createFormatter(options.slotLabelFormat);\n        var hookProps = {\n            level: 0,\n            time: props.time,\n            date: dateEnv.toDate(props.date),\n            view: viewApi,\n            text: dateEnv.format(props.date, labelFormat),\n        };\n        return (createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLabelClassNames, content: options.slotLabelContent, defaultContent: renderInnerContent, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": props.isoTimeStr },\n            createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-slot-label-cushion fc-scrollgrid-shrink-cushion\", ref: innerElRef }, innerContent)))); }));\n    }));\n}\nfunction renderInnerContent(props) {\n    return props.text;\n}\n\nvar TimeBodyAxis = /** @class */ (function (_super) {\n    __extends(TimeBodyAxis, _super);\n    function TimeBodyAxis() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeBodyAxis.prototype.render = function () {\n        return this.props.slatMetas.map(function (slatMeta) { return (createElement(\"tr\", { key: slatMeta.key },\n            createElement(TimeColsAxisCell, __assign({}, slatMeta)))); });\n    };\n    return TimeBodyAxis;\n}(BaseComponent));\n\nvar DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\nvar AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\nvar TimeColsView = /** @class */ (function (_super) {\n    __extends(TimeColsView, _super);\n    function TimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\n        _this.headerElRef = createRef();\n        _this.rootElRef = createRef();\n        _this.scrollerElRef = createRef();\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleScrollTopRequest = function (scrollTop) {\n            var scrollerEl = _this.scrollerElRef.current;\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\n                scrollerEl.scrollTop = scrollTop;\n            }\n        };\n        /* Header Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        _this.renderHeadAxis = function (rowKey, frameHeight) {\n            if (frameHeight === void 0) { frameHeight = ''; }\n            var options = _this.context.options;\n            var dateProfile = _this.props.dateProfile;\n            var range = dateProfile.renderRange;\n            var dayCnt = diffDays(range.start, range.end);\n            var navLinkAttrs = (options.navLinks && dayCnt === 1) // only do in day views (to avoid doing in week views that dont need it)\n                ? { 'data-navlink': buildNavLinkData(range.start, 'week'), tabIndex: 0 }\n                : {};\n            if (options.weekNumbers && rowKey === 'day') {\n                return (createElement(WeekNumberRoot, { date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"th\", { ref: rootElRef, className: [\n                        'fc-timegrid-axis',\n                        'fc-scrollgrid-shrink',\n                    ].concat(classNames).join(' ') },\n                    createElement(\"div\", { className: \"fc-timegrid-axis-frame fc-scrollgrid-shrink-frame fc-timegrid-axis-frame-liquid\", style: { height: frameHeight } },\n                        createElement(\"a\", __assign({ ref: innerElRef, className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\" }, navLinkAttrs), innerContent)))); }));\n            }\n            return (createElement(\"th\", { className: \"fc-timegrid-axis\" },\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\n        };\n        /* Table Component Render Methods\n        ------------------------------------------------------------------------------------------------------------------*/\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\n        _this.renderTableRowAxis = function (rowHeight) {\n            var _a = _this.context, options = _a.options, viewApi = _a.viewApi;\n            var hookProps = {\n                text: options.allDayText,\n                view: viewApi,\n            };\n            return (\n            // TODO: make reusable hook. used in list view too\n            createElement(RenderHook, { hookProps: hookProps, classNames: options.allDayClassNames, content: options.allDayContent, defaultContent: renderAllDayInner, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: [\n                    'fc-timegrid-axis',\n                    'fc-scrollgrid-shrink',\n                ].concat(classNames).join(' ') },\n                createElement(\"div\", { className: 'fc-timegrid-axis-frame fc-scrollgrid-shrink-frame' + (rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : ''), style: { height: rowHeight } },\n                    createElement(\"span\", { className: \"fc-timegrid-axis-cushion fc-scrollgrid-shrink-cushion fc-scrollgrid-sync-inner\", ref: innerElRef }, innerContent)))); }));\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n        };\n        return _this;\n    }\n    // rendering\n    // ----------------------------------------------------------------------------------------------------\n    TimeColsView.prototype.renderSimpleLayout = function (headerRowContent, allDayContent, timeContent) {\n        var _a = this, context = _a.context, props = _a.props;\n        var sections = [];\n        var stickyHeaderDates = getStickyHeaderDates(context.options);\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                chunk: {\n                    elRef: this.headerElRef,\n                    tableClassName: 'fc-col-header',\n                    rowContent: headerRowContent,\n                },\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                chunk: { content: allDayContent },\n            });\n            sections.push({\n                type: 'body',\n                key: 'all-day-divider',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunk: {\n                scrollerElRef: this.scrollerElRef,\n                content: timeContent,\n            },\n        });\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections }))); }));\n    };\n    TimeColsView.prototype.renderHScrollLayout = function (headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\n        var _this = this;\n        var ScrollGrid = this.context.pluginHooks.scrollGridImpl;\n        if (!ScrollGrid) {\n            throw new Error('No ScrollGrid implementation');\n        }\n        var _a = this, context = _a.context, props = _a.props;\n        var stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\n        var stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\n        var sections = [];\n        if (headerRowContent) {\n            sections.push({\n                type: 'header',\n                key: 'header',\n                isSticky: stickyHeaderDates,\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (arg) { return (createElement(\"tr\", null, _this.renderHeadAxis('day', arg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        elRef: this.headerElRef,\n                        tableClassName: 'fc-col-header',\n                        rowContent: headerRowContent,\n                    },\n                ],\n            });\n        }\n        if (allDayContent) {\n            sections.push({\n                type: 'body',\n                key: 'all-day',\n                syncRowHeights: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        rowContent: function (contentArg) { return (createElement(\"tr\", null, _this.renderTableRowAxis(contentArg.rowSyncHeights[0]))); },\n                    },\n                    {\n                        key: 'cols',\n                        content: allDayContent,\n                    },\n                ],\n            });\n            sections.push({\n                key: 'all-day-divider',\n                type: 'body',\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\n                createElement(\"tr\", { className: \"fc-scrollgrid-section\" },\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\n            });\n        }\n        var isNowIndicator = context.options.nowIndicator;\n        sections.push({\n            type: 'body',\n            key: 'body',\n            liquid: true,\n            expandRows: Boolean(context.options.expandRows),\n            chunks: [\n                {\n                    key: 'axis',\n                    content: function (arg) { return (\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\n                        createElement(\"table\", { style: { height: arg.expandRows ? arg.clientHeight : '' } },\n                            arg.tableColGroupNode,\n                            createElement(\"tbody\", null,\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, function (nowDate) {\n                                var nowIndicatorTop = isNowIndicator &&\n                                    slatCoords &&\n                                    slatCoords.safeComputeTop(nowDate); // might return void\n                                if (typeof nowIndicatorTop === 'number') {\n                                    return (createElement(NowIndicatorRoot, { isAxis: true, date: nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); }));\n                                }\n                                return null;\n                            })))); },\n                },\n                {\n                    key: 'cols',\n                    scrollerElRef: this.scrollerElRef,\n                    content: timeContent,\n                },\n            ],\n        });\n        if (stickyFooterScrollbar) {\n            sections.push({\n                key: 'footer',\n                type: 'footer',\n                isSticky: true,\n                chunks: [\n                    {\n                        key: 'axis',\n                        content: renderScrollShim,\n                    },\n                    {\n                        key: 'cols',\n                        content: renderScrollShim,\n                    },\n                ],\n            });\n        }\n        return (createElement(ViewRoot, { viewSpec: context.viewSpec, elRef: this.rootElRef }, function (rootElRef, classNames) { return (createElement(\"div\", { className: ['fc-timegrid'].concat(classNames).join(' '), ref: rootElRef },\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\n                ], sections: sections }))); }));\n    };\n    /* Dimensions\n    ------------------------------------------------------------------------------------------------------------------*/\n    TimeColsView.prototype.getAllDayMaxEventProps = function () {\n        var _a = this.context.options, dayMaxEvents = _a.dayMaxEvents, dayMaxEventRows = _a.dayMaxEventRows;\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\n            dayMaxEvents = undefined;\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\n        }\n        return { dayMaxEvents: dayMaxEvents, dayMaxEventRows: dayMaxEventRows };\n    };\n    return TimeColsView;\n}(DateComponent));\nfunction renderAllDayInner(hookProps) {\n    return hookProps.text;\n}\n\nvar TimeColsSlatsCoords = /** @class */ (function () {\n    function TimeColsSlatsCoords(positions, dateProfile, slotDuration) {\n        this.positions = positions;\n        this.dateProfile = dateProfile;\n        this.slotDuration = slotDuration;\n    }\n    TimeColsSlatsCoords.prototype.safeComputeTop = function (date) {\n        var dateProfile = this.dateProfile;\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\n            var startOfDayDate = startOfDay(date);\n            var timeMs = date.valueOf() - startOfDayDate.valueOf();\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\n                return this.computeTimeTop(createDuration(timeMs));\n            }\n        }\n        return null;\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\n    TimeColsSlatsCoords.prototype.computeDateTop = function (when, startOfDayDate) {\n        if (!startOfDayDate) {\n            startOfDayDate = startOfDay(when);\n        }\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\n    };\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\n    // Eventually allow computation with arbirary slat dates.\n    TimeColsSlatsCoords.prototype.computeTimeTop = function (duration) {\n        var _a = this, positions = _a.positions, dateProfile = _a.dateProfile;\n        var len = positions.els.length;\n        // floating-point value of # of slots covered\n        var slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\n        var slatIndex;\n        var slatRemainder;\n        // compute a floating-point number for how many slats should be progressed through.\n        // from 0 to number of slats (inclusive)\n        // constrained because slotMinTime/slotMaxTime might be customized.\n        slatCoverage = Math.max(0, slatCoverage);\n        slatCoverage = Math.min(len, slatCoverage);\n        // an integer index of the furthest whole slat\n        // from 0 to number slats (*exclusive*, so len-1)\n        slatIndex = Math.floor(slatCoverage);\n        slatIndex = Math.min(slatIndex, len - 1);\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\n        // could be 1.0 if slatCoverage is covering *all* the slots\n        slatRemainder = slatCoverage - slatIndex;\n        return positions.tops[slatIndex] +\n            positions.getHeight(slatIndex) * slatRemainder;\n    };\n    return TimeColsSlatsCoords;\n}());\n\nvar TimeColsSlatsBody = /** @class */ (function (_super) {\n    __extends(TimeColsSlatsBody, _super);\n    function TimeColsSlatsBody() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColsSlatsBody.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        var options = context.options;\n        var slatElRefs = props.slatElRefs;\n        return (createElement(\"tbody\", null, props.slatMetas.map(function (slatMeta, i) {\n            var hookProps = {\n                time: slatMeta.time,\n                date: context.dateEnv.toDate(slatMeta.date),\n                view: context.viewApi,\n            };\n            var classNames = [\n                'fc-timegrid-slot',\n                'fc-timegrid-slot-lane',\n                slatMeta.isLabeled ? '' : 'fc-timegrid-slot-minor',\n            ];\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\n                props.axis && (createElement(TimeColsAxisCell, __assign({}, slatMeta))),\n                createElement(RenderHook, { hookProps: hookProps, classNames: options.slotLaneClassNames, content: options.slotLaneContent, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount }, function (rootElRef, customClassNames, innerElRef, innerContent) { return (createElement(\"td\", { ref: rootElRef, className: classNames.concat(customClassNames).join(' '), \"data-time\": slatMeta.isoTimeStr }, innerContent)); })));\n        })));\n    };\n    return TimeColsSlatsBody;\n}(BaseComponent));\n\n/*\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\n*/\nvar TimeColsSlats = /** @class */ (function (_super) {\n    __extends(TimeColsSlats, _super);\n    function TimeColsSlats() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        _this.slatElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsSlats.prototype.render = function () {\n        var _a = this, props = _a.props, context = _a.context;\n        return (createElement(\"div\", { className: \"fc-timegrid-slots\", ref: this.rootElRef },\n            createElement(\"table\", { className: context.theme.getClass('table'), style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                    height: props.minHeight,\n                } },\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\n    };\n    TimeColsSlats.prototype.componentDidMount = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentDidUpdate = function () {\n        this.updateSizing();\n    };\n    TimeColsSlats.prototype.componentWillUnmount = function () {\n        if (this.props.onCoords) {\n            this.props.onCoords(null);\n        }\n    };\n    TimeColsSlats.prototype.updateSizing = function () {\n        var _a = this, context = _a.context, props = _a.props;\n        if (props.onCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            var rootEl = this.rootElRef.current;\n            if (rootEl.offsetHeight) { // not hidden by css\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\n            }\n        }\n    };\n    return TimeColsSlats;\n}(BaseComponent));\nfunction collectSlatEls(elMap, slatMetas) {\n    return slatMetas.map(function (slatMeta) { return elMap[slatMeta.key]; });\n}\n\nfunction splitSegsByCol(segs, colCnt) {\n    var segsByCol = [];\n    var i;\n    for (i = 0; i < colCnt; i += 1) {\n        segsByCol.push([]);\n    }\n    if (segs) {\n        for (i = 0; i < segs.length; i += 1) {\n            segsByCol[segs[i].col].push(segs[i]);\n        }\n    }\n    return segsByCol;\n}\nfunction splitInteractionByCol(ui, colCnt) {\n    var byRow = [];\n    if (!ui) {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = null;\n        }\n    }\n    else {\n        for (var i = 0; i < colCnt; i += 1) {\n            byRow[i] = {\n                affectedInstances: ui.affectedInstances,\n                isEvent: ui.isEvent,\n                segs: [],\n            };\n        }\n        for (var _i = 0, _a = ui.segs; _i < _a.length; _i++) {\n            var seg = _a[_i];\n            byRow[seg.col].segs.push(seg);\n        }\n    }\n    return byRow;\n}\n\nvar TimeColMoreLink = /** @class */ (function (_super) {\n    __extends(TimeColMoreLink, _super);\n    function TimeColMoreLink() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.rootElRef = createRef();\n        return _this;\n    }\n    TimeColMoreLink.prototype.render = function () {\n        var _this = this;\n        var props = this.props;\n        return (createElement(MoreLinkRoot, { allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, alignmentElRef: this.rootElRef, defaultContent: renderMoreLinkInner, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: function () { return renderPlainFgSegs(props.hiddenSegs, props); } }, function (rootElRef, classNames, innerElRef, innerContent, handleClick) { return (createElement(\"a\", { ref: function (el) {\n                setRef(rootElRef, el);\n                setRef(_this.rootElRef, el);\n            }, className: ['fc-timegrid-more-link'].concat(classNames).join(' '), style: { top: props.top, bottom: props.bottom }, onClick: handleClick },\n            createElement(\"div\", { ref: innerElRef, className: \"fc-timegrid-more-link-inner fc-sticky\" }, innerContent))); }));\n    };\n    return TimeColMoreLink;\n}(BaseComponent));\nfunction renderMoreLinkInner(props) {\n    return props.shortText;\n}\n\n// segInputs assumed sorted\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\n    var hierarchy = new SegHierarchy();\n    if (strictOrder != null) {\n        hierarchy.strictOrder = strictOrder;\n    }\n    if (maxStackCnt != null) {\n        hierarchy.maxStackCnt = maxStackCnt;\n    }\n    var hiddenEntries = hierarchy.addSegs(segInputs);\n    var hiddenGroups = groupIntersectingEntries(hiddenEntries);\n    var web = buildWeb(hierarchy);\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\n    var segRects = webToRects(web);\n    return { segRects: segRects, hiddenGroups: hiddenGroups };\n}\nfunction buildWeb(hierarchy) {\n    var entriesByLevel = hierarchy.entriesByLevel;\n    var buildNode = cacheable(function (level, lateral) { return level + ':' + lateral; }, function (level, lateral) {\n        var siblingRange = findNextLevelSegs(hierarchy, level, lateral);\n        var nextLevelRes = buildNodes(siblingRange, buildNode);\n        var entry = entriesByLevel[level][lateral];\n        return [\n            __assign(__assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\n            entry.thickness + nextLevelRes[1], // the pressure builds\n        ];\n    });\n    return buildNodes(entriesByLevel.length\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\n        : null, buildNode)[0];\n}\nfunction buildNodes(siblingRange, buildNode) {\n    if (!siblingRange) {\n        return [[], 0];\n    }\n    var level = siblingRange.level, lateralStart = siblingRange.lateralStart, lateralEnd = siblingRange.lateralEnd;\n    var lateral = lateralStart;\n    var pairs = [];\n    while (lateral < lateralEnd) {\n        pairs.push(buildNode(level, lateral));\n        lateral += 1;\n    }\n    pairs.sort(cmpDescPressures);\n    return [\n        pairs.map(extractNode),\n        pairs[0][1], // first item's pressure\n    ];\n}\nfunction cmpDescPressures(a, b) {\n    return b[1] - a[1];\n}\nfunction extractNode(a) {\n    return a[0];\n}\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\n    var levelCoords = hierarchy.levelCoords, entriesByLevel = hierarchy.entriesByLevel;\n    var subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\n    var afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\n    var levelCnt = levelCoords.length;\n    var level = subjectLevel;\n    // skip past levels that are too high up\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\n        ; // do nothing\n    for (; level < levelCnt; level += 1) {\n        var entries = entriesByLevel[level];\n        var entry = void 0;\n        var searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\n        var lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\n        var lateralEnd = lateralStart;\n        while ( // loop through entries that horizontally intersect\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\n            entry.span.start < subjectEntry.span.end) {\n            lateralEnd += 1;\n        }\n        if (lateralStart < lateralEnd) {\n            return { level: level, lateralStart: lateralStart, lateralEnd: lateralEnd };\n        }\n    }\n    return null;\n}\nfunction stretchWeb(topLevelNodes, totalThickness) {\n    var stretchNode = cacheable(function (node, startCoord, prevThickness) { return buildEntryKey(node); }, function (node, startCoord, prevThickness) {\n        var nextLevelNodes = node.nextLevelNodes, thickness = node.thickness;\n        var allThickness = thickness + prevThickness;\n        var thicknessFraction = thickness / allThickness;\n        var endCoord;\n        var newChildren = [];\n        if (!nextLevelNodes.length) {\n            endCoord = totalThickness;\n        }\n        else {\n            for (var _i = 0, nextLevelNodes_1 = nextLevelNodes; _i < nextLevelNodes_1.length; _i++) {\n                var childNode = nextLevelNodes_1[_i];\n                if (endCoord === undefined) {\n                    var res = stretchNode(childNode, startCoord, allThickness);\n                    endCoord = res[0];\n                    newChildren.push(res[1]);\n                }\n                else {\n                    var res = stretchNode(childNode, endCoord, 0);\n                    newChildren.push(res[1]);\n                }\n            }\n        }\n        var newThickness = (endCoord - startCoord) * thicknessFraction;\n        return [endCoord - newThickness, __assign(__assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\n    });\n    return topLevelNodes.map(function (node) { return stretchNode(node, 0, 0)[1]; });\n}\n// not sorted in any particular order\nfunction webToRects(topLevelNodes) {\n    var rects = [];\n    var processNode = cacheable(function (node, levelCoord, stackDepth) { return buildEntryKey(node); }, function (node, levelCoord, stackDepth) {\n        var rect = __assign(__assign({}, node), { levelCoord: levelCoord,\n            stackDepth: stackDepth, stackForward: 0 });\n        rects.push(rect);\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\n    });\n    function processNodes(nodes, levelCoord, stackDepth) {\n        var stackForward = 0;\n        for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n            var node = nodes_1[_i];\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\n        }\n        return stackForward;\n    }\n    processNodes(topLevelNodes, 0, 0);\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\n}\n// TODO: move to general util\nfunction cacheable(keyFunc, workFunc) {\n    var cache = {};\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var key = keyFunc.apply(void 0, args);\n        return (key in cache)\n            ? cache[key]\n            : (cache[key] = workFunc.apply(void 0, args));\n    };\n}\n\nfunction computeSegVCoords(segs, colDate, slatCoords, eventMinHeight) {\n    if (slatCoords === void 0) { slatCoords = null; }\n    if (eventMinHeight === void 0) { eventMinHeight = 0; }\n    var vcoords = [];\n    if (slatCoords) {\n        for (var i = 0; i < segs.length; i += 1) {\n            var seg = segs[i];\n            var spanStart = slatCoords.computeDateTop(seg.start, colDate);\n            var spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\n            slatCoords.computeDateTop(seg.end, colDate));\n            vcoords.push({\n                start: Math.round(spanStart),\n                end: Math.round(spanEnd), //\n            });\n        }\n    }\n    return vcoords;\n}\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\neventOrderStrict, eventMaxStack) {\n    var segInputs = [];\n    var dumbSegs = []; // segs without coords\n    for (var i = 0; i < segs.length; i += 1) {\n        var vcoords = segVCoords[i];\n        if (vcoords) {\n            segInputs.push({\n                index: i,\n                thickness: 1,\n                span: vcoords,\n            });\n        }\n        else {\n            dumbSegs.push(segs[i]);\n        }\n    }\n    var _a = buildPositioning(segInputs, eventOrderStrict, eventMaxStack), segRects = _a.segRects, hiddenGroups = _a.hiddenGroups;\n    var segPlacements = [];\n    for (var _i = 0, segRects_1 = segRects; _i < segRects_1.length; _i++) {\n        var segRect = segRects_1[_i];\n        segPlacements.push({\n            seg: segs[segRect.index],\n            rect: segRect,\n        });\n    }\n    for (var _b = 0, dumbSegs_1 = dumbSegs; _b < dumbSegs_1.length; _b++) {\n        var dumbSeg = dumbSegs_1[_b];\n        segPlacements.push({ seg: dumbSeg, rect: null });\n    }\n    return { segPlacements: segPlacements, hiddenGroups: hiddenGroups };\n}\n\nvar DEFAULT_TIME_FORMAT = createFormatter({\n    hour: 'numeric',\n    minute: '2-digit',\n    meridiem: false,\n});\nvar TimeColEvent = /** @class */ (function (_super) {\n    __extends(TimeColEvent, _super);\n    function TimeColEvent() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColEvent.prototype.render = function () {\n        var classNames = [\n            'fc-timegrid-event',\n            'fc-v-event',\n        ];\n        if (this.props.isShort) {\n            classNames.push('fc-timegrid-event-short');\n        }\n        return (createElement(StandardEvent, __assign({}, this.props, { defaultTimeFormat: DEFAULT_TIME_FORMAT, extraClassNames: classNames })));\n    };\n    return TimeColEvent;\n}(BaseComponent));\n\nvar TimeColMisc = /** @class */ (function (_super) {\n    __extends(TimeColMisc, _super);\n    function TimeColMisc() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    TimeColMisc.prototype.render = function () {\n        var props = this.props;\n        return (createElement(DayCellContent, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (innerElRef, innerContent) { return (innerContent &&\n            createElement(\"div\", { className: \"fc-timegrid-col-misc\", ref: innerElRef }, innerContent)); }));\n    };\n    return TimeColMisc;\n}(BaseComponent));\n\nvar TimeCol = /** @class */ (function (_super) {\n    __extends(TimeCol, _super);\n    function TimeCol() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.sortEventSegs = memoize(sortEventSegs);\n        return _this;\n    }\n    // TODO: memoize event-placement?\n    TimeCol.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var isSelectMirror = context.options.selectMirror;\n        var mirrorSegs = (props.eventDrag && props.eventDrag.segs) ||\n            (props.eventResize && props.eventResize.segs) ||\n            (isSelectMirror && props.dateSelectionSegs) ||\n            [];\n        var interactionAffectedInstances = // TODO: messy way to compute this\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\n            (props.eventResize && props.eventResize.affectedInstances) ||\n            {};\n        var sortedFgSegs = this.sortEventSegs(props.fgEventSegs, context.options.eventOrder);\n        return (createElement(DayCellRoot, { elRef: props.elRef, date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps }, function (rootElRef, classNames, dataAttrs) { return (createElement(\"td\", __assign({ ref: rootElRef, className: ['fc-timegrid-col'].concat(classNames, props.extraClassNames || []).join(' ') }, dataAttrs, props.extraDataAttrs),\n            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\n                    _this.renderFillSegs(props.businessHourSegs, 'non-business'),\n                    _this.renderFillSegs(props.bgEventSegs, 'bg-event'),\n                    _this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\n                createElement(\"div\", { className: \"fc-timegrid-col-events\" }, _this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\n                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, _this.renderNowIndicator(props.nowIndicatorSegs)),\n                createElement(TimeColMisc, { date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraHookProps: props.extraHookProps })))); }));\n    };\n    TimeCol.prototype.renderFgSegs = function (sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var props = this.props;\n        if (props.forPrint) {\n            return renderPlainFgSegs(sortedFgSegs, props);\n        }\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\n    };\n    TimeCol.prototype.renderPositionedFgSegs = function (segs, // if not mirror, needs to be sorted\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\n        var _this = this;\n        var _a = this.context.options, eventMaxStack = _a.eventMaxStack, eventShortHeight = _a.eventShortHeight, eventOrderStrict = _a.eventOrderStrict, eventMinHeight = _a.eventMinHeight;\n        var _b = this.props, date = _b.date, slatCoords = _b.slatCoords, eventSelection = _b.eventSelection, todayRange = _b.todayRange, nowDate = _b.nowDate;\n        var isMirror = isDragging || isResizing || isDateSelecting;\n        var segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\n        var _c = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack), segPlacements = _c.segPlacements, hiddenGroups = _c.hiddenGroups;\n        return (createElement(Fragment, null,\n            this.renderHiddenGroups(hiddenGroups, segs),\n            segPlacements.map(function (segPlacement) {\n                var seg = segPlacement.seg, rect = segPlacement.rect;\n                var instanceId = seg.eventRange.instance.instanceId;\n                var isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\n                var vStyle = computeSegVStyle(rect && rect.span);\n                var hStyle = (!isMirror && rect) ? _this.computeSegHStyle(rect) : { left: 0, right: 0 };\n                var isInset = Boolean(rect) && rect.stackForward > 0;\n                var isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: __assign(__assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\n                    createElement(TimeColEvent, __assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\n            })));\n    };\n    // will already have eventMinHeight applied because segInputs already had it\n    TimeCol.prototype.renderHiddenGroups = function (hiddenGroups, segs) {\n        var _a = this.props, extraDateSpan = _a.extraDateSpan, dateProfile = _a.dateProfile, todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n        return (createElement(Fragment, null, hiddenGroups.map(function (hiddenGroup) {\n            var positionCss = computeSegVStyle(hiddenGroup.span);\n            var hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\n        })));\n    };\n    TimeCol.prototype.renderFillSegs = function (segs, fillType) {\n        var _a = this, props = _a.props, context = _a.context;\n        var segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\n        var children = segVCoords.map(function (vcoords, i) {\n            var seg = segs[i];\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\n                createElement(BgEvent, __assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\n                renderFill(fillType)));\n        });\n        return createElement(Fragment, null, children);\n    };\n    TimeCol.prototype.renderNowIndicator = function (segs) {\n        var _a = this.props, slatCoords = _a.slatCoords, date = _a.date;\n        if (!slatCoords) {\n            return null;\n        }\n        return segs.map(function (seg, i) { return (createElement(NowIndicatorRoot, { isAxis: false, date: date, \n            // key doesn't matter. will only ever be one\n            key: i }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-line'].concat(classNames).join(' '), style: { top: slatCoords.computeDateTop(seg.start, date) } }, innerContent)); })); });\n    };\n    TimeCol.prototype.computeSegHStyle = function (segHCoords) {\n        var _a = this.context, isRtl = _a.isRtl, options = _a.options;\n        var shouldOverlap = options.slotEventOverlap;\n        var nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\n        var farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\n        var left; // amount of space from left edge, a fraction of the total width\n        var right; // amount of space from right edge, a fraction of the total width\n        if (shouldOverlap) {\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\n        }\n        if (isRtl) {\n            left = 1 - farCoord;\n            right = nearCoord;\n        }\n        else {\n            left = nearCoord;\n            right = 1 - farCoord;\n        }\n        var props = {\n            zIndex: segHCoords.stackDepth + 1,\n            left: left * 100 + '%',\n            right: right * 100 + '%',\n        };\n        if (shouldOverlap && !segHCoords.stackForward) {\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\n        }\n        return props;\n    };\n    return TimeCol;\n}(BaseComponent));\nfunction renderPlainFgSegs(sortedFgSegs, _a) {\n    var todayRange = _a.todayRange, nowDate = _a.nowDate, eventSelection = _a.eventSelection, eventDrag = _a.eventDrag, eventResize = _a.eventResize;\n    var hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\n        (eventResize ? eventResize.affectedInstances : null) ||\n        {};\n    return (createElement(Fragment, null, sortedFgSegs.map(function (seg) {\n        var instanceId = seg.eventRange.instance.instanceId;\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\n            createElement(TimeColEvent, __assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\n    })));\n}\nfunction computeSegVStyle(segVCoords) {\n    if (!segVCoords) {\n        return { top: '', bottom: '' };\n    }\n    return {\n        top: segVCoords.start,\n        bottom: -segVCoords.end,\n    };\n}\nfunction compileSegsFromEntries(segEntries, allSegs) {\n    return segEntries.map(function (segEntry) { return allSegs[segEntry.index]; });\n}\n\nvar TimeColsContent = /** @class */ (function (_super) {\n    __extends(TimeColsContent, _super);\n    function TimeColsContent() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.splitFgEventSegs = memoize(splitSegsByCol);\n        _this.splitBgEventSegs = memoize(splitSegsByCol);\n        _this.splitBusinessHourSegs = memoize(splitSegsByCol);\n        _this.splitNowIndicatorSegs = memoize(splitSegsByCol);\n        _this.splitDateSelectionSegs = memoize(splitSegsByCol);\n        _this.splitEventDrag = memoize(splitInteractionByCol);\n        _this.splitEventResize = memoize(splitInteractionByCol);\n        _this.rootElRef = createRef();\n        _this.cellElRefs = new RefMap();\n        return _this;\n    }\n    TimeColsContent.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var nowIndicatorTop = context.options.nowIndicator &&\n            props.slatCoords &&\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\n        var colCnt = props.cells.length;\n        var fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\n        var bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\n        var businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\n        var nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\n        var dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\n        var eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\n        var eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\n            createElement(\"table\", { style: {\n                    minWidth: props.tableMinWidth,\n                    width: props.clientWidth,\n                } },\n                props.tableColGroupNode,\n                createElement(\"tbody\", null,\n                    createElement(\"tr\", null,\n                        props.axis && (createElement(\"td\", { className: \"fc-timegrid-col fc-timegrid-axis\" },\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorRoot, { isAxis: true, date: props.nowDate }, function (rootElRef, classNames, innerElRef, innerContent) { return (createElement(\"div\", { ref: rootElRef, className: ['fc-timegrid-now-indicator-arrow'].concat(classNames).join(' '), style: { top: nowIndicatorTop } }, innerContent)); })))))),\n                        props.cells.map(function (cell, i) { return (createElement(TimeCol, { key: cell.key, elRef: _this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraHookProps: cell.extraHookProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint })); }))))));\n    };\n    TimeColsContent.prototype.componentDidMount = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.componentDidUpdate = function () {\n        this.updateCoords();\n    };\n    TimeColsContent.prototype.updateCoords = function () {\n        var props = this.props;\n        if (props.onColCoords &&\n            props.clientWidth !== null // means sizing has stabilized\n        ) {\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\n            false));\n        }\n    };\n    return TimeColsContent;\n}(BaseComponent));\nfunction collectCellEls(elMap, cells) {\n    return cells.map(function (cell) { return elMap[cell.key]; });\n}\n\n/* A component that renders one or more columns of vertical time slots\n----------------------------------------------------------------------------------------------------------------------*/\nvar TimeCols = /** @class */ (function (_super) {\n    __extends(TimeCols, _super);\n    function TimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.processSlotOptions = memoize(processSlotOptions);\n        _this.state = {\n            slatCoords: null,\n        };\n        _this.handleRootEl = function (el) {\n            if (el) {\n                _this.context.registerInteractiveComponent(_this, {\n                    el: el,\n                    isHitComboAllowed: _this.props.isHitComboAllowed,\n                });\n            }\n            else {\n                _this.context.unregisterInteractiveComponent(_this);\n            }\n        };\n        _this.handleScrollRequest = function (request) {\n            var onScrollTopRequest = _this.props.onScrollTopRequest;\n            var slatCoords = _this.state.slatCoords;\n            if (onScrollTopRequest && slatCoords) {\n                if (request.time) {\n                    var top_1 = slatCoords.computeTimeTop(request.time);\n                    top_1 = Math.ceil(top_1); // zoom can give weird floating-point values. rather scroll a little bit further\n                    if (top_1) {\n                        top_1 += 1; // to overcome top border that slots beyond the first have. looks better\n                    }\n                    onScrollTopRequest(top_1);\n                }\n                return true;\n            }\n            return false;\n        };\n        _this.handleColCoords = function (colCoords) {\n            _this.colCoords = colCoords;\n        };\n        _this.handleSlatCoords = function (slatCoords) {\n            _this.setState({ slatCoords: slatCoords });\n            if (_this.props.onSlatCoords) {\n                _this.props.onSlatCoords(slatCoords);\n            }\n        };\n        return _this;\n    }\n    TimeCols.prototype.render = function () {\n        var _a = this, props = _a.props, state = _a.state;\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\n                // these props are important to give this wrapper correct dimensions for interactions\n                // TODO: if we set it here, can we avoid giving to inner tables?\n                width: props.clientWidth,\n                minWidth: props.tableMinWidth,\n            } },\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\n    };\n    TimeCols.prototype.componentDidMount = function () {\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\n    };\n    TimeCols.prototype.componentDidUpdate = function (prevProps) {\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\n    };\n    TimeCols.prototype.componentWillUnmount = function () {\n        this.scrollResponder.detach();\n    };\n    TimeCols.prototype.queryHit = function (positionLeft, positionTop) {\n        var _a = this.context, dateEnv = _a.dateEnv, options = _a.options;\n        var colCoords = this.colCoords;\n        var dateProfile = this.props.dateProfile;\n        var slatCoords = this.state.slatCoords;\n        var _b = this.processSlotOptions(this.props.slotDuration, options.snapDuration), snapDuration = _b.snapDuration, snapsPerSlot = _b.snapsPerSlot;\n        var colIndex = colCoords.leftToIndex(positionLeft);\n        var slatIndex = slatCoords.positions.topToIndex(positionTop);\n        if (colIndex != null && slatIndex != null) {\n            var cell = this.props.cells[colIndex];\n            var slatTop = slatCoords.positions.tops[slatIndex];\n            var slatHeight = slatCoords.positions.getHeight(slatIndex);\n            var partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\n            var localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\n            var snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\n            var dayDate = this.props.cells[colIndex].date;\n            var time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\n            var start = dateEnv.add(dayDate, time);\n            var end = dateEnv.add(start, snapDuration);\n            return {\n                dateProfile: dateProfile,\n                dateSpan: __assign({ range: { start: start, end: end }, allDay: false }, cell.extraDateSpan),\n                dayEl: colCoords.els[colIndex],\n                rect: {\n                    left: colCoords.lefts[colIndex],\n                    right: colCoords.rights[colIndex],\n                    top: slatTop,\n                    bottom: slatTop + slatHeight,\n                },\n                layer: 0,\n            };\n        }\n        return null;\n    };\n    return TimeCols;\n}(DateComponent));\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\n    var snapDuration = snapDurationOverride || slotDuration;\n    var snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\n    if (snapsPerSlot === null) {\n        snapDuration = slotDuration;\n        snapsPerSlot = 1;\n        // TODO: say warning?\n    }\n    return { snapDuration: snapDuration, snapsPerSlot: snapsPerSlot };\n}\n\nvar DayTimeColsSlicer = /** @class */ (function (_super) {\n    __extends(DayTimeColsSlicer, _super);\n    function DayTimeColsSlicer() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DayTimeColsSlicer.prototype.sliceRange = function (range, dayRanges) {\n        var segs = [];\n        for (var col = 0; col < dayRanges.length; col += 1) {\n            var segRange = intersectRanges(range, dayRanges[col]);\n            if (segRange) {\n                segs.push({\n                    start: segRange.start,\n                    end: segRange.end,\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\n                    col: col,\n                });\n            }\n        }\n        return segs;\n    };\n    return DayTimeColsSlicer;\n}(Slicer));\n\nvar DayTimeCols = /** @class */ (function (_super) {\n    __extends(DayTimeCols, _super);\n    function DayTimeCols() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildDayRanges = memoize(buildDayRanges);\n        _this.slicer = new DayTimeColsSlicer();\n        _this.timeColsRef = createRef();\n        return _this;\n    }\n    DayTimeCols.prototype.render = function () {\n        var _this = this;\n        var _a = this, props = _a.props, context = _a.context;\n        var dateProfile = props.dateProfile, dayTableModel = props.dayTableModel;\n        var isNowIndicator = context.options.nowIndicator;\n        var dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\n        // give it the first row of cells\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\n        return (createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' }, function (nowDate, todayRange) { return (createElement(TimeCols, __assign({ ref: _this.timeColsRef }, _this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: isNowIndicator && _this.slicer.sliceNowDate(nowDate, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords }))); }));\n    };\n    return DayTimeCols;\n}(DateComponent));\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\n    var ranges = [];\n    for (var _i = 0, _a = dayTableModel.headerDates; _i < _a.length; _i++) {\n        var date = _a[_i];\n        ranges.push({\n            start: dateEnv.add(date, dateProfile.slotMinTime),\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\n        });\n    }\n    return ranges;\n}\n\n// potential nice values for the slot-duration and interval-duration\n// from largest to smallest\nvar STOCK_SUB_DURATIONS = [\n    { hours: 1 },\n    { minutes: 30 },\n    { minutes: 15 },\n    { seconds: 30 },\n    { seconds: 15 },\n];\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\n    var dayStart = new Date(0);\n    var slatTime = slotMinTime;\n    var slatIterator = createDuration(0);\n    var labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\n    var metas = [];\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\n        var date = dateEnv.add(dayStart, slatTime);\n        var isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\n        metas.push({\n            date: date,\n            time: slatTime,\n            key: date.toISOString(),\n            isoTimeStr: formatIsoTimeString(date),\n            isLabeled: isLabeled,\n        });\n        slatTime = addDurations(slatTime, slotDuration);\n        slatIterator = addDurations(slatIterator, slotDuration);\n    }\n    return metas;\n}\n// Computes an automatic value for slotLabelInterval\nfunction computeLabelInterval(slotDuration) {\n    var i;\n    var labelInterval;\n    var slotsPerLabel;\n    // find the smallest stock label interval that results in more than one slots-per-label\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\n            return labelInterval;\n        }\n    }\n    return slotDuration; // fall back\n}\n\nvar DayTimeColsView = /** @class */ (function (_super) {\n    __extends(DayTimeColsView, _super);\n    function DayTimeColsView() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.buildTimeColsModel = memoize(buildTimeColsModel);\n        _this.buildSlatMetas = memoize(buildSlatMetas);\n        return _this;\n    }\n    DayTimeColsView.prototype.render = function () {\n        var _this = this;\n        var _a = this.context, options = _a.options, dateEnv = _a.dateEnv, dateProfileGenerator = _a.dateProfileGenerator;\n        var props = this.props;\n        var dateProfile = props.dateProfile;\n        var dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\n        var splitProps = this.allDaySplitter.splitProps(props);\n        var slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\n        var dayMinWidth = options.dayMinWidth;\n        var hasAttachedAxis = !dayMinWidth;\n        var hasDetachedAxis = dayMinWidth;\n        var headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\n        var allDayContent = (options.allDaySlot !== false) && (function (contentArg) { return (createElement(DayTable, __assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? _this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: _this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, _this.getAllDayMaxEventProps()))); });\n        var timeGridContent = function (contentArg) { return (createElement(DayTimeCols, __assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: _this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: _this.handleScrollTopRequest }))); };\n        return hasDetachedAxis\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\n    };\n    return DayTimeColsView;\n}(TimeColsView));\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\n    var daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\n    return new DayTableModel(daySeries, false);\n}\n\nvar OPTION_REFINERS = {\n    allDaySlot: Boolean,\n};\n\nvar main = createPlugin({\n    initialView: 'timeGridWeek',\n    optionRefiners: OPTION_REFINERS,\n    views: {\n        timeGrid: {\n            component: DayTimeColsView,\n            usesMinMaxTime: true,\n            allDaySlot: true,\n            slotDuration: '00:30:00',\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\n        },\n        timeGridDay: {\n            type: 'timeGrid',\n            duration: { days: 1 },\n        },\n        timeGridWeek: {\n            type: 'timeGrid',\n            duration: { weeks: 1 },\n        },\n    },\n});\n\nexport default main;\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","import{useState as n,useReducer as t,useEffect as e,useLayoutEffect as r,useRef as u,useImperativeHandle as o,useMemo as i,useCallback as l,useContext as f,useDebugValue as c}from\"preact/hooks\";export*from\"preact/hooks\";import{Component as a,createElement as s,options as h,toChildArray as p,Fragment as v,render as d,hydrate as m,cloneElement as y,createRef as b,createContext as _}from\"preact\";export{createElement,createContext,createRef,Fragment,Component}from\"preact\";function C(n,t){for(var e in t)n[e]=t[e];return n}function S(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function E(n){this.props=n}function g(n,t){function e(n){var e=this.props.ref,r=e==n.ref;return!r&&e&&(e.call?e(null):e.current=null),t?!t(this.props,n)||!r:S(this.props,n)}function r(t){return this.shouldComponentUpdate=e,s(n,t)}return r.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",r.prototype.isReactComponent=!0,r.__f=!0,r}(E.prototype=new a).isPureReactComponent=!0,E.prototype.shouldComponentUpdate=function(n,t){return S(this.props,n)||S(this.state,t)};var w=h.__b;h.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),w&&w(n)};var R=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function x(n){function t(t,e){var r=C({},t);return delete r.ref,n(r,(e=t.ref||e)&&(\"object\"!=typeof e||\"current\"in e)?e:null)}return t.$$typeof=R,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var N=function(n,t){return null==n?null:p(p(n).map(t))},k={map:N,forEach:N,count:function(n){return n?p(n).length:0},only:function(n){var t=p(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:p},A=h.__e;h.__e=function(n,t,e){if(n.then)for(var r,u=t;u=u.__;)if((r=u.__c)&&r.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),r.__c(n,t);A(n,t,e)};var O=h.unmount;function L(){this.__u=0,this.t=null,this.__b=null}function U(n){var t=n.__.__c;return t&&t.__e&&t.__e(n)}function D(n){var t,e,r;function u(u){if(t||(t=n()).then(function(n){e=n.default||n},function(n){r=n}),r)throw r;if(!e)throw t;return s(e,u)}return u.displayName=\"Lazy\",u.__f=!0,u}function F(){this.u=null,this.o=null}h.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&!0===n.__h&&(n.type=null),O&&O(n)},(L.prototype=new a).__c=function(n,t){var e=t.__c,r=this;null==r.t&&(r.t=[]),r.t.push(e);var u=U(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(l):l())};e.__R=i;var l=function(){if(!--r.__u){if(r.state.__e){var n=r.state.__e;r.__v.__k[0]=function n(t,e,r){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=r)),t}(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__e:r.__b=null});t=r.t.pop();)t.forceUpdate()}},f=!0===t.__h;r.__u++||f||r.setState({__e:r.__b=r.__v.__k[0]}),n.then(i,i)},L.prototype.componentWillUnmount=function(){this.t=[]},L.prototype.render=function(n,t){if(this.__b){if(this.__v.__k){var e=document.createElement(\"div\"),r=this.__v.__k[0].__c;this.__v.__k[0]=function n(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),t.__c.__H=null),null!=(t=C({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return n(t,e,r)})),t}(this.__b,e,r.__O=r.__P)}this.__b=null}var u=t.__e&&s(v,null,n.fallback);return u&&(u.__h=null),[s(v,null,t.__e?null:n.children),u]};var M=function(n,t,e){if(++e[1]===e[0]&&n.o.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.o.size))for(e=n.u;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.u=e=e[2]}};function T(n){return this.getChildContext=function(){return n.context},n.children}function j(n){var t=this,e=n.i;t.componentWillUnmount=function(){d(null,t.l),t.l=null,t.i=null},t.i&&t.i!==e&&t.componentWillUnmount(),n.__v?(t.l||(t.i=e,t.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(n){this.childNodes.push(n),t.i.appendChild(n)},insertBefore:function(n,e){this.childNodes.push(n),t.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.i.removeChild(n)}}),d(s(T,{context:t.context},n.__v),t.l)):t.l&&t.componentWillUnmount()}function I(n,t){return s(j,{__v:n,i:t})}(F.prototype=new a).__e=function(n){var t=this,e=U(t.__v),r=t.o.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),M(t,n,r)):u()};e?e(o):o()}},F.prototype.render=function(n){this.u=null,this.o=new Map;var t=p(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.o.set(t[e],this.u=[1,0,this.u]);return n.children},F.prototype.componentDidUpdate=F.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){M(n,e,t)})};var W=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,P=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,V=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(n)};function z(n,t,e){return null==t.__k&&(t.textContent=\"\"),d(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function B(n,t,e){return m(n,t),\"function\"==typeof e&&e(),n?n.__c:null}a.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(n){Object.defineProperty(a.prototype,n,{configurable:!0,get:function(){return this[\"UNSAFE_\"+n]},set:function(t){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:t})}})});var H=h.event;function Z(){}function Y(){return this.cancelBubble}function $(){return this.defaultPrevented}h.event=function(n){return H&&(n=H(n)),n.persist=Z,n.isPropagationStopped=Y,n.isDefaultPrevented=$,n.nativeEvent=n};var q,G={configurable:!0,get:function(){return this.class}},J=h.vnode;h.vnode=function(n){var t=n.type,e=n.props,r=e;if(\"string\"==typeof t){for(var u in r={},e){var o=e[u];\"value\"===u&&\"defaultValue\"in e&&null==o||(\"defaultValue\"===u&&\"value\"in e&&null==e.value?u=\"value\":\"download\"===u&&!0===o?o=\"\":/ondoubleclick/i.test(u)?u=\"ondblclick\":/^onchange(textarea|input)/i.test(u+t)&&!V(e.type)?u=\"oninput\":/^on(Ani|Tra|Tou|BeforeInp)/.test(u)?u=u.toLowerCase():P.test(u)?u=u.replace(/[A-Z0-9]/,\"-$&\").toLowerCase():null===o&&(o=void 0),r[u]=o)}\"select\"==t&&r.multiple&&Array.isArray(r.value)&&(r.value=p(e.children).forEach(function(n){n.props.selected=-1!=r.value.indexOf(n.props.value)})),\"select\"==t&&null!=r.defaultValue&&(r.value=p(e.children).forEach(function(n){n.props.selected=r.multiple?-1!=r.defaultValue.indexOf(n.props.value):r.defaultValue==n.props.value})),n.props=r}t&&e.class!=e.className&&(G.enumerable=\"className\"in e,null!=e.className&&(r.class=e.className),Object.defineProperty(r,\"className\",G)),n.$$typeof=W,J&&J(n)};var K=h.__r;h.__r=function(n){K&&K(n),q=n.__c};var Q={ReactCurrentDispatcher:{current:{readContext:function(n){return q.__n[n.__c].props.value}}}},X=1,nn=2,tn=3,en=4,rn=5;function un(n,t){return t()}var on=\"object\"==typeof performance&&\"function\"==typeof performance.now?performance.now.bind(performance):function(){return Date.now()},ln=\"16.8.0\";function fn(n){return s.bind(null,n)}function cn(n){return!!n&&n.$$typeof===W}function an(n){return cn(n)?y.apply(null,arguments):n}function sn(n){return!!n.__k&&(d(null,n),!0)}function hn(n){return n&&(n.base||1===n.nodeType&&n)||null}var pn=function(n,t){return n(t)},vn=v;export default{useState:n,useReducer:t,useEffect:e,useLayoutEffect:r,useRef:u,useImperativeHandle:o,useMemo:i,useCallback:l,useContext:f,useDebugValue:c,version:\"16.8.0\",Children:k,render:z,hydrate:B,unmountComponentAtNode:sn,createPortal:I,createElement:s,createContext:_,createFactory:fn,cloneElement:an,createRef:b,Fragment:v,isValidElement:cn,findDOMNode:hn,Component:a,PureComponent:E,memo:g,forwardRef:x,unstable_batchedUpdates:pn,StrictMode:v,Suspense:L,SuspenseList:F,lazy:D,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Q};export{ln as version,k as Children,z as render,B as hydrate,sn as unmountComponentAtNode,I as createPortal,fn as createFactory,an as cloneElement,cn as isValidElement,hn as findDOMNode,E as PureComponent,g as memo,x as forwardRef,pn as unstable_batchedUpdates,vn as StrictMode,L as Suspense,F as SuspenseList,D as lazy,Q as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,X as unstable_ImmediatePriority,nn as unstable_UserBlockingPriority,tn as unstable_NormalPriority,en as unstable_LowPriority,rn as unstable_IdlePriority,un as unstable_runWithPriority,on as unstable_now};\n","var n,l,u,i,t,o,r={},f=[],e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function c(n,l){for(var u in l)n[u]=l[u];return n}function s(n){var l=n.parentNode;l&&l.removeChild(n)}function a(n,l,u){var i,t,o,r=arguments,f={};for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);if(null!=u&&(f.children=u),\"function\"==typeof n&&null!=n.defaultProps)for(o in n.defaultProps)void 0===f[o]&&(f[o]=n.defaultProps[o]);return v(n,f,i,t,null)}function v(l,u,i,t,o){var r={type:l,props:u,key:i,ref:t,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++n.__v:o};return null!=n.vnode&&n.vnode(r),r}function h(){return{current:null}}function y(n){return n.children}function p(n,l){this.props=n,this.context=l}function d(n,l){if(null==l)return n.__?d(n.__,n.__.__k.indexOf(n)+1):null;for(var u;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e)return u.__e;return\"function\"==typeof n.type?d(n):null}function _(n){var l,u;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(u=n.__k[l])&&null!=u.__e){n.__e=n.__c.base=u.__e;break}return _(n)}}function k(l){(!l.__d&&(l.__d=!0)&&u.push(l)&&!b.__r++||t!==n.debounceRendering)&&((t=n.debounceRendering)||i)(b)}function b(){for(var n;b.__r=u.length;)n=u.sort(function(n,l){return n.__v.__b-l.__v.__b}),u=[],n.some(function(n){var l,u,i,t,o,r;n.__d&&(o=(t=(l=n).__v).__e,(r=l.__P)&&(u=[],(i=c({},t)).__v=t.__v+1,I(r,t,i,l.__n,void 0!==r.ownerSVGElement,null!=t.__h?[o]:null,u,null==o?d(t):o,t.__h),T(u,t),t.__e!=o&&_(t)))})}function m(n,l,u,i,t,o,e,c,s,a){var h,p,_,k,b,m,w,A=i&&i.__k||f,P=A.length;for(u.__k=[],h=0;h<l.length;h++)if(null!=(k=u.__k[h]=null==(k=l[h])||\"boolean\"==typeof k?null:\"string\"==typeof k||\"number\"==typeof k||\"bigint\"==typeof k?v(null,k,null,null,k):Array.isArray(k)?v(y,{children:k},null,null,null):k.__b>0?v(k.type,k.props,k.key,null,k.__v):k)){if(k.__=u,k.__b=u.__b+1,null===(_=A[h])||_&&k.key==_.key&&k.type===_.type)A[h]=void 0;else for(p=0;p<P;p++){if((_=A[p])&&k.key==_.key&&k.type===_.type){A[p]=void 0;break}_=null}I(n,k,_=_||r,t,o,e,c,s,a),b=k.__e,(p=k.ref)&&_.ref!=p&&(w||(w=[]),_.ref&&w.push(_.ref,null,k),w.push(p,k.__c||b,k)),null!=b?(null==m&&(m=b),\"function\"==typeof k.type&&null!=k.__k&&k.__k===_.__k?k.__d=s=g(k,s,n):s=x(n,k,_,A,b,s),a||\"option\"!==u.type?\"function\"==typeof u.type&&(u.__d=s):n.value=\"\"):s&&_.__e==s&&s.parentNode!=n&&(s=d(_))}for(u.__e=m,h=P;h--;)null!=A[h]&&(\"function\"==typeof u.type&&null!=A[h].__e&&A[h].__e==u.__d&&(u.__d=d(i,h+1)),L(A[h],A[h]));if(w)for(h=0;h<w.length;h++)z(w[h],w[++h],w[++h])}function g(n,l,u){var i,t;for(i=0;i<n.__k.length;i++)(t=n.__k[i])&&(t.__=n,l=\"function\"==typeof t.type?g(t,l,u):x(u,t,t,n.__k,t.__e,l));return l}function w(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(Array.isArray(n)?n.some(function(n){w(n,l)}):l.push(n)),l}function x(n,l,u,i,t,o){var r,f,e;if(void 0!==l.__d)r=l.__d,l.__d=void 0;else if(null==u||t!=o||null==t.parentNode)n:if(null==o||o.parentNode!==n)n.appendChild(t),r=null;else{for(f=o,e=0;(f=f.nextSibling)&&e<i.length;e+=2)if(f==t)break n;n.insertBefore(t,o),r=o}return void 0!==r?r:t.nextSibling}function A(n,l,u,i,t){var o;for(o in u)\"children\"===o||\"key\"===o||o in l||C(n,o,null,u[o],i);for(o in l)t&&\"function\"!=typeof l[o]||\"children\"===o||\"key\"===o||\"value\"===o||\"checked\"===o||u[o]===l[o]||C(n,o,l[o],u[o],i)}function P(n,l,u){\"-\"===l[0]?n.setProperty(l,u):n[l]=null==u?\"\":\"number\"!=typeof u||e.test(l)?u:u+\"px\"}function C(n,l,u,i,t){var o;n:if(\"style\"===l)if(\"string\"==typeof u)n.style.cssText=u;else{if(\"string\"==typeof i&&(n.style.cssText=i=\"\"),i)for(l in i)u&&l in u||P(n.style,l,\"\");if(u)for(l in u)i&&u[l]===i[l]||P(n.style,l,u[l])}else if(\"o\"===l[0]&&\"n\"===l[1])o=l!==(l=l.replace(/Capture$/,\"\")),l=l.toLowerCase()in n?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+o]=u,u?i||n.addEventListener(l,o?H:$,o):n.removeEventListener(l,o?H:$,o);else if(\"dangerouslySetInnerHTML\"!==l){if(t)l=l.replace(/xlink[H:h]/,\"h\").replace(/sName$/,\"s\");else if(\"href\"!==l&&\"list\"!==l&&\"form\"!==l&&\"tabIndex\"!==l&&\"download\"!==l&&l in n)try{n[l]=null==u?\"\":u;break n}catch(n){}\"function\"==typeof u||(null!=u&&(!1!==u||\"a\"===l[0]&&\"r\"===l[1])?n.setAttribute(l,u):n.removeAttribute(l))}}function $(l){this.l[l.type+!1](n.event?n.event(l):l)}function H(l){this.l[l.type+!0](n.event?n.event(l):l)}function I(l,u,i,t,o,r,f,e,s){var a,v,h,d,_,k,b,g,w,x,A,P=u.type;if(void 0!==u.constructor)return null;null!=i.__h&&(s=i.__h,e=u.__e=i.__e,u.__h=null,r=[e]),(a=n.__b)&&a(u);try{n:if(\"function\"==typeof P){if(g=u.props,w=(a=P.contextType)&&t[a.__c],x=a?w?w.props.value:a.__:t,i.__c?b=(v=u.__c=i.__c).__=v.__E:(\"prototype\"in P&&P.prototype.render?u.__c=v=new P(g,x):(u.__c=v=new p(g,x),v.constructor=P,v.render=M),w&&w.sub(v),v.props=g,v.state||(v.state={}),v.context=x,v.__n=t,h=v.__d=!0,v.__h=[]),null==v.__s&&(v.__s=v.state),null!=P.getDerivedStateFromProps&&(v.__s==v.state&&(v.__s=c({},v.__s)),c(v.__s,P.getDerivedStateFromProps(g,v.__s))),d=v.props,_=v.state,h)null==P.getDerivedStateFromProps&&null!=v.componentWillMount&&v.componentWillMount(),null!=v.componentDidMount&&v.__h.push(v.componentDidMount);else{if(null==P.getDerivedStateFromProps&&g!==d&&null!=v.componentWillReceiveProps&&v.componentWillReceiveProps(g,x),!v.__e&&null!=v.shouldComponentUpdate&&!1===v.shouldComponentUpdate(g,v.__s,x)||u.__v===i.__v){v.props=g,v.state=v.__s,u.__v!==i.__v&&(v.__d=!1),v.__v=u,u.__e=i.__e,u.__k=i.__k,u.__k.forEach(function(n){n&&(n.__=u)}),v.__h.length&&f.push(v);break n}null!=v.componentWillUpdate&&v.componentWillUpdate(g,v.__s,x),null!=v.componentDidUpdate&&v.__h.push(function(){v.componentDidUpdate(d,_,k)})}v.context=x,v.props=g,v.state=v.__s,(a=n.__r)&&a(u),v.__d=!1,v.__v=u,v.__P=l,a=v.render(v.props,v.state,v.context),v.state=v.__s,null!=v.getChildContext&&(t=c(c({},t),v.getChildContext())),h||null==v.getSnapshotBeforeUpdate||(k=v.getSnapshotBeforeUpdate(d,_)),A=null!=a&&a.type===y&&null==a.key?a.props.children:a,m(l,Array.isArray(A)?A:[A],u,i,t,o,r,f,e,s),v.base=u.__e,u.__h=null,v.__h.length&&f.push(v),b&&(v.__E=v.__=null),v.__e=!1}else null==r&&u.__v===i.__v?(u.__k=i.__k,u.__e=i.__e):u.__e=j(i.__e,u,i,t,o,r,f,s);(a=n.diffed)&&a(u)}catch(l){u.__v=null,(s||null!=r)&&(u.__e=e,u.__h=!!s,r[r.indexOf(e)]=null),n.__e(l,u,i)}}function T(l,u){n.__c&&n.__c(u,l),l.some(function(u){try{l=u.__h,u.__h=[],l.some(function(n){n.call(u)})}catch(l){n.__e(l,u.__v)}})}function j(n,l,u,i,t,o,e,c){var a,v,h,y,p=u.props,d=l.props,_=l.type,k=0;if(\"svg\"===_&&(t=!0),null!=o)for(;k<o.length;k++)if((a=o[k])&&(a===n||(_?a.localName==_:3==a.nodeType))){n=a,o[k]=null;break}if(null==n){if(null===_)return document.createTextNode(d);n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",_):document.createElement(_,d.is&&d),o=null,c=!1}if(null===_)p===d||c&&n.data===d||(n.data=d);else{if(o=o&&f.slice.call(n.childNodes),v=(p=u.props||r).dangerouslySetInnerHTML,h=d.dangerouslySetInnerHTML,!c){if(null!=o)for(p={},y=0;y<n.attributes.length;y++)p[n.attributes[y].name]=n.attributes[y].value;(h||v)&&(h&&(v&&h.__html==v.__html||h.__html===n.innerHTML)||(n.innerHTML=h&&h.__html||\"\"))}if(A(n,d,p,t,c),h)l.__k=[];else if(k=l.props.children,m(n,Array.isArray(k)?k:[k],l,u,i,t&&\"foreignObject\"!==_,o,e,n.firstChild,c),null!=o)for(k=o.length;k--;)null!=o[k]&&s(o[k]);c||(\"value\"in d&&void 0!==(k=d.value)&&(k!==n.value||\"progress\"===_&&!k)&&C(n,\"value\",k,p.value,!1),\"checked\"in d&&void 0!==(k=d.checked)&&k!==n.checked&&C(n,\"checked\",k,p.checked,!1))}return n}function z(l,u,i){try{\"function\"==typeof l?l(u):l.current=u}catch(l){n.__e(l,i)}}function L(l,u,i){var t,o,r;if(n.unmount&&n.unmount(l),(t=l.ref)&&(t.current&&t.current!==l.__e||z(t,null,u)),i||\"function\"==typeof l.type||(i=null!=(o=l.__e)),l.__e=l.__d=void 0,null!=(t=l.__c)){if(t.componentWillUnmount)try{t.componentWillUnmount()}catch(l){n.__e(l,u)}t.base=t.__P=null}if(t=l.__k)for(r=0;r<t.length;r++)t[r]&&L(t[r],u,i);null!=o&&s(o)}function M(n,l,u){return this.constructor(n,u)}function N(l,u,i){var t,o,e;n.__&&n.__(l,u),o=(t=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],I(u,l=(!t&&i||u).__k=a(y,null,[l]),o||r,r,void 0!==u.ownerSVGElement,!t&&i?[i]:o?null:u.firstChild?f.slice.call(u.childNodes):null,e,!t&&i?i:o?o.__e:u.firstChild,t),T(e,l)}function O(n,l){N(n,l,O)}function S(n,l,u){var i,t,o,r=arguments,f=c({},n.props);for(o in l)\"key\"==o?i=l[o]:\"ref\"==o?t=l[o]:f[o]=l[o];if(arguments.length>3)for(u=[u],o=3;o<arguments.length;o++)u.push(r[o]);return null!=u&&(f.children=u),v(n.type,f,i||n.key,t||n.ref,null)}function q(n,l){var u={__c:l=\"__cC\"+o++,__:n,Consumer:function(n,l){return n.children(l)},Provider:function(n){var u,i;return this.getChildContext||(u=[],(i={})[l]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&u.some(k)},this.sub=function(n){u.push(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){u.splice(u.indexOf(n),1),l&&l.call(n)}}),n.children}};return u.Provider.__=u.Consumer.contextType=u}n={__e:function(n,l){for(var u,i,t;l=l.__;)if((u=l.__c)&&!u.__)try{if((i=u.constructor)&&null!=i.getDerivedStateFromError&&(u.setState(i.getDerivedStateFromError(n)),t=u.__d),null!=u.componentDidCatch&&(u.componentDidCatch(n),t=u.__d),t)return u.__E=u}catch(l){n=l}throw n},__v:0},l=function(n){return null!=n&&void 0===n.constructor},p.prototype.setState=function(n,l){var u;u=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=c({},this.state),\"function\"==typeof n&&(n=n(c({},u),this.props)),n&&c(u,n),null!=n&&this.__v&&(l&&this.__h.push(l),k(this))},p.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),k(this))},p.prototype.render=y,u=[],i=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,b.__r=0,o=0;export{N as render,O as hydrate,a as createElement,a as h,y as Fragment,h as createRef,l as isValidElement,p as Component,S as cloneElement,q as createContext,w as toChildArray,n as options};\n","import{options as n}from\"preact\";var t,u,r,o=0,i=[],c=n.__b,f=n.__r,e=n.diffed,a=n.__c,v=n.unmount;function m(t,r){n.__h&&n.__h(u,t,o||r),o=0;var i=u.__H||(u.__H={__:[],__h:[]});return t>=i.__.length&&i.__.push({}),i.__[t]}function l(n){return o=1,p(w,n)}function p(n,r,o){var i=m(t++,2);return i.t=n,i.__c||(i.__=[o?o(r):w(void 0,r),function(n){var t=i.t(i.__[0],n);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=u),i.__}function y(r,o){var i=m(t++,3);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__H.__h.push(i))}function h(r,o){var i=m(t++,4);!n.__s&&k(i.__H,o)&&(i.__=r,i.__H=o,u.__h.push(i))}function s(n){return o=5,d(function(){return{current:n}},[])}function _(n,t,u){o=6,h(function(){\"function\"==typeof n?n(t()):n&&(n.current=t())},null==u?u:u.concat(n))}function d(n,u){var r=m(t++,7);return k(r.__H,u)&&(r.__=n(),r.__H=u,r.__h=n),r.__}function A(n,t){return o=8,d(function(){return n},t)}function F(n){var r=u.context[n.__c],o=m(t++,9);return o.__c=n,r?(null==o.__&&(o.__=!0,r.sub(u)),r.props.value):n.__}function T(t,u){n.useDebugValue&&n.useDebugValue(u?u(t):t)}function q(n){var r=m(t++,10),o=l();return r.__=n,u.componentDidCatch||(u.componentDidCatch=function(n){r.__&&r.__(n),o[1](n)}),[o[0],function(){o[1](void 0)}]}function x(){i.forEach(function(t){if(t.__P)try{t.__H.__h.forEach(g),t.__H.__h.forEach(j),t.__H.__h=[]}catch(u){t.__H.__h=[],n.__e(u,t.__v)}}),i=[]}n.__b=function(n){u=null,c&&c(n)},n.__r=function(n){f&&f(n),t=0;var r=(u=n.__c).__H;r&&(r.__h.forEach(g),r.__h.forEach(j),r.__h=[])},n.diffed=function(t){e&&e(t);var o=t.__c;o&&o.__H&&o.__H.__h.length&&(1!==i.push(o)&&r===n.requestAnimationFrame||((r=n.requestAnimationFrame)||function(n){var t,u=function(){clearTimeout(r),b&&cancelAnimationFrame(t),setTimeout(n)},r=setTimeout(u,100);b&&(t=requestAnimationFrame(u))})(x)),u=void 0},n.__c=function(t,u){u.some(function(t){try{t.__h.forEach(g),t.__h=t.__h.filter(function(n){return!n.__||j(n)})}catch(r){u.some(function(n){n.__h&&(n.__h=[])}),u=[],n.__e(r,t.__v)}}),a&&a(t,u)},n.unmount=function(t){v&&v(t);var u=t.__c;if(u&&u.__H)try{u.__H.__.forEach(g)}catch(t){n.__e(t,u.__v)}};var b=\"function\"==typeof requestAnimationFrame;function g(n){var t=u;\"function\"==typeof n.__c&&n.__c(),u=t}function j(n){var t=u;n.__c=n.__(),u=t}function k(n,t){return!n||n.length!==t.length||t.some(function(t,u){return t!==n[u]})}function w(n,t){return\"function\"==typeof t?t(n):t}export{l as useState,p as useReducer,y as useEffect,h as useLayoutEffect,s as useRef,_ as useImperativeHandle,d as useMemo,A as useCallback,F as useContext,T as useDebugValue,q as useErrorBoundary};\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CalendarioComponent } from './calendario/calendario.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'calendario', component: CalendarioComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class CalendarioRoutingModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { FullCalendarModule } from '@fullcalendar/angular';\r\n\r\nimport dayGridPlugin from '@fullcalendar/daygrid'; // a plugin\r\nimport interactionPlugin from '@fullcalendar/interaction'; // a plugin\r\nimport timeGridPlugin from '@fullcalendar/timegrid';\r\nimport bootstrapPlugin from \"@fullcalendar/bootstrap\";\r\n\r\nimport { CalendarioRoutingModule } from './calendario-routing.module';\r\nimport { CalendarioComponent } from './calendario/calendario.component';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { UIModule } from 'src/app/shared/ui/ui.module';\r\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\n\r\nFullCalendarModule.registerPlugins([ // register FullCalendar plugins\r\n  dayGridPlugin,\r\n  timeGridPlugin,\r\n  interactionPlugin,\r\n  bootstrapPlugin\r\n]);\r\n\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CalendarioComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    CalendarioRoutingModule,\r\n    FullCalendarModule,\r\n    ReactiveFormsModule,\r\n    HttpClientModule,\r\n    UIModule,\r\n    NgbModule,\r\n    FormsModule,\r\n    NgSelectModule\r\n  ]\r\n})\r\nexport class CalendarioModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { CalendarOptions, EventApi, EventClickArg, EventInput, EventSourceFunc,formatDate } from '@fullcalendar/core';\r\nimport dayGrirdPlugin from '@fullcalendar/daygrid';\r\nimport { ServicioService } from '../servicio/servicio.service';\r\nimport { UsuarioService } from 'src/app/account/auth/services/usuario.service';\r\nimport { SolicitudVv } from '../../solicitudes/Interfaces/SolicitudVv';\r\nimport { ModalSecretariaComponent } from '../../solicitud-vehiculo/components/modal-secretaria/modal-secretaria.component';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ISolicitudVehiculo } from '../../solicitud-vehiculo/interfaces/data.interface';\r\nimport { ModalComponent } from '../../solicitud-vehiculo/components/modal/modal.component';\r\nimport { Usuario } from 'src/app/account/auth/models/usuario.models';\r\n\r\n@Component({\r\n  selector: 'app-calendario',\r\n  templateUrl: './calendario.component.html',\r\n  styleUrls: ['./calendario.component.scss']\r\n})\r\nexport class CalendarioComponent implements OnInit {\r\n\r\n  breadCrumbItems: Array<{}>;\r\n  solicitud: any[] = [];\r\n  editEvent: any;\r\n  selectedData: ISolicitudVehiculo;\r\n  contador = 0;\r\n  usuario !: Usuario;\r\n\r\n  calendarOptions: CalendarOptions = {\r\n    headerToolbar: {\r\n\r\n    },\r\n    buttonText:{\r\n      today : 'Hoy'\r\n    },\r\n\r\n    initialView: 'dayGridMonth',\r\n\r\n    editable: true,\r\n    selectable: true,\r\n   // timeZone: 'UTC',\r\n    locale: 'es',              // para poner en espaol el calendario\r\n\r\n    eventClick : this.handleEventClick.bind(this),  // al dar click sobre un evento se invoca\r\n    events: this.LoadEvents.bind(this),             // para cargar los eventos que bienen del servicio\r\n\r\n  };\r\n\r\n  ngOnInit(): void {\r\n    this.breadCrumbItems = [{ label: 'Calendario' }, { label: 'Solicitud', active: true }];\r\n  }\r\n\r\n\r\n\r\n  currentEvents: EventApi[] = [];\r\n\r\n  async LoadEvents(args: EventSourceFunc): Promise<EventInput[]> { // empieza el forech\r\n\r\n        return new Promise<EventInput[]>((resolve) => {\r\n         // console.log(args.startStr);\r\n\r\n\r\n        this.soliService.getSolicitudV().subscribe(result => {\r\n          const events: EventInput[] = [];\r\n            result.forEach(function (val) {\r\n\r\n\r\n     // Fechas a objeto Date\r\n          const fechaInicio = new Date(val.fechaSalida);\r\n          const fechaFin = new Date(val.fechaEntrada);\r\n\r\n          // Aumentamos en 1 el dia de fin para que el calendario lo pinte bien\r\n          fechaFin.setDate(fechaFin.getDate() + 1);\r\n\r\n          // Convertimos las fechas a string con formato ISO para que el calendario las pinte bien\r\n          let var1 : string = fechaInicio.toISOString().split('T')[0];\r\n          let var2 : string = fechaFin.toISOString().split('T')[0];\r\n\r\n          //nombre del solicitante\r\n          const paso1 = val.solicitante.empleado.nombre;\r\n          const paso2 = paso1.split(\" \");\r\n          const nombre = paso2[0];\r\n          console.log(\"solicitante\",val.solicitante.empleado.nombre);\r\n          // switch para pintar los eventos segun el estado\r\n             switch (val.estado) {\r\n                case 1:\r\n\r\n                  events.push({\r\n                    id: val.codigoSolicitudVehiculo,\r\n                    title: nombre,\r\n                    start: var1,\r\n                    end: var2,\r\n                    className: 'bg-warning text-white'\r\n                  });\r\n                  break;\r\n                case 2:\r\n\r\n                  events.push({\r\n                    id: val.codigoSolicitudVehiculo,\r\n                    title: nombre,\r\n                    start: var1,\r\n                    end: var2,\r\n                    className: 'bg-info text-white'\r\n                  });\r\n                  break;\r\n                case 3:\r\n\r\n                  events.push({\r\n                    id: val.codigoSolicitudVehiculo,\r\n                    title: nombre,\r\n                    start: var1,\r\n                    end: var2,\r\n\r\n                    color: '#873600'\r\n                  });\r\n                  break;\r\n                case 4:\r\n\r\n                  events.push({\r\n                    id: val.codigoSolicitudVehiculo,\r\n                    title: nombre,\r\n                    start: var1,\r\n                    end: var2,\r\n                    className: 'bg-success text-white'\r\n                  });\r\n\r\n                  break;\r\n                  case 5:\r\n\r\n                    events.push({\r\n                      id: val.codigoSolicitudVehiculo,\r\n                      title: nombre,\r\n                      start: var1,\r\n                      end: var2,\r\n                      color: '#B79CED'\r\n                    });\r\n\r\n                  break;\r\n\r\n                  case 6:\r\n\r\n                    events.push({\r\n                      id: val.codigoSolicitudVehiculo,\r\n                      title: nombre,\r\n                      start: var1,\r\n                      end: var2,\r\n                      color: '#A6ACAF'\r\n\r\n                    });\r\n\r\n                  break;\r\n                  case 7:\r\n\r\n                    events.push({\r\n                      id: val.codigoSolicitudVehiculo,\r\n                      title: nombre,\r\n                      start: var1,\r\n                      end: var2,\r\n                      color: 'blue'\r\n\r\n                    });\r\n\r\n                  break;\r\n\r\n                default:\r\n\r\n                  events.push({\r\n                    id: val.codigoSolicitudVehiculo,\r\n                    title: nombre,\r\n                    start: var1,\r\n                    end: var2,\r\n                    className: 'bg-danger text-white'\r\n                  });\r\n                  break;\r\n\r\n             }\r\n\r\n              resolve(events); // almacena los eventos\r\n            }); // termina el foreach\r\n          }, error => console.error(error));\r\n        });\r\n      } // termina el metodo async\r\n\r\n    //metodo para cargar el modal\r\n  async handleEventClick(clickInfo: EventClickArg) {\r\n        this.editEvent = clickInfo.event; // obtenemos los eventos del calendario\r\n        console.log(this.editEvent.id)\r\n       const compara = this.editEvent.id; // se asigna a una variable el id del evento que tambien es el codigo de la solicitud\r\n\r\n      const dataSoli =  await this.soliService.getSolicitudV().toPromise();  // se obtinen las solicitudes\r\n          let data = dataSoli.find(x => x.codigoSolicitudVehiculo == clickInfo.event.id);  // se busca la solicitud\r\n            if (data.codigoSolicitudVehiculo == compara) {\r\n               console.log(\"lo que trajo\", data);\r\n              this.abrirModalSecre('Detalle', data);                  // se invoca al metodo para abrir el modal\r\n            }\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n\r\n       handleEvents(events: EventApi[]) {\r\n    this.currentEvents = events;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  constructor( private soliService: ServicioService, private modalService: NgbModal, private usuarioService: UsuarioService) {\r\n\r\n   }\r\n\r\n\r\n   abrirModalSecre(leyenda: string, data: any) {\r\n    this.usuario = this.usuarioService.usuario;\r\n    const selectedData = data;\r\n     //console.log(\"lo que trajo\", this.usuario);\r\n    const modalRef = this.modalService.open(ModalSecretariaComponent, {size:'xl', backdrop: 'static'});\r\n    modalRef.componentInstance.leyenda = leyenda;\r\n    modalRef.componentInstance.soliVeOd = data;\r\n    modalRef.componentInstance.usuarioActivo = this.usuario;\r\n  }\r\n\r\n}\r\n","<app-loader></app-loader>\r\n<div class=\"container-fluid\">\r\n  <app-page-title title=\"Calendarrio de solicitudes\" [breadcrumbItems]=\"breadCrumbItems\"></app-page-title>\r\n  <div class=\"row\">\r\n    <div class=\"col-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body\">\r\n          <div class=\"col-12\">\r\n            <label class=\"estados\">Estados de las solicitudes</label>\r\n            <br>\r\n            <span class=\"badge rounded-pill bg-warning\"> En espera por jefe </span>\r\n            <span class=\"badge rounded-pill bg-info\"> Aprobado por jefe </span>\r\n            <span class=\"badge rounded-pill bg-esdec\"> En espera por decano </span>\r\n            <span class=\"badge rounded-pill bg-success\"> Aprobada </span>\r\n            <span class=\"badge rounded-pill bg-purple\"> Asignado </span>\r\n            <span class=\"badge rounded-pill bg-revision\"> Revisin </span>\r\n            <span class=\"badge rounded-pill bg-prima\"> Finalizada </span>\r\n            <span class=\"badge rounded-pill bg-danger\"> Anulada </span>\r\n          </div>\r\n\r\n\r\n          <div class=\"app-calendar\">\r\n            <!-- calendar -->\r\n            <full-calendar [options]=\"calendarOptions\"></full-calendar>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n"],"names":["__assign","__spreadArray","__extends","createContext","Component","createRef","createElement","Fragment","createPortal","EventSourceApi","context","internalEventSource","prototype","remove","dispatch","type","sourceId","refetch","sourceIds","isRefetch","Object","defineProperty","get","publicId","enumerable","configurable","meta","url","format","removeElement","el","parentNode","removeChild","elementClosest","selector","closest","document","documentElement","contains","elementMatches","parentElement","nodeType","method","matches","matchesSelector","msMatchesSelector","call","findElements","container","containers","HTMLElement","allMatches","i","length","querySelectorAll","j","push","findDirectChildren","parent","parents","childNodes","children","childNode","PIXEL_PROP_RE","applyStyle","props","propName","applyStyleProp","name","val","style","test","getEventTargetViaRoot","ev","_a","_b","composedPath","target","preventDefault","buildDelegationHandler","handler","matchedChild","listenBySelector","eventType","attachedHandler","addEventListener","removeEventListener","listenToHoverBySelector","onMouseEnter","onMouseLeave","currentMatchedChild","mouseOverEv","realOnMouseLeave_1","mouseLeaveEv","transitionEventNames","whenTransitionDone","callback","realCallback","forEach","eventName","guidNumber","guid","String","disableCursor","body","classList","add","enableCursor","preventSelection","allowSelection","preventContextMenu","allowContextMenu","parseFieldSpecs","input","specs","tokens","token","split","Array","isArray","charAt","field","substring","order","func","compareByFieldSpecs","obj0","obj1","fieldSpecs","cmp","compareByFieldSpec","fieldSpec","flexibleCompare","a","b","localeCompare","padStart","len","s","substr","compareNumbers","isInt","n","computeSmallestCellWidth","cellEl","allWidthEl","querySelector","contentWidthEl","Error","getBoundingClientRect","width","DAY_IDS","addWeeks","m","dateToUtcArray","arrayToUtcDate","addDays","addMs","diffWeeks","m0","m1","diffDays","valueOf","diffHours","diffMinutes","diffSeconds","diffDayAndTime","m0day","startOfDay","m1day","years","months","days","Math","round","milliseconds","diffWholeWeeks","d","diffWholeDays","timeAsMs","getUTCFullYear","getUTCMonth","getUTCDate","startOfHour","getUTCHours","startOfMinute","getUTCMinutes","startOfSecond","getUTCSeconds","weekOfYear","marker","dow","doy","y","w","weekOfGivenYear","nextW","min","year","firstWeekStart","firstWeekOffset","dayStart","floor","fwd","fwdlw","getUTCDay","dateToLocalArray","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getMilliseconds","arrayToLocalDate","Date","getUTCMilliseconds","concat","UTC","apply","isValidDate","isNaN","createEventInstance","defId","range","forcedStartTzo","forcedEndTzo","instanceId","hasOwnProperty","mergeProps","propObjs","complexPropsMap","dest","name_1","complexObjs","unshift","undefined","name_2","filterHash","hash","filtered","key","mapHash","newHash","arrayToHash","_i","a_1","item","buildHashFromArray","tuple","hashValuesToArray","obj","isPropsEqual","getUnequalProps","keys","compareObjs","oldProps","newProps","equalityFuncs","isObjValsEqual","val0","val1","comparator","collectFromHash","startIndex","endIndex","step","res","parseRecurring","refined","defaultAllDay","dateEnv","recurringTypes","parsed","parse","allDay","allDayGuess","duration","typeData","typeId","expandRecurring","eventStore","framingRange","pluginHooks","options","defs","instances","instance","recurringDef","def","defaultAllDayEventDuration","defaultTimedEventDuration","starts","expandRecurringRanges","starts_1","start","end","eventDef","typeDef","markers","expand","subtract","map","INTERNAL_UNITS","PARSE_RE","createDuration","unit","parseString","parseObject","exec","sign","parseInt","month","day","hours","hour","minutes","minute","seconds","second","millisecond","ms","weeks","week","specifiedWeeks","durationsEqual","d0","d1","asCleanDays","dur","addDurations","subtractDurations","multiplyDuration","asRoughYears","asRoughDays","asRoughMonths","asRoughMs","asRoughMinutes","asRoughSeconds","wholeDivideDurations","numerator","denominator","localRes","greatestDurationDenominator","value","buildIsoString","timeZoneOffset","stripZeroTime","toISOString","replace","formatTimeZoneOffset","formatDayString","formatIsoTimeString","doIso","abs","mins","removeExact","array","exactVal","removeCnt","splice","isArraysEqual","a0","a1","equalityFunc","memoize","workerFunc","resEquality","teardownFunc","currentArgs","currentRes","newArgs","arguments","memoizeObjArg","_this","currentArg","newArg","memoizeArraylike","currentArgSets","currentResults","newArgSets","currentLen","newLen","memoizeHashlike","currentArgHash","currentResHash","newArgHash","newResHash","EXTENDED_SETTINGS_AND_SEVERITIES","separator","omitZeroMinute","meridiem","omitCommas","STANDARD_DATE_PROP_SEVERITIES","timeZoneName","era","weekday","MERIDIEM_RE","COMMA_RE","MULTI_SPACE_RE","LTR_RE","UTC_RE","NativeFormatter","formatSettings","standardDateProps","extendedSettings","severity","max","buildFormattingFunc","formatRange","betterDefaultSeparator","diffSeverity","computeMarkerDiffSeverity","calendarSystem","biggestUnitForPartial","full0","full1","partialDateProps","computePartialFormattingOptions","partialFormattingFunc","partial0","partial1","insertion","findCommonInsertion","defaultSeparator","before","after","getLargestUnit","standardDatePropCnt","formatWeekNumber","computeWeekNumber","weekText","locale","buildNativeFormattingFunc","sanitizeSettings","timeZone","normalFormat","Intl","DateTimeFormat","codes","zeroFormat","zeroProps","postProcess","injectTzoStr","trim","toLocaleLowerCase","tzoStr","replaced","num","display","parts","simpleNumberFormat","direction","reverse","join","ca","getMarkerYear","getMarkerMonth","getMarkerDay","biggestUnit","partialOptions","i0","found0","indexOf","before0","after0","i1","found1","before1","after1","expandZonedMarker","dateInfo","markerToArray","createVerboseFormattingArg","startInfo","endInfo","localeCodes","CmdFormatter","cmdStr","cmdFormatter","FuncFormatter","createFormatter","BASE_OPTION_REFINERS","navLinkDayClick","identity","navLinkWeekClick","bootstrapFontAwesome","buttonIcons","customButtons","nextDayThreshold","scrollTime","scrollTimeReset","Boolean","slotMinTime","slotMaxTime","dayPopoverFormat","slotDuration","snapDuration","headerToolbar","footerToolbar","defaultRangeSeparator","titleRangeSeparator","forceEventDuration","dayHeaders","dayHeaderFormat","dayHeaderClassNames","dayHeaderContent","dayHeaderDidMount","dayHeaderWillUnmount","dayCellClassNames","dayCellContent","dayCellDidMount","dayCellWillUnmount","initialView","aspectRatio","Number","weekends","weekNumberCalculation","weekNumbers","weekNumberClassNames","weekNumberContent","weekNumberDidMount","weekNumberWillUnmount","editable","viewClassNames","viewDidMount","viewWillUnmount","nowIndicator","nowIndicatorClassNames","nowIndicatorContent","nowIndicatorDidMount","nowIndicatorWillUnmount","showNonCurrentDates","lazyFetching","startParam","endParam","timeZoneParam","locales","themeSystem","dragRevertDuration","dragScroll","allDayMaintainDuration","unselectAuto","dropAccept","eventOrder","eventOrderStrict","handleWindowResize","windowResizeDelay","longPressDelay","eventDragMinDistance","expandRows","height","contentHeight","weekNumberFormat","eventResizableFromStart","displayEventTime","displayEventEnd","progressiveEventRendering","businessHours","initialDate","now","eventDataTransform","stickyHeaderDates","stickyFooterScrollbar","viewHeight","eventSourceFailure","eventSourceSuccess","eventDisplay","eventStartEditable","eventDurationEditable","eventOverlap","eventConstraint","eventAllow","eventBackgroundColor","eventBorderColor","eventTextColor","eventColor","eventClassNames","eventContent","eventDidMount","eventWillUnmount","selectConstraint","selectOverlap","selectAllow","droppable","unselectCancel","slotLabelFormat","slotLaneClassNames","slotLaneContent","slotLaneDidMount","slotLaneWillUnmount","slotLabelClassNames","slotLabelContent","slotLabelDidMount","slotLabelWillUnmount","dayMaxEvents","dayMaxEventRows","dayMinWidth","slotLabelInterval","allDayText","allDayClassNames","allDayContent","allDayDidMount","allDayWillUnmount","slotMinWidth","navLinks","eventTimeFormat","rerenderDelay","moreLinkText","selectMinDistance","selectable","selectLongPressDelay","eventLongPressDelay","selectMirror","eventMaxStack","eventMinHeight","eventMinWidth","eventShortHeight","slotEventOverlap","plugins","firstDay","dayCount","dateAlignment","dateIncrement","hiddenDays","monthMode","fixedWeekCount","validRange","visibleRange","titleFormat","noEventsText","moreLinkClick","moreLinkClassNames","moreLinkContent","moreLinkDidMount","moreLinkWillUnmount","BASE_OPTION_DEFAULTS","center","CALENDAR_LISTENER_REFINERS","datesSet","eventsSet","eventAdd","eventChange","eventRemove","windowResize","eventClick","eventMouseEnter","eventMouseLeave","select","unselect","loading","_unmount","_beforeprint","_afterprint","_noEventDrop","_noEventResize","_resize","_scrollRequest","CALENDAR_OPTION_REFINERS","buttonText","views","initialEvents","events","eventSources","COMPLEX_OPTION_COMPARATORS","isBoolComplexEqual","VIEW_OPTION_REFINERS","component","buttonTextKey","dateProfileGeneratorClass","usesMinMaxTime","classNames","content","didMount","willUnmount","mergeRawOptions","optionSets","refineProps","refiners","extra","raw","parseEvents","rawEvents","eventSource","allowOpenRange","createEmptyEventStore","eventRefiners","buildEventRefiners","rawEvents_1","rawEvent","parseEvent","eventTupleToStore","getRelevantEvents","def_1","newStore","filterEventStoreDefs","lookDef","isEventDefsGrouped","def0","def1","groupId","mergeEventStores","store0","store1","filterFunc","excludeSubEventStore","master","sub","filteredDefs","filteredInstances","normalizeConstraint","parseClassNames","EVENT_UI_REFINERS","startEditable","durationEditable","constraint","overlap","allow","className","color","backgroundColor","borderColor","textColor","EMPTY_EVENT_UI","constraints","allows","createEventUi","combineEventUis","uis","reduce","combineTwoEventUis","item0","item1","EVENT_NON_DATE_REFINERS","id","title","EVENT_DATE_REFINERS","EVENT_REFINERS","extendedProps","refineEventDef","computeIsDefaultAllDay","recurringRes","parseEventDef","singleRes","parseSingle","hasEnd","ui","eventDefMemberAdders","memberAdder","freeze","startMeta","startMarker","endMeta","endMarker","startInput","createMarkerMeta","isTimeUnspecified","forcedTzo","computeAlignedDayRange","timedRange","dayCnt","computeVisibleDayRange","startDay","endDay","endTimeMS","isMultiDayRange","diffDates","date0","date1","largeUnit","diffWholeYears","diffWholeMonths","parseRange","createMarker","invertRanges","ranges","constraintRange","invertedRanges","dateRange","sort","compareRanges","range0","range1","intersectRanges","newRange","rangesEqual","rangesIntersect","rangeContainsRange","outerRange","innerRange","rangeContainsMarker","constrainMarkerToRange","sliceEventStore","eventUiBases","inverseBgByGroupId","inverseBgByDefId","defByGroupId","bgRanges","fgRanges","eventUis","compileEventUis","origRange","normalRange","slicedRange","isStart","isEnd","invertedRanges_1","invertedRange","invertedRanges_2","bg","fg","hasBgRendering","setElSeg","seg","fcSeg","getElSeg","eventDefs","compileEventUi","sortEventSegs","segs","eventOrderSpecs","objs","buildSegCompareObj","c","_seg","eventRange","computeSegDraggable","transformers","isDraggableTransformers","transformers_1","transformer","computeSegStartResizable","computeSegEndResizable","buildSegTimeText","timeFormat","defaultDisplayEventTime","defaultDisplayEventEnd","startOverride","endOverride","eventInstance","wholeEventStart","wholeEventEnd","segStart","segEnd","isStartDay","isEndDay","getSegMeta","todayRange","nowDate","segRange","isPast","isFuture","isToday","getEventClassNames","isMirror","isDraggable","isStartResizable","isEndResizable","isDragging","isResizing","isSelected","buildEventRangeKey","STANDARD_PROPS","parseDateSpan","defaultDuration","span","parseOpenDateSpan","standardProps","isDateSpansEqual","span0","span1","isSpanPropsEqual","buildDateSpanApi","buildRangeApi","buildRangeApiWithTimeZone","omitTime","toDate","startStr","formatIso","endStr","fabricateEventRange","dateSpan","triggerDateSelect","selection","pev","emitter","trigger","buildDateSpanApiWithContext","jsEvent","origEvent","view","viewApi","calendarApi","triggerDateUnselect","dateSpanTransforms","transform","getDefaultEventEnd","applyMutationToEventStore","eventConfigBase","mutation","eventConfigs","applyMutationToEventDef","applyMutationToEventInstance","eventConfig","startDelta","endDelta","copy","eventDefMutationAppliers","applier","forceAllDay","clearEnd","datesDelta","ViewApi","getCurrentData","viewTitle","dateProfile","activeRange","currentRange","getOption","EVENT_SOURCE_REFINERS","success","failure","parseEventSource","buildEventSourceRefiners","rawObj","metaRes","buildEventSourceMeta","_raw","isFetching","latestFetchId","fetchRange","sourceDefId","eventSourceRefiners","eventSourceDefs","parseMeta","reduceCurrentDate","currentDate","action","dateMarker","getInitialDate","initialDateInput","getNow","nowInput","createNowMarker","CalendarApi","currentDataManager","batchRendering","updateSize","setOption","optionName","rawOptionValue","currentCalendarOptionsInput","getAvailableLocaleCodes","availableRawLocales","on","handlerName","currentCalendarOptionsRefiners","console","warn","off","args","changeView","viewType","dateOrRange","zoomTo","state","spec","viewSpecs","getUnitViewSpec","toolbarConfig","viewTypes","viewsWithButtons","singleUnit","prev","next","prevYear","addYears","nextYear","today","calendarOptions","gotoDate","zonedDateInput","incrementDate","deltaInput","delta","formatDate","formatter","settings","dateOrObj","endDate","selectionInput","dateSelection","addEvent","eventInput","sourceInput","EventApi","_def","_instance","currentData","triggerEventAdd","sourceApi","getEventSourceById","newEventApi","eventApi","event","relatedEvents","revert","eventApiToStore","getEventById","getEvents","buildEventApis","removeAllEvents","getEventSources","sourceHash","sourceApis","internalId","addEventSource","sources","removeAllEventSources","refetchEvents","scrollToTime","timeInput","time","_context","setProp","mutate","setExtendedProp","setStart","instanceRange","granularity","maintainDuration","setEnd","endInput","setDates","moveStart","moveEnd","moveDates","setAllDay","formatInput","context_1","eventStore_1","relevantEvents","oldEvent","asStore","toPlainObject","collapseColor","collapseExtendedProps","toJSON","excludeInstance","eventApis","excludeInstanceId","calendarSystemClassMap","registerCalendarSystem","theClass","createCalendarSystem","GregorianCalendarSystem","arrayToMarker","arr","ISO_RE","str","DateEnv","isNamedTimeZone","namedTimeZoneImpl","canComputeOffset","weekDow","weekDoy","weekNumberFunc","timestampToMarker","getYear","addMonths","greatestWholeUnit","countDurationsBetween","diff","startOf","startOfYear","startOfMonth","startOfWeek","dateOptions","offsetForMarker","isEndExclusive","extraOptions","omitTimeZoneOffset","timestampToArray","getTimezoneOffset","offsetForArray","globalLocales","RAW_EN_LOCALE","code","list","organizeRawLocales","explicitRawLocales","defaultCode","allRawLocales","rawLocaleMap","en","allRawLocales_1","rawLocale","buildLocale","inputSingular","available","parseLocale","queryLocale","codeArg","queryRawLocale","simpleId","slice","merged","NumberFormat","dateInput","buildDateEnv$1","dateMeta","DEF_DEFAULTS","startTime","endTime","daysOfWeek","parseBusinessHours","refineInputs","rawDefs","filter","rawDef","pointInsideRect","point","rect","left","right","top","bottom","intersectRects","rect1","rect2","translateRect","deltaX","deltaY","constrainPoint","getRectCenter","diffPoints","point1","point2","canVGrowWithinCell","getCanVGrowWithinCell","computeCanVGrowWithinCell","position","innerHTML","appendChild","div","possible","offsetHeight","EMPTY_EVENT_STORE","Splitter","getKeysForEventDefs","_getKeysForEventDefs","splitDateSelection","_splitDateSpan","splitEventStore","_splitEventStore","splitIndividualUi","_splitIndividualUi","splitEventDrag","_splitInteraction","splitEventResize","eventUiBuilders","splitProps","keyInfos","getKeyInfo","defKeys","dateSelections","individualUi","eventStores","eventDrags","eventDrag","eventResizes","eventResize","info","buildEventUiForKey","keyInfo","buildEventUi","eventSelection","dateSpans","getKeysForDateSpan","keys_1","getKeysForEventDef","splitStores","_c","splitHashes","interaction","splitStates","affectedStores_1","affectedEvents","mutatedKeysByDefId","mutatedEvents","mutatedStores_1","populate","isEvent","allUi","eventUiForKey","baseParts","stuff","getDateMeta","isDisabled","isOther","getDayClassNames","theme","getClass","getSlotClassNames","buildNavLinkData","JSON","stringify","_isRtlScrollbarOnLeft","getIsRtlScrollbarOnLeft","computeIsRtlScrollbarOnLeft","outerEl","border","padding","overflow","innerEl","firstChild","_scrollbarWidths","getScrollbarWidths","computeScrollbarWidths","computeScrollbarWidthsForEl","x","clientHeight","offsetWidth","clientWidth","computeEdges","getPadding","computedStyle","window","getComputedStyle","borderLeft","borderLeftWidth","borderRight","borderRightWidth","borderTop","borderTopWidth","borderBottom","borderBottomWidth","badScrollbarWidths","scrollbarLeftRight","scrollbarBottom","scrollbarLeft","scrollbarRight","paddingLeft","paddingRight","paddingTop","paddingBottom","computeInnerRect","goWithinPadding","doFromWindowViewport","outerRect","computeRect","edges","pageXOffset","pageYOffset","computeClippedClientRect","clippingParents","getClippingParents","clippingParents_1","clippingParent","intersection","computeHeightAndMargins","computeVMargins","computed","marginTop","marginBottom","overflowY","overflowX","unpromisify","isResolved","wrappedSuccess","wrappedFailure","then","Emitter","handlers","thisContext","setThisContext","setOptions","addToHash","removeFromHash","attachedHandlers","optionHandler","handlers_1","hasHandlers","PositionCache","originEl","els","isHorizontal","isVertical","originClientRect","buildElHorizontals","buildElVerticals","originClientLeft","lefts","rights","originClientTop","tops","bottoms","leftToIndex","leftPosition","topToIndex","topPosition","getWidth","leftIndex","getHeight","topIndex","ScrollController","getMaxScrollTop","getScrollHeight","getClientHeight","getMaxScrollLeft","getScrollWidth","getClientWidth","canScrollVertically","canScrollHorizontally","canScrollUp","getScrollTop","canScrollDown","canScrollLeft","getScrollLeft","canScrollRight","ElementScrollController","_super","scrollTop","scrollLeft","setScrollTop","setScrollLeft","scrollWidth","scrollHeight","WindowScrollController","scroll","Theme","iconOverrideOption","setIconOverride","iconOverrideHash","iconClassesCopy","buttonName","iconClasses","applyIconOverridePrefix","prefix","iconOverridePrefix","classes","getIconClass","isRtl","rtlIconClasses","baseIconClass","getCustomButtonIconClass","customButtonProps","iconOverrideCustomButtonOption","ScrollResponder","execFunc","handleScrollRequest","request","queuedRequest","drain","fireInitialScroll","detach","update","isDatesNew","ViewContextType","buildViewContext","viewSpec","viewOptions","dateProfileGenerator","registerInteractiveComponent","unregisterInteractiveComponent","addResizeHandler","removeResizeHandler","createScrollResponder","PureComponent","shouldComponentUpdate","nextProps","nextState","debug","log","propEquality","stateEquality","addPropsEquality","addStateEquality","contextType","BaseComponent","create","setRef","ref","current","DateComponent","uid","prepareHits","queryHit","positionLeft","positionTop","elWidth","elHeight","isValidSegDownEl","isValidDateDownEl","createPlugin","deps","reducers","isLoadingFuncs","contextInit","eventDragMutationMassagers","dateSelectionTransformers","datePointTransforms","viewPropsTransformers","isPropsValid","externalDefTransforms","viewContainerAppends","eventDropTransformers","componentInteractions","calendarInteractions","themeClasses","namedTimeZonedImpl","elementDraggingImpl","optionChangeHandlers","scrollGridImpl","contentTypeHandlers","listenerRefiners","optionRefiners","propSetHandlers","buildPluginHooks","pluginDefs","globalDefs","isAdded","hooks","addDefs","defs_1","combineHooks","buildBuildPluginHooks","currentOverrideDefs","currentGlobalDefs","currentHooks","overrideDefs","hooks0","hooks1","StandardTheme","root","tableCellShaded","buttonGroup","button","buttonActive","close","compileViewDefs","defaultConfigs","overrideConfigs","ensureViewDef","viewDef","buildViewDef","defaultConfig","overrideConfig","queryProp","theComponent","superType","superDef","defaults","rawOptions","overrides","RenderHook","rootElRef","handleRootEl","elRef","render","hookProps","MountHook","ContentHook","defaultContent","backupElRef","innerElRef","innerContent","normalizeClassNames","CustomContentRenderContext","Consumer","renderId","ContentHookInner","renderInnerContent","componentDidMount","updateCustomContent","componentDidUpdate","componentWillUnmount","customContentInfo","destroy","rawVal","normalizeContent","innerContentVDom","contentVal","contentKey","rootEl","buildClassNameNormalizer","currentGenerator","currentHookProps","currentClassNames","generator","ViewRoot","customClassNames","parseViewConfigs","inputs","parseViewConfig","createViewHookComponent","viewProps","viewElRef","buildViewSpecs","defaultInputs","optionOverrides","dynamicOptionOverrides","localeDefaults","viewDefs","buildViewSpec","durationInput","durationUnit","singleUnitOverrides","createDurationCached","denom","queryButtonText","optionsSubset","buttonTextMap","optionDefaults","buttonTextOverride","buttonTextDefault","durationInputMap","json","DateProfileGenerator","initHiddenDays","buildPrev","currentDateProfile","forceToValid","prevDate","currentRangeUnit","build","buildNext","nextDate","currentInfo","isRangeAllDay","renderRange","isValid","buildValidRange","trimHiddenDays","buildCurrentRangeInfo","buildRenderRange","adjustActiveRange","buildDateIncrement","validRangeInput","simpleInput","refineRange","buildRangeFromDuration","buildRangeFromDayCount","buildCustomVisibleRange","getFallbackDuration","isHiddenDay","skipHiddenDays","computeRes","runningCount","visibleRangeInput","fallback","customAlignment","rangeInput","isHiddenDayHash","inc","isExclusive","reduceViewType","reduceDynamicOptionOverrides","reduceDateProfile","dp","initEventSources","addSources","parseInitialSources","reduceEventSources","removeSource","fetchDirtySources","fetchSourcesByIds","excludeStaticSources","receiveResponse","fetchId","reduceEventSourcesNewTimeZone","computeEventSourcesLoading","eventSourceHash","sources_1","source","isSourceDirty","doesSourceNeedRange","prevSources","sourceIdHash","nextSources","fetchSource","sourceDef","fetch","xhr","error","message","rawSources","rawSources_1","rawSource","ignoreRange","reduceEventStore","receiveRawEvents","excludeEventsBySourceId","subset","transformRawEvents","calEachTransform","sourceEachTransform","transformEachRawEvent","refinedEvents","refinedEvent","expandRange","rezoneEventStoreDates","oldDateEnv","newDateEnv","excludeInstances","removals","reduceDateSelection","currentSelection","reduceSelectedEvent","currentInstanceId","eventInstanceId","reduceEventDrag","currentDrag","newDrag","reduceEventResize","currentResize","newResize","parseToolbars","calendarOptionOverrides","parseToolbar","sectionStrHash","sectionStr","parseSection","calendarCustomButtons","calendarButtonTextOverrides","calendarButtonText","sectionSubstrs","buttonGroupStr","buttonClick","buttonIcon","click","text","eventSourceDef$2","arg","arrayEventSourcePlugin","eventSourceDef$1","bind","funcEventSourcePlugin","requestJson","params","successCallback","failureCallback","toUpperCase","injectQueryStringParams","encodeParams","XMLHttpRequest","open","setRequestHeader","onload","status","responseText","err","onerror","send","encodeURIComponent","JSON_FEED_EVENT_SOURCE_REFINERS","extraParams","eventSourceDef","requestParams","buildRequestParams","errorMessage","jsonFeedEventSourcePlugin","customRequestParams","SIMPLE_RECURRING_REFINERS","startRecur","endRecur","recurring","recurringData","clippedFramingRange","expandRanges","simpleRecurringEventsPlugin","dowHash","dayMarker","instanceStarts","instanceStart","changeHandlerPlugin","handleEventSources","unfoundSources","newInputs","inputs_1","inputFound","unfoundSources_1","unfoundSource","newInputs_1","newInput","handleDateProfile","handleEventStore","globalPlugins","html","injectHtml","domNodes","injectDomNodes","oldNodes","newNodes","newNodes_1","newNode","DelayedRunner","drainedOption","isRunning","isDirty","pauseDepths","timeoutId","delay","isPaused","clearTimeout","tryDrain","setTimeout","pause","scope","resume","force","depth","drained","clear","TaskRunner","runTaskOption","queue","delayedRunner","task","completedTasks","shift","runTask","buildTitle","buildTitleFormat","CalendarDataManager","computeOptionsData","_computeOptionsData","computeCurrentViewData","_computeCurrentViewData","buildDateEnv","buildTheme","buildDateProfileGenerator","buildViewApi","buildViewUiProps","buildEventUiBySource","buildEventUiBases","parseContextBusinessHours","actionRunner","_handleAction","updateData","currentCalendarOptionsRefined","currentViewOptionsInput","currentViewOptionsRefined","data","optionsData","currentViewType","currentViewData","calendarContext","initialState","renderableEventStore","selectionConfig","contextAndState","reducer","computeIsLoading","resetOptions","append","isEventsLoading","eventUiSingleBase","eventUiBySource","newState","wasLoading","isLoading","onAction","oldData","changeHandlers","oldCalendarOptions","newCalendarOptions","onData","processRawCalendarOptions","refinedOptions","availableLocaleData","warnUnknownOptions","currentRaw","currentRefined","anyChanges","processRawViewOptions","explicitLocale","ThemeClass","DateProfileGeneratorClass","isLoadingFunc","viewName","CalendarDataProvider","handleData","dataManager","setState","prevProps","newOptionOverrides","sliceEvents","NamedTimeZoneImpl","SegHierarchy","strictOrder","allowReslicing","maxCoord","maxStackCnt","levelCoords","entriesByLevel","stackCnts","addSegs","hiddenEntries","insertEntry","entry","findInsertion","isInsertionValid","insertEntryAt","handleInvalidInsertion","levelCoord","thickness","stackCnt","touchingEntry","splitEntry","barrier","partCnt","splitHiddenEntries","entrySpan","barrierSpan","index","intersectSpans","destLevel","level","insertAt","lateralEnd","buildEntryKey","newEntry","levelCnt","resLevelCoord","resLevel","lateralStart","touchingLevel","entries","searchRes","binarySearch","getEntrySpanEnd","toRects","rects","entries_1","groupIntersectingEntries","merges","entries_2","filteredMerges","hungryMerge","merges_1","merge","joinSpans","searchVal","getItemVal","middleIndex","middleVal","Interaction","isHitComboAllowed","parseInteractionSettings","useEventCenter","interactionSettingsToStore","interactionSettingsStore","ElementDragging","setMirrorIsVisible","bool","setMirrorNeedsRevert","setAutoScrollEnabled","config","DRAG_META_REFINERS","parseDragMeta","leftoverProps","ToolbarSection","widgetGroups","widgetGroup","renderWidgetGroup","isOnlyButtons","widgetGroup_1","widget","ariaAttrs","buttonClasses","activeButton","isTodayEnabled","isPrevEnabled","isNextEnabled","disabled","onClick","groupClassName","Toolbar","model","extraClassName","forceLtr","startContent","endContent","centerContent","renderSection","ViewContainer","availableWidth","handleEl","updateAvailableWidth","handleResize","liquid","EventClicking","handleSegClick","segEl","hasUrlContainer","href","defaultPrevented","location","EventHovering","handleEventElRemove","currentSegEl","handleSegLeave","handleSegEnter","triggerEvent","removeHoverListeners","publicEvName","CalendarContent","buildViewPropTransformers","buildToolbarProps","handleNavLinkClick","_handleNavLinkClick","headerRef","footerRef","interactionsStore","settingsInput","DEFAULT_INTERACTIONS","interactionClasses","interactions","TheInteractionClass","listener","resizeRunner","toolbarProps","viewVGrow","viewAspectRatio","isHeightAuto","forPrint","viewContext","Provider","renderView","buildAppendContent","CalendarInteractionClass","anchorEl","navLinkOptions","getAttribute","customAction","ViewComponent","todayInfo","prevInfo","nextInfo","theClasses","TheClass","CalendarRoot","handleBeforePrint","handleAfterPrint","computeFallbackHeaderFormat","datesRepDistinctDays","CLASS_NAME","renderInner$1","TableDateCell","dayMeta","navLinkAttrs","colCnt","tabIndex","extraHookProps","colSpan","extraDataAttrs","isSticky","TableDowCell","extraClassNames","NowTimer","initialNowDate","initialNowQueriedMs","computeTiming","currentState","unroundedNow","currentUnitStart","nextUnitStart","waitMs","buildDayRange","DayHeader","createDayHeaderFormatter","dates","renderIntro","explicitFormat","dateCnt","DaySeriesModel","indices","dayIndex","cnt","sliceRange","firstIndex","getDateDayIndex","lastIndex","clippedFirstIndex","clippedLastIndex","ceil","dayOffset","DayTableModel","daySeries","breakOnWeeks","daysPerRow","rowCnt","cells","buildCells","headerDates","buildHeaderDates","rows","row","col","buildCell","seriesSeg","nextIndex","firstCol","lastCol","Slicer","sliceBusinessHours","_sliceBusinessHours","sliceDateSelection","_sliceDateSpan","_sliceEventStore","sliceEventDrag","_sliceInteraction","sliceEventResize","forceDayIfListItem","sliceProps","extraArgs","eventSegs","dateSelectionSegs","businessHourSegs","fgEventSegs","bgEventSegs","sliceNowDate","computeActiveRange","rangeRes","sliceEventRanges","affectedInstances","segs_1","eventRanges","eventRanges_1","sliceEventRange","segs_2","isComponentAllDay","isInteractionValid","isNewPropsValid","isDateSelectionValid","calendarState","dateSpanMeta","filterConfig","isInteractionPropsValid","isDateSelectionPropsValid","subjectEventStore","subjectDefs","subjectInstances","subjectConfigs","otherEventStore","otherDefs","otherInstances","otherConfigs","subjectInstanceId","subjectInstance","subjectRange","subjectConfig","subjectDef","allConstraintsPass","eventOverlapFunc","otherInstanceId","otherInstance","otherOverlap","calendarEventStore","subjectAllow","subjectDateSpan","origDef","origInstance","relevantEventStore","relevantDefs","relevantInstances","selectionRange","selectOverlapFunc","relevantInstanceId","relevantInstance","selectionAllow","fullDateSpan","businessHoursUnexpanded","constraints_1","anyRangesContainRange","constraintToRanges","eventStoreToRanges","outerRanges","outerRanges_1","VISIBLE_HIDDEN_RE","Scroller","liquidIsAbsolute","isAbsolute","overcomeLeft","overcomeRight","overcomeBottom","marginLeft","marginRight","maxHeight","needsXScrolling","realClientWidth","getYScrollbarWidth","childEl","needsYScrolling","realClientHeight","getXScrollbarWidth","RefMap","masterCallback","currentMap","depths","callbackMap","handleValue","removed","added","refCallback","collect","getAll","computeShrinkWidth","chunkEls","shrinkCells","largestWidth","shrinkCells_1","shrinkCell","getSectionHasLiquidHeight","sectionConfig","getAllowYScrolling","renderChunkContent","chunkConfig","tableClassName","syncRowHeights","minWidth","tableMinWidth","tableColGroupNode","rowContent","isColPropsEqual","cols0","cols1","renderMicroColGroup","cols","shrinkWidth","colNodes","cols_1","colProps","sanitizeShrinkWidth","hasShrinkWidth","cols_2","getScrollGridClassNames","getSectionClassNames","wholeTableVGrow","renderScrollShim","getStickyHeaderDates","getStickyFooterScrollbar","SimpleScrollGrid","processCols","scrollerRefs","scrollerElRefs","_handleScrollerEl","forceYScrollbars","scrollerClientWidths","scrollerClientHeights","handleSizing","computeScrollerDims","sectionConfigs","sections","microColGroupNode","collapsibleWidth","configCnt","configI","currentConfig","headSectionNodes","bodySectionNodes","footSectionNodes","isBuggy","outerContent","renderChunkTd","chunk","isLiquid","sectionKey","rowSyncHeights","reportRowHeightChange","scrollerEl","section","getSectionByKey","scrollerElRef","scrollbarWidth","scroller","harnessEl","sections_1","EventRoot","timeText","disableDragging","disableResizing","isDateSelecting","standardClassNames","StandardEvent","defaultTimeFormat","renderInnerContent$1","getSegAnchorAttrs","innerProps","NowIndicatorRoot","isAxis","DAY_NUM_FORMAT","DayCellContent","refineDayCellHookProps","showDayNumber","extraProps","dayNumberText","DayCellRoot","refineHookProps","dataAttrs","renderFill","fillType","BgEvent","WeekNumberRoot","defaultFormat","renderInner","PADDING_FROM_VIEWPORT","Popover","handleDocumentMousedown","handleCloseClick","onClose","extraAttrs","parentEl","alignmentEl","alignGridTop","alignmentRect","popoverDims","popoverTop","popoverLeft","origin_1","offsetParent","MorePopover","startDate","dayClassNames","extraDateSpan","dayEl","layer","MoreLinkRoot","linkElRef","isPopoverOpen","handleClick","computeRange","buildPublicSeg","allDayDate","allSegs","hiddenSegs","handlePopoverClose","moreCnt","shortText","renderMoreLinkInner","alignmentElRef","popoverContent","updateParentEl","computeEarliestSegStart","computeLatestSegEnd","pickEarliestStart","seg0","seg1","pickLatestEnd","version","parseMarker","touchMouseIgnoreWait","ignoreMouseDepth","listenerCnt","isWindowTouchMoveCancelled","PointerDragging","containerEl","subjectEl","handleSelector","shouldIgnoreMove","shouldWatchScroll","isTouchDragging","wasTouchScroll","handleMouseDown","shouldIgnoreMouse","isPrimaryMouseButton","tryStart","createEventFromMouse","initScrollWatch","handleMouseMove","handleMouseUp","recordCoords","cleanup","handleTouchStart","createEventFromTouch","targetEl","handleTouchMove","handleTouchEnd","handleTouchScroll","startIgnoringMouse","handleScroll","pageX","prevScrollX","prevPageX","pageY","prevScrollY","prevPageY","isTouch","origPageX","origPageY","passive","listenerCreated","listenerDestroyed","querySubjectEl","downEl","destroyScrollWatch","cancelTouchScroll","isFirst","touches","ctrlKey","onWindowTouchMove","ElementMirror","isVisible","sourceEl","mirrorEl","sourceElRect","zIndex","revertDuration","origScreenX","origScreenY","updateElPosition","handleMove","setIsVisible","stop","needsRevertAnimation","done","doRevertAnimation","finalSourceElRect","transition","getMirrorEl","cloneNode","visibility","boxSizing","margin","ScrollGeomCache","scrollController","doesListening","handleScrollChange","origScrollTop","origScrollLeft","clientRect","computeClientRect","getEventTarget","ElementScrollGeomCache","WindowScrollGeomCache","getTime","performance","AutoScroller","isEnabled","scrollQuery","edgeThreshold","maxVelocity","pointerScreenX","pointerScreenY","isAnimating","scrollCaches","everMovedUp","everMovedDown","everMovedLeft","everMovedRight","animate","edge","computeBestEdge","handleSide","msSinceRequest","requestAnimation","buildCaches","yDelta","xDelta","scrollCache","requestAnimationFrame","invDistance","distance","velocity","bestSide","leftDist","rightDist","topDist","bottomDist","queryScrollEls","query","FeaturefulElementDragging","minDistance","touchScrollAllowed","mirrorNeedsRevert","isInteracting","isDelayEnded","isDistanceSurpassed","delayTimeoutId","onPointerDown","pointer","mirror","startDelay","handleDistanceSurpassed","onPointerMove","distanceSq","autoScroller","onPointerUp","tryStopDrag","handleDelayEnd","tryStartDrag","stopDrag","setIgnoreMove","OffsetTracker","origRect","scrollEl","computeLeft","computeTop","isWithinClipping","isIgnoredClipping","node","tagName","HitDragging","dragging","droppableStore","useSubjectCenter","requireInitial","initialHit","movingHit","finalHit","handlePointerDown","processFirstCoord","handleDragStart","handleDragMove","handlePointerUp","releaseHits","handleDragEnd","origPoint","adjustedPoint","subjectRect","queryHitForOffset","slicedSubjectRect","coordAdjust","forceHandle","hit","isHitsEqual","offsetTrackers","interactionSettings","offsetLeft","offsetTop","bestHit","offsetTracker","originLeft","originTop","componentId","hit0","hit1","buildDatePointApiWithContext","buildDatePointApi","dateStr","DateClicking","hitDragging","DateSelecting","dragSelection","canSelect","getComponentTouchDelay$1","handleHitUpdate","isFinal","isInvalid","disallowed","joinHitsIntoSelection","dateSpan0","dateSpan1","dateSelectionTransformers_1","EventDragging","subjectSeg","receivingContext","validMutation","mutatedRelevantEvents","origTarget","initialContext","getComponentTouchDelay","fixedMirrorParent","receivingOptions","computeEventMutation","displayDrag","initialContext_1","receivingContext_1","relevantEvents_1","mutatedRelevantEvents_1","clearDrag","updatedEventApi","eventChangeArg","transformed","eventRemoveArg","draggedEl","addedEventDef","addedEventInstance","addedEventApi","eventAddArg","SELECTOR","nextContext","prevContext","initialCalendar","massagers","massagers_1","massager","EventResizing","draggingSegEl","draggingSeg","querySegEl","computeMutation","isFromStart","UnselectAuto","isRecentPointerDateSelect","matchesCancel","matchesEvent","onSelect","selectInfo","onDocumentPointerDown","onDocumentPointerUp","documentPointer","OPTION_REFINERS","LISTENER_REFINERS","dateClick","eventDragStart","eventDragStop","eventDrop","eventResizeStart","eventResizeStop","drop","eventReceive","eventLeave","ExternalElementDragging","suppliedDragMeta","droppableEvent","dragMeta","buildDragMeta","canDropElOnCalendar","computeEventForDateSpan","finalView","addingEvents_1","getDragMetaFromEl","defProps","getEmbeddedElData","dataAttrPrefix","prefixedName","ExternalDraggable","itemSelector","appendTo","eventData","InferredElementDragging","mirrorSelector","currentMirrorEl","handlePointerMove","ThirdPartyDraggable","containerOrSettings","Element","main","Draggable"],"sourceRoot":"webpack:///"}