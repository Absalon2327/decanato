"use strict";var it=Object.defineProperty,at=Object.defineProperties,rt=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,st=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable,tt=(M,_,s)=>_ in M?it(M,_,{enumerable:!0,configurable:!0,writable:!0,value:s}):M[_]=s,et=(M,_)=>{for(var s in _||(_={}))st.call(_,s)&&tt(M,s,_[s]);if(G)for(var s of G(_))lt.call(_,s)&&tt(M,s,_[s]);return M},ot=(M,_)=>at(M,rt(_));(self.webpackChunkskote=self.webpackChunkskote||[]).push([[938],{43938:(M,_,s)=>{s.r(_),s.d(_,{EntradasalidaModule:()=>F});var t=s(86019),C=s(56225),q=s(84324),Z=s(83668);const T=[{path:"listar",component:q.q}];let A=(()=>{class S{}return S.\u0275fac=function(I){return new(I||S)},S.\u0275mod=Z.oAB({type:S}),S.\u0275inj=Z.cJS({imports:[[C.Bz.forChild(T)],C.Bz]}),S})();var u=s(49133),c=s(44522),p=s(27522),g=s(63091),h=s(75396),O=s(36528),U=s(20154),D=s(60841),P=s(98816),N=s(65337);let F=(()=>{class S{}return S.\u0275fac=function(I){return new(I||S)},S.\u0275mod=Z.oAB({type:S}),S.\u0275inj=Z.cJS({providers:[N.g],imports:[[t.ez,A,u.UX,c.JF,p.Rq,g.v,u.u5,h.X,O.m9,U.bz,D.JX,P.h]]}),S})()},84324:(M,_,s)=>{s.d(_,{q:()=>X});var t=s(83668),C=s(65337),q=s(11950),Z=s(86019),T=s(49133),A=s(1659),u=s.n(A);class c{constructor(f,e,i,l,m,x,E){this.tipo=f,this.fecha=e,this.hora=i,this.combustible=l,this.kilometraje=m,this.estado=x,this.solicitudvehiculo=E}}class p{constructor(f,e){this.codigoSolicitudVehiculo=f,this.fechaEntrada=e}}var g=s(20154),h=s(66548),O=s(56225),U=s(15501);function D(a,f){if(1&a){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"div",4),t.TgZ(2,"button",5),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(),m=t.MAs(5);return l.openModal(m)}),t._uU(3),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.titulo)}}function P(a,f){if(1&a){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"div",4),t.TgZ(2,"button",6),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(),m=t.MAs(5);return l.openModal(m)}),t._uU(3),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();t.xp6(3),t.Oqu(e.titulo)}}function N(a,f){if(1&a){const e=t.EpF();t.TgZ(0,"span"),t.TgZ(1,"button",7),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(),m=t.MAs(5);return l.openModal(m)}),t._UZ(2,"i",8),t.qZA(),t.qZA()}}function F(a,f){if(1&a){const e=t.EpF();t.TgZ(0,"i",44),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).restaurarAlerts()}),t.qZA()}}function S(a,f){if(1&a){const e=t.EpF();t.TgZ(0,"div",41),t.YNc(1,F,1,0,"i",42),t.TgZ(2,"button",43),t.NdJ("click",function(){return t.CHM(e),t.oxw().$implicit.dismiss("Cross click")}),t.qZA(),t.qZA()}if(2&a){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.siMuestraAlertas())}}function j(a,f){if(1&a){const e=t.EpF();t.TgZ(0,"div",46),t.TgZ(1,"strong"),t._uU(2,"Importante!"),t.qZA(),t.TgZ(3,"div",47),t._uU(4),t.qZA(),t.TgZ(5,"button",48),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(2).CambiarAlert(l)}),t.qZA(),t.qZA()}if(2&a){const e=t.oxw().$implicit;t.Gre("alert alert-",e.type," alert-dismissible fade show"),t.xp6(4),t.Oqu(e.message)}}function I(a,f){if(1&a&&(t.TgZ(0,"div"),t.YNc(1,j,6,4,"div",45),t.qZA()),2&a){const e=f.$implicit;t.xp6(1),t.Q6J("ngIf",e.show)}}function H(a,f){1&a&&(t.TgZ(0,"span"),t._uU(1,"Requiere un fecha"),t.qZA())}function $(a,f){1&a&&(t.TgZ(0,"span"),t._uU(1,"Requiere una hora"),t.qZA())}function W(a,f){1&a&&(t.TgZ(0,"span"),t._uU(1,"Requiere datos en el campo"),t.qZA())}function L(a,f){1&a&&(t.TgZ(0,"span"),t._uU(1,"Requiere datos en el campo"),t.qZA())}function Y(a,f){if(1&a){const e=t.EpF();t.TgZ(0,"div",9),t.TgZ(1,"h5",10),t._uU(2),t.qZA(),t.YNc(3,S,3,1,"div",11),t.qZA(),t.TgZ(4,"div",12),t.YNc(5,I,2,1,"div",13),t.TgZ(6,"form",14),t.NdJ("ngSubmit",function(){return t.CHM(e),t.oxw().guardar()}),t.TgZ(7,"div",15),t.TgZ(8,"div",16),t.TgZ(9,"div",17),t.TgZ(10,"label"),t._uU(11,"Misi\xf3n"),t.qZA(),t.TgZ(12,"span",18),t._uU(13," *"),t.qZA(),t.TgZ(14,"select",19),t.TgZ(15,"option",20),t._uU(16),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(17,"div",15),t.TgZ(18,"div",21),t.TgZ(19,"div",17),t.TgZ(20,"label"),t._uU(21,"Fecha"),t.qZA(),t.TgZ(22,"span",18),t._uU(23," *"),t.qZA(),t.TgZ(24,"input",22),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().fechaActual=l}),t.qZA(),t.TgZ(25,"div",23),t.YNc(26,H,2,0,"span",0),t.qZA(),t.qZA(),t.qZA(),t.TgZ(27,"div",21),t.TgZ(28,"div",17),t.TgZ(29,"label"),t._uU(30,"Hora"),t.qZA(),t.TgZ(31,"span",18),t._uU(32," *"),t.qZA(),t.TgZ(33,"input",24),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().horaActual=l}),t.qZA(),t.TgZ(34,"div",23),t.YNc(35,$,2,0,"span",0),t.qZA(),t.qZA(),t.qZA(),t.TgZ(36,"div",16),t.TgZ(37,"div",17),t.TgZ(38,"label"),t._uU(39,"Kilometraje"),t.qZA(),t.TgZ(40,"span",18),t._uU(41," *"),t.qZA(),t.TgZ(42,"input",25),t.NdJ("keypress",function(l){return t.CHM(e),t.oxw().OnlyNumbersAllowed(l)}),t.qZA(),t.TgZ(43,"div",23),t.YNc(44,W,2,0,"span",0),t.qZA(),t.qZA(),t.qZA(),t.TgZ(45,"div",16),t.TgZ(46,"div",17),t.TgZ(47,"label"),t._uU(48,"Combustible"),t.qZA(),t.TgZ(49,"span",18),t._uU(50," *"),t.qZA(),t.TgZ(51,"select",26),t.TgZ(52,"option",27),t._uU(53,"Seleccione la opci\xf3n correspondiente"),t.qZA(),t.TgZ(54,"option",28),t._uU(55,"Un tanque"),t.qZA(),t.TgZ(56,"option",29),t._uU(57,"Mas de tres cuarto de tanque"),t.qZA(),t.TgZ(58,"option",30),t._uU(59,"Tres cuarto de tanque"),t.qZA(),t.TgZ(60,"option",31),t._uU(61,"Menos de tres cuarto de tanque"),t.qZA(),t.TgZ(62,"option",32),t._uU(63,"Mas de medio tanque"),t.qZA(),t.TgZ(64,"option",33),t._uU(65,"Medio tanque"),t.qZA(),t.TgZ(66,"option",34),t._uU(67,"Menos de medio tanque"),t.qZA(),t.TgZ(68,"option",35),t._uU(69,"Mas de un cuarto de tanque"),t.qZA(),t.TgZ(70,"option",36),t._uU(71,"Un cuarto de tanque"),t.qZA(),t.TgZ(72,"option",37),t._uU(73,"Menos de un cuarto de tanque"),t.qZA(),t.qZA(),t.TgZ(74,"div",23),t.YNc(75,L,2,0,"span",0),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(76,"div",38),t.TgZ(77,"button",39),t._uU(78),t.qZA(),t.TgZ(79,"button",40),t.NdJ("click",function(){return t.CHM(e).$implicit.dismiss("Cross click")}),t._uU(80," Cancelar "),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&a){const e=t.oxw();let i,l,m,x;t.xp6(2),t.hij("Registro de ",e.leyendas," "),t.xp6(1),t.Q6J("ngIf",e.alerts),t.xp6(2),t.Q6J("ngForOf",e.alerts),t.xp6(1),t.Q6J("formGroup",e.formBuilder),t.xp6(8),t.Tol(e.esCampoValido("solicitudvehiculo")),t.Q6J("ngModel",e.objetivoMision.codigoSolicitudVehiculo),t.xp6(1),t.Q6J("value",e.objetivoMision.codigoSolicitudVehiculo),t.xp6(1),t.Oqu(e.objetivoMision.objetivoMision),t.xp6(8),t.Tol(e.esCampoValido("fecha")),t.Q6J("ngModel",e.fechaActual),t.xp6(2),t.Q6J("ngIf",null==(i=e.formBuilder.get("fecha"))||null==i.errors?null:i.errors.required),t.xp6(7),t.Tol(e.esCampoValido("hora")),t.Q6J("ngModel",e.horaActual),t.xp6(2),t.Q6J("ngIf",null==(l=e.formBuilder.get("hora"))||null==l.errors?null:l.errors.required),t.xp6(7),t.Tol(e.esCampoValido("kilometraje")),t.xp6(2),t.Q6J("ngIf",null==(m=e.formBuilder.get("kilometraje"))||null==m.errors?null:m.errors.required),t.xp6(7),t.Tol(e.esCampoValido("combustible")),t.Q6J("ngModel",null!=e.entradasalidaOd?e.entradasalidaOd.combustible:""),t.xp6(24),t.Q6J("ngIf",null==(x=e.formBuilder.get("combustible"))||null==x.errors?null:x.errors.required),t.xp6(3),t.hij(" ","Editar"!==e.titulo?"Guardar":"Modificar"," ")}}let K=(()=>{class a{constructor(e,i,l,m,x,E){this.modalService=e,this.mensajesService=i,this.fb=l,this.router=m,this.listaentradasalidaservice=x,this.usuarios=E,this.fechaSalida="",this.entradasalidas=[],this.modoEdicion=!1,this.kilometrajeAnterior=0,this.alerts=[{id:9,type:"info",message:" Por favor, aseg\xfarese de completar todos los campos obligatorios (*) y de cumplir con los formatos correspondientes. Adem\xe1s, le recomendamos prestar atenci\xf3n a los mensajes de alerta",show:!1}]}ngOnInit(){this.formBuilder=this.Iniciarformulario(),this.fechaActual||(this.fechaActual=this.getCurrentDate()),this.horaActual||(this.horaActual=this.getCurrentTime()),this.listaentradasalidaservice.getMisiones()}getCurrentDate(){const e=new Date;return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}-${e.getDate().toString().padStart(2,"0")}`}getCurrentTime(){const e=new Date;return`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}`}Iniciarformulario(){return this.fb.group({id:[""],fecha:["",[T.kI.required]],hora:["",[T.kI.required]],kilometraje:["",[T.kI.required]],combustible:["",[T.kI.required]],solicitudvehiculo:["",[T.kI.required]]})}getToday(){return new Date}maxDateValidator(){return e=>new Date(e.value)<=this.getToday()?{max:!0}:null}OnlyNumbersAllowed(e){const i=e.which?e.which:e.keyCode,l=e.target.value,m=l.indexOf(".");return i>=48&&i<=57?!(-1!==m&&l.substr(m+1).length>=2&&(console.log("M\xe1ximo dos decimales permitidos"),1)):46===i&&-1===m||(console.log("charCode restricted is "+i),!1)}openModal(e){this.modalService.open(e,{size:"lx",centered:!0})}editando(){this.listaentradasalidaservice.putEmpleado(this.formBuilder.value).subscribe(i=>{i&&(u().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,didOpen:m=>{m.addEventListener("mouseenter",u().stopTimer),m.addEventListener("mouseleave",u().resumeTimer)}}).fire({icon:"success",text:"Modificaci\xf3n exitosa"}),this.formBuilder.reset(),this.recargar(),this.modalService.dismissAll())},i=>{this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal",i),this.obtenerLista(),this.recargar()})}guardar(){this.formBuilder.valid?null!=this.entradasalidaOd||(console.log("antes de registrar"),this.registrando()):u().fire({position:"center",title:"Faltan datos en el formuario",text:"submit disparado, formulario no valido",icon:"warning"})}registrando(){const e=this.formBuilder.value;if(this.controllerdata){const i=new c(e.tipo,e.fecha,e.hora,e.combustible,e.kilometraje,2,e.solicitudvehiculo),l=new p(e.solicitudvehiculo,e.fecha);this.listaentradasalidaservice.extrayendokilometraje(e.solicitudvehiculo).subscribe({next:m=>{this.kilomet=m;var E=parseInt(this.kilomet.kilometraje,10);parseInt(e.kilometraje,10)>E?this.listaentradasalidaservice.NuevosDatos(i).subscribe(r=>{this.listaentradasalidaservice.modificandoFecha(l).subscribe(d=>{d&&(u().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,didOpen:b=>{b.addEventListener("mouseenter",u().stopTimer),b.addEventListener("mouseleave",u().resumeTimer)}}).fire({icon:"success",text:"Almacenamiento exito"}),this.formBuilder.reset(),this.recargar(),this.modalService.dismissAll())},d=>{this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal",d),this.obtenerLista(),this.recargar(),this.EmailE("!Aviso importante!","Se ha detectado un registro de entrada","EL Auto detectado ha completado con su mision: "+this.objetivoMision.objetivoMision,"Se solicita continuar con los procesos para poder liquidar")})}):u().fire({position:"center",title:"Error",text:"El kilometraje debe ser mayor al de salida",icon:"warning"})}})}else{const i=new c(e.tipo,e.fecha,e.hora,e.combustible,e.kilometraje,1,e.solicitudvehiculo);this.listaentradasalidaservice.NuevosDatos(i).subscribe(l=>{l&&(u().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,didOpen:x=>{x.addEventListener("mouseenter",u().stopTimer),x.addEventListener("mouseleave",u().resumeTimer)}}).fire({icon:"success",text:"Almacenamiento exitoso"}),this.formBuilder.reset(),this.recargar(),this.modalService.dismissAll())},l=>{this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal",l),this.obtenerLista(),this.recargar()})}}recargar(){let e=this.router.url;this.router.routeReuseStrategy.shouldReuseRoute=()=>!1,this.router.onSameUrlNavigation="reload",this.router.navigate([e])}obtenerLista(){this.listaentradasalidaservice.ObtenerLista.subscribe(e=>{this.entradasalidas=e})}esCampoValido(e){const i=this.formBuilder.get(e);return!(null==i?void 0:i.valid)&&(null==i?void 0:i.touched)?"is-invalid":(null==i?void 0:i.touched)?"is-valid":""}get Listamisiones(){return this.listaentradasalidaservice.listDeMisiones}CambiarAlert(e){e.show=!e.show}restaurarAlerts(){this.alerts.forEach(e=>{e.show=!0})}siMuestraAlertas(){return this.alerts.every(e=>e.show)}EmailE(e,i,l,m){this.usuarios.SendEmail({asunto:e,titulo:i,email:this.correos[1].correo,receptor:"Estimad@ : "+this.correos[1].nombre,mensaje:l,centro:m,codigo:"",abajo:"Gracias por su atenci\xf3n a este importante mensaje."}).subscribe(n=>{console.log("resp: ",n),u().close(),u().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:2500,didOpen:d=>{d.addEventListener("mouseenter",u().stopTimer),d.addEventListener("mouseleave",u().resumeTimer)}}).fire({icon:"success",text:"\xa1Se ha enviando un mensaje al correo institucional!"}).then(()=>{})},n=>{u().fire({icon:"error",title:"Algo sali\xf3 mal",text:n})})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(g.FF),t.Y36(h.O),t.Y36(T.qu),t.Y36(O.F0),t.Y36(C.g),t.Y36(U.i))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-modal"]],inputs:{leyenda:"leyenda",leyendas:"leyendas",titulo:"titulo",entradasalidaOd:"entradasalidaOd",objetivoMision:"objetivoMision",controllerdata:"controllerdata"},decls:6,vars:3,consts:[[4,"ngIf"],["id","modalEmpleado","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","modal-fullscreen-xl-down","fade"],["role","document"],["content",""],[1,"text-sm-end"],["type","button",1,"btn","btn-salida","btn-separado",3,"click"],["type","button",1,"btn","btn-entrada",3,"click"],["type","button",1,"btn","btn-info","btn-sm","btn-rounded","boton-cuadrado","mx-1",3,"click"],[1,"mdi","mdi-account-edit-outline"],[1,"modal-header"],[1,"modal-title","mt-0"],["class","btn-alerta",4,"ngIf"],[1,"modal-body"],[4,"ngFor","ngForOf"],["enctype","multipart/form-data",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12"],[1,"mb-3"],[1,"text-danger"],["id","Selectsolicitudvehiculo","name","Selectsolicitudvehiculo","formControlName","solicitudvehiculo","autocomplete","off","disabled","",1,"form-control",3,"ngModel"],["selected","",3,"value"],[1,"col-md-6"],["type","date","id","fecha","name","fecha","formControlName","fecha","disabled","",1,"form-control",3,"ngModel","ngModelChange"],[1,"invalid-feedback"],["type","time","id","hora","name","hora","formControlName","hora","autocomplete","off","disabled","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","kilometraje","name","kilometraje","formControlName","kilometraje","autocomplete","off","pattern","","placeholder","Escribe el kilometraje",1,"form-control",3,"keypress"],["id","combustible","name","combustible","formControlName","combustible","autocomplete","off","placeholder","Escribe el tipo de combustible",1,"form-control","form-select",3,"ngModel"],["value",""],["value","Un tanque"],["value","Mas de tres cuarto de tanque"],["value","Tres cuarto de tanque"],["value","Menos de tres cuarto de tanque"],["value","Mas de medio tanque"],["value","Medio tanque"],["value","Menos de medio tanque"],["value","Mas de un cuarto de tanque"],["value","Un cuarto de tanque"],["value","Menos de un cuarto de tanque"],[1,"d-flex","justify-content-end","mt-4"],["type","submit","id","btn-save","name","btn-save",1,"btn","btn-primary","me-2"],["type","button","id","btn-cancel","name","btn-cancel","aria-hidden","true",1,"btn","btn-dark",3,"click"],[1,"btn-alerta"],["class","mdi mdi-20px mdi-lightbulb-on-outline custom-cursor","ngbTooltip","Mostrar Ayuda",3,"click",4,"ngIf"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],["ngbTooltip","Mostrar Ayuda",1,"mdi","mdi-20px","mdi-lightbulb-on-outline","custom-cursor",3,"click"],["role","alert",3,"class",4,"ngIf"],["role","alert"],[1,"text-justify"],["type","button","aria-label","Close",1,"btn-close",3,"click"]],template:function(e,i){1&e&&(t.YNc(0,D,4,1,"span",0),t.YNc(1,P,4,1,"span",0),t.YNc(2,N,3,0,"span",0),t.TgZ(3,"div",1),t.YNc(4,Y,81,25,"ng-template",2,3,t.W1O),t.qZA()),2&e&&(t.Q6J("ngIf","Entrada"!==i.leyenda),t.xp6(1),t.Q6J("ngIf","Salida"!==i.leyenda),t.xp6(1),t.Q6J("ngIf",i.leyenda===i.titulo&&"Editar"==i.titulo))},directives:[Z.O5,Z.sg,T._Y,T.JL,T.sg,T.EJ,T.JJ,T.u,T.YN,T.Kr,T.Fj,T.c5],styles:['@charset "UTF-8";.btn-entrada[_ngcontent-%COMP%]{background-color:#df3636;color:#fff}.btn-salida[_ngcontent-%COMP%]{background-color:#3c4cdaad;color:#fff}']}),a})();function R(a,f){if(1&a&&t._UZ(0,"app-modal",10),2&a){const e=t.oxw();t.Q6J("leyenda","Salida")("titulo","Salida")("leyendas","Salida")("objetivoMision",e.obje)}}function z(a,f){if(1&a&&t._UZ(0,"app-modal",11),2&a){const e=t.oxw();t.Q6J("leyenda","Entrada")("titulo","Entrada")("leyendas","Entrada")("objetivoMision",e.obje)("controllerdata",e.controllerdata)}}let Q=(()=>{class a{constructor(e){this.listaentradasalidaservice=e}ngOnInit(){5==this.obje.estado&&(this.controlador1=!0,this.controlador2=!1),this.listaentradasalidaservice.listarEstado("1",this.obje.codigoSolicitudVehiculo).subscribe({next:e=>{this.entradaSalida=e,this.controllerdata=!0,null!=this.entradaSalida?1==this.entradaSalida.estado&&(this.controlador1=!1,this.controlador2=!0):this.controllerdata=!1}})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(C.g))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-card"]],inputs:{obje:"obje",queryString:"queryString",entraoOd:"entraoOd"},decls:25,vars:10,consts:[[1,"card"],[1,"bg"],[1,"card2"],[1,"card-img-top","col-img",3,"src"],[1,"card-body"],[1,"card3"],[1,"d-flex","justify-content-center"],[3,"leyenda","titulo","leyendas","objetivoMision",4,"ngIf"],[3,"leyenda","titulo","leyendas","objetivoMision","controllerdata",4,"ngIf"],[1,"blob"],[3,"leyenda","titulo","leyendas","objetivoMision"],[3,"leyenda","titulo","leyendas","objetivoMision","controllerdata"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"p"),t.TgZ(7,"strong"),t._uU(8,"Fecha de uso:"),t.qZA(),t.qZA(),t.TgZ(9,"p"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"p"),t.TgZ(13,"strong"),t._uU(14,"Motorista: "),t.qZA(),t.qZA(),t.TgZ(15,"p"),t._uU(16),t.qZA(),t.TgZ(17,"p"),t.TgZ(18,"strong"),t._uU(19,"Placa: "),t.qZA(),t._uU(20),t.qZA(),t.qZA(),t.TgZ(21,"div",6),t.YNc(22,R,1,4,"app-modal",7),t.YNc(23,z,1,5,"app-modal",8),t.qZA(),t.qZA(),t.qZA(),t._UZ(24,"div",9),t.qZA()),2&e&&(t.xp6(3),t.Q6J("src",i.obje.vehiculo.nombrefoto,t.LSH),t.xp6(7),t.Oqu(t.xi3(11,7,i.obje.fechaSalida,"dd/MM/yyyy")),t.xp6(6),t.AsE("",i.obje.motorista.nombre," ",i.obje.motorista.apellido,""),t.xp6(4),t.Oqu(i.obje.vehiculo.placa),t.xp6(2),t.Q6J("ngIf",i.controlador1),t.xp6(1),t.Q6J("ngIf",i.controlador2))},directives:[Z.O5,K],pipes:[Z.uU],styles:['@charset "UTF-8";.d-flex.justify-content-between[_ngcontent-%COMP%]{grid-gap:12px;gap:12px}.btn[_ngcontent-%COMP%]{white-space:nowrap}.bordered-card[_ngcontent-%COMP%]{border:4px solid #ccc;border-radius:10px;padding:15px}.image-margin[_ngcontent-%COMP%]{margin-right:30px}.card-body[_ngcontent-%COMP%]{padding:10px}.card[_ngcontent-%COMP%]{position:center;width:205px;height:360px;border-radius:14px;z-index:11;overflow:hidden;display:flex;flex-direction:column;align-items:center;justify-content:center;box-shadow:20px 20px 60px #bebebe,-20px -20px 60px #fff}.card2[_ngcontent-%COMP%]{position:center;width:200px;height:140px}.card3[_ngcontent-%COMP%]{position:center;width:180px;height:130px}.bg[_ngcontent-%COMP%]{position:center;top:5px;left:5px;width:195px;height:600px;z-index:2;background:rgba(255,255,255,.95);-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px);border-radius:10px;overflow:hidden;outline:2px solid white}.blob[_ngcontent-%COMP%]{position:absolute;z-index:1;top:50%;left:50%;width:150px;height:250px;border-radius:50%;background-color:#972727;opacity:1;filter:blur(12px);animation:blob-bounce 5s infinite ease}@keyframes blob-bounce{0%{transform:translate(-100%,-100%) translate(0)}25%{transform:translate(-100%,-100%) translate(100%)}50%{transform:translate(-100%,-100%) translate(100%,100%)}75%{transform:translate(-100%,-100%) translateY(100%)}to{transform:translate(-100%,-100%) translate(0)}}.modal[_ngcontent-%COMP%]{z-index:9999}',"p[_ngcontent-%COMP%] {\n        margin: 0; \n    }"]}),a})();function V(a,f){if(1&a&&(t.ynx(0),t._UZ(1,"app-card",8),t.BQk()),2&a){const e=f.$implicit;t.xp6(1),t.Q6J("obje",e)}}let X=(()=>{class a{constructor(e){this.listavehiculos=e,this.vehiculos=[],this.entradasalidas=[],this.term="",this.parametroBuscar=""}ngOnInit(){this.breadCrumbItems=[{label:"Entradas"},{label:"Salidas",active:!0}],this.transactions=[{id:"#SK2540",name:"Neal Matthews",date:"07 Oct, 2019",total:"$400",status:"Paid",payment:["fab fa-cc-mastercard","Mastercard"],index:1},{id:"#SK2541",name:"Jamal Burnett",date:"07 Oct, 2019",total:"$380",status:"Chargeback",payment:["fab fa-cc-visa","Visa"],index:2},{id:"#SK2542",name:"Juan Mitchell",date:"06 Oct, 2019",total:"$384",status:"Paid",payment:["fab fa-cc-paypal","Paypal"],index:3},{id:"#SK2543",name:"Barry Dick",date:"05 Oct, 2019",total:"$412",status:"Paid",payment:["fab fa-cc-mastercard","Mastercard"],index:4},{id:"#SK2544",name:"Ronald Taylor",date:"04 Oct, 2019",total:"$404",status:"Refund",payment:["fab fa-cc-visa","Visa"],index:5},{id:"#SK2545",name:"Jacob Hunter",date:"04 Oct, 2019",total:"$392",status:"Paid",payment:["fab fa-cc-paypal","Paypal"],index:6},{id:"#SK2546",name:"William Cruz",date:"03 Oct, 2019",total:"$374",status:"Paid",payment:["fas fa-money-bill-alt","COD"],index:7},{id:"#SK2547",name:"Dustin Moser",date:"02 Oct, 2019",total:"$350",status:"Paid",payment:["fab fa-cc-mastercard","Mastercard"],index:8},{id:"#SK2548",name:"Clark Benson",date:"01 Oct, 2019",total:"$345",status:"Refund",payment:["fab fa-cc-visa","Visa"],index:9}],this.buscar()}buscar(){this.parametroBuscar=this.parametroBuscar.toLocaleLowerCase(),this.listavehiculos.buscarVehiculo(this.parametroBuscar).subscribe(e=>{this.vehiculos=e})}}return a.\u0275fac=function(e){return new(e||a)(t.Y36(C.g))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-listar"]],decls:8,vars:2,consts:[[1,"container-fluid"],["title","ENTRADAS Y SALIDAS DE VEHICULOS",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","row-cols-1","row-cols-md-3","row-cols-xl-5","justify-content-center"],[4,"ngFor","ngForOf"],[3,"obje"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-page-title",1),t.TgZ(2,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div",4),t.TgZ(5,"div",5),t.TgZ(6,"div",6),t.YNc(7,V,2,1,"ng-container",7),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(1),t.Q6J("breadcrumbItems",i.breadCrumbItems),t.xp6(6),t.Q6J("ngForOf",i.vehiculos))},directives:[q.V,Z.sg,Q],styles:['@charset "UTF-8";.btn-separado[_ngcontent-%COMP%]{margin-bottom:30px}']}),a})()},65337:(M,_,s)=>{s.d(_,{g:()=>T});var t=s(44522),C=s(38053),q=s(18260),Z=s(83668);let T=(()=>{class A{constructor(c){this.http=c,this.baseUrl=q.N.baseUrl,this.listDeMisiones=[];const p=localStorage.getItem("token"),g=new t.WM({Authorization:`Bearer ${p}`});this.requestOptions={headers:g}}getMisiones(){const c=localStorage.getItem("token"),g={headers:new t.WM({Authorization:`Bearer ${c}`})};this.http.get(`${this.baseUrl}/solicitudvehiculo/lista`,g).pipe((0,C.U)(h=>h)).subscribe(h=>{console.log(h),this.listDeMisiones=h,console.log(h)},h=>{console.error("Error al obtener las misiones:",h)})}get ObtenerLista(){const c=localStorage.getItem("token"),g={headers:new t.WM({Authorization:`Bearer ${c}`})};return this.http.get(`${this.baseUrl}/entradasalida`,g)}NuevosDatos(c){const p=localStorage.getItem("token"),g=new t.WM({Authorization:`Bearer ${p}`});return this.requestOptions={headers:g},this.http.post(`${this.baseUrl}/entradasalida/insertar`,c,this.requestOptions)}modificandoFecha(c){const p=localStorage.getItem("token"),g=new t.WM({Authorization:`Bearer ${p}`});return this.requestOptions={headers:g},this.http.put(`${this.baseUrl}/solicitudvehiculo/fecharegreso`,c,this.requestOptions)}putEntradasalida(c){return this.http.put(`${this.baseUrl}/entradasalida/{{id}}`,c,this.requestOptions)}putEmpleado(c){return this.http.put(`${this.baseUrl}/entradasalida/editar/${c.id}`,c,this.requestOptions)}buscarVehiculo(c){const p=localStorage.getItem("token"),h={headers:new t.WM({Authorization:`Bearer ${p}`})};return c.length>1?this.http.get(`${this.baseUrl}/solicitudvehiculo/listasinpagina/${c}`,h).pipe((0,C.U)(O=>O.filter(U=>5===U.estado))):this.http.get(`${this.baseUrl}/entradasalida/todas`,h)}compararFechasSalida(c){const p=new Date,g=c.toString().split("T")[0],h=p.toISOString().split("T")[0];return console.log("Salida sistema: "+g),console.log("Actual: "+h),g===h}compararFechasEntrada(c){const p=new Date;return c.toString().split("T")[0]===p.toISOString().split("T")[0]}listarEstado(c,p){const g=localStorage.getItem("token"),O={headers:new t.WM({Authorization:`Bearer ${g}`})};return this.http.get(`${this.baseUrl}/entradasalida/buscarentradasalida?filtro=${c}&tipo=${p}`,O)}extrayendokilometraje(c){const p=localStorage.getItem("token"),h={headers:new t.WM({Authorization:`Bearer ${p}`})};return this.http.get(`${this.baseUrl}/entradasalida/list?filtro=${c}`,h)}obtenercodigosolicitudvale(c){const p=localStorage.getItem("token"),h={headers:new t.WM({Authorization:`Bearer ${p}`})};return this.http.get(`${this.baseUrl}/solicitudvale/buscarcodigosolicitudvale?codigo=${c}`,h)}}return A.\u0275fac=function(c){return new(c||A)(Z.LFG(t.eN))},A.\u0275prov=Z.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()},11950:(M,_,s)=>{s.d(_,{V:()=>A});var t=s(83668),C=s(86019);function q(u,c){if(1&u&&(t.TgZ(0,"li",9),t.TgZ(1,"a",10),t._uU(2),t.qZA(),t.qZA()),2&u){const p=t.oxw().$implicit;t.xp6(2),t.Oqu(p.label)}}function Z(u,c){if(1&u&&(t.TgZ(0,"li",11),t._uU(1),t.qZA()),2&u){const p=t.oxw().$implicit;t.xp6(1),t.hij("",p.label," ")}}function T(u,c){if(1&u&&(t.ynx(0),t.YNc(1,q,3,1,"li",7),t.YNc(2,Z,2,1,"li",8),t.BQk()),2&u){const p=c.$implicit;t.xp6(1),t.Q6J("ngIf",!p.active),t.xp6(1),t.Q6J("ngIf",p.active)}}let A=(()=>{class u{constructor(){}ngOnInit(){}}return u.\u0275fac=function(p){return new(p||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-page-title"]],inputs:{breadcrumbItems:"breadcrumbItems",title:"title"},decls:8,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"page-title-box","d-flex","align-items-center","justify-content-between"],[1,"mb-0","font-size-18"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[4,"ngFor","ngForOf"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"breadcrumb-item"],["href","javascript: void(0);"],[1,"breadcrumb-item","active"]],template:function(p,g){1&p&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t.TgZ(3,"h4",3),t._uU(4),t.qZA(),t.TgZ(5,"div",4),t.TgZ(6,"ol",5),t.YNc(7,T,3,2,"ng-container",6),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&p&&(t.xp6(4),t.Oqu(g.title),t.xp6(3),t.Q6J("ngForOf",g.breadcrumbItems))},directives:[C.sg,C.O5],styles:[""]}),u})()},27522:(M,_,s)=>{s.d(_,{Rq:()=>E});var t=s(83668);let E=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({providers:[],imports:[[]]}),o})()}}]);