"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[305],{32305:(oi,F,c)=>{c.r(F),c.d(F,{SolicitudVehiculoModule:()=>ei});var d=c(86019),y=c(56225),e=c(83668),q=c(88345),Q=c(15501),O=c(11950),s=c(49133),A=c(64762),N=c(38053),P=c(1659),m=c.n(P),L=c(24017),p=c(20154),k=c(66548),Y=c(27261),I=c(868);function z(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"i",54),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).restaurarAlerts()}),e.qZA()}}function R(t,a){if(1&t&&(e.TgZ(0,"div",52),e.YNc(1,z,1,0,"i",53),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o.siMuestraAlertas())}}function H(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div",56),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._uU(3),e.TgZ(4,"button",57),e.NdJ("click",function(){e.CHM(o);const n=e.oxw().$implicit;return e.oxw().CambiarAlert(n)}),e.qZA(),e.qZA()}if(2&t){const o=e.oxw().$implicit;e.Gre("alert alert-",o.type," alert-dismissible fade show"),e.xp6(2),e.Oqu("info"===o.type?"Importante!":"Precauci\xf3n!"),e.xp6(1),e.hij(" ",o.message," ")}}function $(t,a){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,H,5,5,"div",55),e.qZA()),2&t){const o=a.$implicit;e.xp6(1),e.Q6J("ngIf",o.show)}}function B(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"label",58),e._uU(2,"Marque la casilla si la misi\xf3n es internacional: "),e.TgZ(3,"input",59),e.NdJ("change",function(){return e.CHM(o),e.oxw().actualizarEstadoCheckbox()}),e.qZA(),e.qZA(),e.qZA()}}function G(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function W(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere una fecha de solicitud "),e.qZA())}function K(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Fecha no valida "),e.qZA())}function X(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function ee(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere una fecha de misi\xf3n "),e.qZA())}function oe(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Fecha no valida "),e.qZA())}function ie(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function te(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere una fecha de solicitud "),e.qZA())}function ne(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function ae(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere el lugar o institucci\xf3n que visitar\xe1 "),e.qZA())}function le(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Digite m\xe1s de 3 caracteres "),e.qZA())}function se(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function re(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere el obejetivo de la misi\xf3n "),e.qZA())}function ce(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Digite m\xe1s de 6 caracteres "),e.qZA())}function de(t,a){if(1&t&&(e.TgZ(0,"div",10),e.TgZ(1,"div",19),e.TgZ(2,"label",61),e._uU(3,"Direcci\xf3n: "),e.YNc(4,se,2,0,"span",13),e.qZA(),e._UZ(5,"textarea",62),e.TgZ(6,"div",15),e.YNc(7,re,2,0,"span",16),e.YNc(8,ce,2,0,"span",16),e.qZA(),e.qZA(),e.qZA()),2&t){const o=e.oxw();let i,n;e.xp6(4),e.Q6J("ngIf",null==o.soliVeOd&&"Nueva"===o.leyenda),e.xp6(1),e.Tol(o.esCampoValido("direccion")),e.Q6J("readonly","Detalle"==o.leyenda&&null!=o.soliVeOd),e.xp6(2),e.Q6J("ngIf",null==(i=o.formularioSoliVe.get("direccion"))||null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==(n=o.formularioSoliVe.get("direccion"))||null==n.errors?null:n.errors.minlength)}}function ue(t,a){1&t&&(e.TgZ(0,"div",29),e.TgZ(1,"div",19),e.TgZ(2,"label",61),e._uU(3,"Direcci\xf3n:"),e.qZA(),e._UZ(4,"textarea",67),e.qZA(),e.qZA())}function pe(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function me(t,a){if(1&t&&(e.TgZ(0,"ng-option",71),e._uU(1),e.qZA()),2&t){const o=a.$implicit;e.Q6J("value",o.codigo),e.xp6(1),e.hij(" ",o.na2," ")}}function _e(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere seleccionar un departamento "),e.qZA())}function ge(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div",19),e.TgZ(2,"label",68),e._uU(3,"Departamento: "),e.YNc(4,pe,2,0,"span",13),e.qZA(),e.TgZ(5,"ng-select",69),e.NdJ("ngModelChange",function(n){return e.CHM(o),e.oxw(2).deptoChange(n)}),e.YNc(6,me,2,2,"ng-option",70),e.qZA(),e.TgZ(7,"div",15),e.YNc(8,_e,2,0,"span",16),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.oxw(2);let i;e.xp6(4),e.Q6J("ngIf",null==o.soliVeOd&&"Nueva"===o.leyenda),e.xp6(1),e.Tol(o.esCampoValido("depto")),e.Q6J("selectOnTab",!0)("notFoundText","Datos no econtrados"),e.xp6(1),e.Q6J("ngForOf",o.departamentos),e.xp6(2),e.Q6J("ngIf",null==(i=o.formularioSoliVe.get("depto"))||null==i.errors?null:i.errors.required)}}function fe(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function he(t,a){if(1&t&&(e.TgZ(0,"ng-option",71),e._uU(1),e.qZA()),2&t){const o=a.$implicit;e.Q6J("value",o.codigo),e.xp6(1),e.hij(" ",o.nam," ")}}function ve(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere seleccionar un municipio "),e.qZA())}function be(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div",11),e.TgZ(1,"div",19),e.TgZ(2,"label",72),e._uU(3,"Municipio: "),e.YNc(4,fe,2,0,"span",13),e.qZA(),e.TgZ(5,"ng-select",73),e.NdJ("ngModelChange",function(n){return e.CHM(o),e.oxw(2).distChange(n)}),e.YNc(6,he,2,2,"ng-option",70),e.qZA(),e.TgZ(7,"div",15),e.YNc(8,ve,2,0,"span",16),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.oxw(2);let i;e.xp6(4),e.Q6J("ngIf",null==o.soliVeOd&&"Nueva"===o.leyenda),e.xp6(1),e.Tol(o.esCampoValido("municipio")),e.Q6J("selectOnTab",!0),e.xp6(1),e.Q6J("ngForOf",o.municipios),e.xp6(2),e.Q6J("ngIf",null==(i=o.formularioSoliVe.get("municipio"))||null==i.errors?null:i.errors.required)}}function Ze(t,a){1&t&&e._UZ(0,"div")}function Te(t,a){if(1&t&&(e.TgZ(0,"div",10),e.ynx(1,63),e.YNc(2,ue,5,0,"div",64),e.YNc(3,ge,9,7,"div",65),e.YNc(4,be,9,6,"div",65),e.YNc(5,Ze,1,0,"div",66),e.BQk(),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngSwitch",o.leyenda),e.xp6(1),e.Q6J("ngSwitchCase","Detalle"),e.xp6(1),e.Q6J("ngSwitchCase","Nueva"),e.xp6(1),e.Q6J("ngSwitchCase","Nueva")}}function Ae(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function Se(t,a){if(1&t&&(e.TgZ(0,"ng-option",71),e._uU(1),e.qZA()),2&t){const o=a.$implicit;e.Q6J("value",o.codigo),e.xp6(1),e.hij(" ",o.nam," ")}}function Ve(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere seleccionar un cant\xf3n "),e.qZA())}function Ce(t,a){if(1&t&&(e.TgZ(0,"div",11),e.TgZ(1,"div",19),e.TgZ(2,"label",74),e._uU(3,"Cant\xf3n: "),e.YNc(4,Ae,2,0,"span",13),e.qZA(),e.TgZ(5,"ng-select",75),e.YNc(6,Se,2,2,"ng-option",70),e.qZA(),e.TgZ(7,"div",15),e.YNc(8,Ve,2,0,"span",16),e.qZA(),e.qZA(),e.qZA()),2&t){const o=e.oxw();let i;e.xp6(4),e.Q6J("ngIf",null==o.soliVeOd&&"Nueva"===o.leyenda),e.xp6(1),e.Tol(o.esCampoValido("canton")),e.Q6J("selectOnTab",!0),e.xp6(1),e.Q6J("ngForOf",o.cantones),e.xp6(2),e.Q6J("ngIf",null==(i=o.formularioSoliVe.get("canton"))||null==i.errors?null:i.errors.required)}}function xe(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function qe(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere la hora de salida "),e.qZA())}function Me(t,a){1&t&&(e.TgZ(0,"div",10),e.TgZ(1,"div",19),e.TgZ(2,"div",20),e.TgZ(3,"label",76),e._uU(4,"Motorista:"),e.qZA(),e._UZ(5,"input",77),e.qZA(),e.qZA(),e.qZA())}function Ne(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere una observaci\xf3n "),e.qZA())}function ye(t,a){if(1&t&&(e.TgZ(0,"div",10),e.TgZ(1,"div",19),e.TgZ(2,"div",20),e.TgZ(3,"label",78),e._uU(4,"Observaciones:"),e.qZA(),e.TgZ(5,"textarea",79),e._uU(6,"              "),e.qZA(),e.TgZ(7,"div",15),e.YNc(8,Ne,2,0,"span",16),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const o=e.oxw();let i;e.xp6(5),e.Tol(o.esCampoValido("observaciones")),e.Q6J("placeholder","Detalle"===o.leyenda&&""===o.soliVeOd.observaciones?"":"Ingrese observaciones")("readonly","Detalle"==o.leyenda&&"JEFE_DEPTO"!=o.usuarioActivo.role&&"JEFE_FINANACIERO"==o.usuarioActivo.role||"Detalle"==o.leyenda&&"mis-solicitudes"==o.vista),e.xp6(3),e.Q6J("ngIf",null==(i=o.formularioSoliVe.get("observaciones"))||null==i.errors?null:i.errors.required)}}function Oe(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function Ie(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere una fecha de regreso "),e.qZA())}function Je(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Fecha no valida "),e.qZA())}function Ue(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function Ee(t,a){if(1&t&&(e.TgZ(0,"ng-option",71),e._uU(1),e.qZA()),2&t){const o=a.$implicit;e.Q6J("value",o),e.xp6(1),e.Oqu(o)}}function je(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"ng-select",80),e.NdJ("change",function(){e.CHM(o);const n=e.oxw();return n.cargarPlacas(n.formularioSoliVe.get("tipoVehiculo").value,n.formularioSoliVe.get("fechaSalida").value)}),e.YNc(1,Ee,2,2,"ng-option",70),e.qZA()}if(2&t){const o=e.oxw();e.Tol(o.esCampoValido("tipoVehiculo")),e.Q6J("selectOnTab",!0),e.xp6(1),e.Q6J("ngForOf",o.listVehiculos)}}function we(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere seleccionar un tipo de veh\xedculo "),e.qZA())}function Fe(t,a){if(1&t&&e._UZ(0,"input",81),2&t){const o=e.oxw();e.Q6J("value",null!=o.soliVeOd?o.soliVeOd.vehiculo.clase:"")}}function Qe(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function ke(t,a){if(1&t&&(e.TgZ(0,"ng-option",71),e._uU(1),e.qZA()),2&t){const o=a.$implicit;e.Q6J("value",o.codigoVehiculo),e.xp6(1),e.Oqu(o.placa)}}function Ye(t,a){if(1&t&&(e.TgZ(0,"ng-select",83),e.YNc(1,ke,2,2,"ng-option",70),e.qZA()),2&t){const o=e.oxw(2);e.Tol(o.esCampoValido("vehiculo")),e.Q6J("selectOnTab",!0),e.xp6(1),e.Q6J("ngForOf",o.placas)}}function De(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere seleccionar un veh\xedculo "),e.qZA())}function Pe(t,a){if(1&t&&(e.YNc(0,Ye,2,4,"ng-select",82),e.TgZ(1,"div",15),e.YNc(2,De,2,0,"span",16),e.qZA()),2&t){const o=e.oxw();let i;e.Q6J("ngIf","Nueva"==o.leyenda&&null==o.soliVeOd),e.xp6(2),e.Q6J("ngIf",null==(i=o.formularioSoliVe.get("vehiculo"))||null==i.errors?null:i.errors.required)}}function Le(t,a){if(1&t&&e._UZ(0,"input",85),2&t){const o=e.oxw(2);e.Q6J("value",null!=o.soliVeOd?o.soliVeOd.vehiculo.placa:"")}}function ze(t,a){if(1&t&&e.YNc(0,Le,1,1,"input",84),2&t){const o=e.oxw();e.Q6J("ngIf","Detalle"==o.leyenda&&null!=o.soliVeOd)}}function Re(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function He(t,a){if(1&t&&(e.TgZ(0,"ng-option",71),e._uU(1),e.qZA()),2&t){const o=a.$implicit;e.Q6J("value",o.codigo),e.xp6(1),e.hij(" ",o.nam," ")}}function $e(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere seleccionar un distrito "),e.qZA())}function Be(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div",10),e.TgZ(1,"div",29),e.TgZ(2,"div",19),e.TgZ(3,"label",86),e._uU(4,"Distrito: "),e.YNc(5,Re,2,0,"span",13),e.qZA(),e.TgZ(6,"ng-select",87),e.NdJ("ngModelChange",function(n){return e.CHM(o),e.oxw().muniChange(n)}),e.YNc(7,He,2,2,"ng-option",70),e.qZA(),e.TgZ(8,"div",15),e.YNc(9,$e,2,0,"span",16),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&t){const o=e.oxw();let i;e.xp6(5),e.Q6J("ngIf",null==o.soliVeOd&&"Nueva"===o.leyenda),e.xp6(1),e.Tol(o.esCampoValido("distrito")),e.Q6J("selectOnTab",!0),e.xp6(1),e.Q6J("ngForOf",o.distritos),e.xp6(2),e.Q6J("ngIf",null==(i=o.formularioSoliVe.get("distrito"))||null==i.errors?null:i.errors.required)}}function Ge(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function We(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere la hora de regreso "),e.qZA())}function Ke(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function Xe(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere el obejetivo de la misi\xf3n "),e.qZA())}function eo(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Digite m\xe1s de 6 caracteres "),e.qZA())}function oo(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function io(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Requiere la cantidad de pasajeros en la misi\xf3n "),e.qZA())}function to(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," La cantidad de personas debe ser al menos 1 "),e.qZA())}function no(t,a){1&t&&(e.TgZ(0,"span"),e._uU(1," Solamente se permiten n\xfameros enteros "),e.qZA())}function ao(t,a){1&t&&(e.TgZ(0,"div",10),e.TgZ(1,"div",29),e.TgZ(2,"div",19),e.TgZ(3,"label",88),e._uU(4,"Responsable:"),e.qZA(),e._UZ(5,"input",89),e.qZA(),e.qZA(),e.qZA())}function lo(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function so(t,a){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"input",97),e.qZA(),e.qZA()),2&t){const o=a.index,i=e.oxw(4);e.xp6(2),e.Oqu(o+1),e.xp6(2),e.Q6J("formControl",i.pasajeroFormControls[o])("readonly",null!=i.soliVeOd&&"Detalle"===i.leyenda)}}function ro(t,a){if(1&t&&(e.TgZ(0,"table",96),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th"),e._uU(4,"No"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Nombre"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"tbody"),e.YNc(8,so,5,3,"tr",5),e.qZA(),e.qZA()),2&t){const o=e.oxw(3);e.xp6(8),e.Q6J("ngForOf",o.pasajeros)}}function co(t,a){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._UZ(4,"input",97),e.qZA(),e.qZA()),2&t){const o=a.$implicit,i=a.index,n=e.oxw(4);e.xp6(2),e.Oqu(i+1),e.xp6(2),e.Q6J("formControl",o)("readonly",null!=n.soliVeOd&&"Detalle"===n.leyenda)}}function uo(t,a){if(1&t&&(e.TgZ(0,"table",98),e.TgZ(1,"thead"),e.TgZ(2,"tr"),e.TgZ(3,"th"),e._uU(4,"No"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Nombre"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"tbody"),e.YNc(8,co,5,3,"tr",5),e.qZA(),e.qZA()),2&t){const o=e.oxw(3);e.xp6(8),e.Q6J("ngForOf",o.pasajeroFormControls)}}function po(t,a){if(1&t&&(e.TgZ(0,"div"),e.TgZ(1,"label",93),e._uU(2,"Ingrese los nombres de los pasajeros: "),e.YNc(3,lo,2,0,"span",13),e.qZA(),e.YNc(4,ro,9,1,"table",94),e.YNc(5,uo,9,1,"table",95),e.qZA()),2&t){const o=e.oxw(2);e.xp6(3),e.Q6J("ngIf",null==o.soliVeOd&&"Nueva"===o.leyenda),e.xp6(1),e.Q6J("ngIf","Detalle"===o.leyenda&&null!=o.soliVeOd),e.xp6(1),e.Q6J("ngIf","Detalle"!==o.leyenda||null===o.soliVeOd)}}function mo(t,a){1&t&&(e.TgZ(0,"span",60),e._uU(1,"*"),e.qZA())}function _o(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div",99),e._uU(1," Por favor, adjunta la lista de pasajeros: "),e.YNc(2,mo,2,0,"span",13),e.TgZ(3,"input",100),e.NdJ("change",function(n){return e.CHM(o),e.oxw(3).cambioDeArchivo(n)}),e.qZA(),e.qZA()}if(2&t){const o=e.oxw(3);e.xp6(2),e.Q6J("ngIf",null==o.soliVeOd&&"Nueva"===o.leyenda)}}function go(t,a){if(1&t&&e.YNc(0,_o,4,1,"div",92),2&t){const o=e.oxw(2);e.Q6J("ngIf",o.mostrarArchivoAdjunto&&"Nueva"===o.leyenda)}}function fo(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div",99),e._uU(1," Lista de pasajeros "),e.TgZ(2,"div"),e.TgZ(3,"button",101),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).descargaPdf()}),e._uU(4," Descargar pdf "),e.qZA(),e.qZA(),e.qZA()}}function ho(t,a){if(1&t&&(e.TgZ(0,"div",10),e.TgZ(1,"div",19),e.YNc(2,po,6,3,"div",90),e.YNc(3,go,1,1,"ng-template",null,91,e.W1O),e.YNc(5,fo,5,0,"div",92),e.qZA(),e.qZA()),2&t){const o=e.MAs(4),i=e.oxw();e.xp6(2),e.Q6J("ngIf",i.mostrarTabla)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",i.btnVerPdf)}}function vo(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div"),e.TgZ(1,"button",102),e.NdJ("click",function(){return e.CHM(o),e.oxw().aprobarSolicitudAdministrador()}),e._uU(2," Aprobar "),e.qZA(),e.TgZ(3,"button",103),e.NdJ("click",function(){return e.CHM(o),e.oxw().anularSolicitud()}),e._uU(4," Anular "),e.qZA(),e.qZA()}}function bo(t,a){1&t&&(e.TgZ(0,"button",104),e._uU(1," Enviar "),e.qZA())}function Zo(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"button",105),e.NdJ("click",function(){return e.CHM(o),e.oxw().aprobarSolicitud()}),e._uU(1," Aprobar "),e.qZA()}}function To(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"button",106),e.NdJ("click",function(){return e.CHM(o),e.oxw().anularSolicitud()}),e._uU(1," Anular "),e.qZA()}}let J=(()=>{class t{constructor(o,i,n,l,r,_,v){this.modalService=o,this.fb=i,this.router=n,this.soliVeService=l,this.activeModal=r,this.mensajesService=_,this.emailService=v,this.isInteger=L.MC,this.isDate="",this.pasajeros=[],this.username="Usuario que inicia",this.mostrarTabla=!0,this.btnVerPdf=!1,this.mostrarArchivoAdjunto=!1,this.cantidadPersonas=0,this.pasajeroFormControls=[],this.soliSave=[],this.isChecked=!1,this.alerts=[{id:1,type:"info",message:" Complete los campos obligatorios (*)",show:!1},{id:2,type:"warning",message:" Tenga en cuenta que una vez almacenada la informaci\xf3n no las podr\xe1 modificar y ser\xe1n datos permanentes.",show:!1}],this.solicitudVale={idSolicitudVale:"",cantidadVale:0,estadoEntrada:1,estado:8,solicitudVehiculo:""}}ngOnInit(){this.iniciarFormulario(),this.llenarSelectDepartamentos(),this.soliVeService.obtenerVehiculos(),this.detalle(this.leyenda)}get listVehiculos(){return this.soliVeService.listVehiculos}detalle(o){if("Detalle"==o){const i=this.soliVeOd;this.formularioSoliVe.get("fechaSolicitud").setValue(null!=this.soliVeOd?this.soliVeOd.fechaSolicitud:""),this.formularioSoliVe.get("fechaSalida").setValue(null!=this.soliVeOd?this.soliVeOd.fechaSalida:""),this.formularioSoliVe.get("unidadSolicitante").setValue(null!=this.soliVeOd?this.soliVeOd.unidadSolicitante:""),this.formularioSoliVe.get("lugarMision").setValue(null!=this.soliVeOd?this.soliVeOd.lugarMision:""),this.formularioSoliVe.get("depto").setValue(null!=this.soliVeOd?this.soliVeOd.unidadSolicitante:""),this.formularioSoliVe.get("direccionD").setValue(null!=this.soliVeOd?this.soliVeOd.direccion:""),this.formularioSoliVe.get("fechaEntrada").setValue(null!=this.soliVeOd?this.soliVeOd.fechaEntrada:""),this.formularioSoliVe.get("objetivoMision").setValue(null!=this.soliVeOd?this.soliVeOd.objetivoMision:""),this.formularioSoliVe.get("tipoVehiculo").setValue(null!=this.soliVeOd?this.soliVeOd.vehiculo.clase:""),this.formularioSoliVe.get("vehiculo").setValue(null!=this.soliVeOd?this.soliVeOd.vehiculo.placa:""),this.formularioSoliVe.get("cantidadPersonas").setValue(null!=this.soliVeOd?this.soliVeOd.cantidadPersonas:""),this.formularioSoliVe.get("horaSalida").setValue(null!=this.soliVeOd?this.soliVeOd.horaSalida:""),this.formularioSoliVe.get("horaEntrada").setValue(null!=this.soliVeOd?this.soliVeOd.horaEntrada:""),this.formularioSoliVe.get("solicitante").setValue(null!=this.soliVeOd?this.soliVeOd.solicitante.empleado.nombre+" "+this.soliVeOd.solicitante.empleado.apellido:""),null!=this.soliVeOd.observaciones&&this.formularioSoliVe.get("observaciones").setValue(null!=this.soliVeOd?this.soliVeOd.observaciones:""),null!=this.soliVeOd.motorista&&this.formularioSoliVe.get("motorista").setValue(null!=this.soliVeOd?this.soliVeOd.motorista.nombre+" "+this.soliVeOd.motorista.apellido:""),i.cantidadPersonas>5&&(this.mostrarTabla=!1,this.btnVerPdf=!0);for(const n of this.soliVeOd.listaPasajeros){this.pasajeros.push({id:n.id,nombrePasajero:n.nombrePasajero});const l=new s.NI(null!=this.soliVeOd?n.nombrePasajero:"");this.pasajeroFormControls.push(l)}}}guardar(){return(0,A.mG)(this,void 0,void 0,function*(){this.formularioSoliVe.value.unidadSolicitante=this.usuarioActivo.empleado.departamento.nombre;const o=this.formularioSoliVe.value;if(!this.formularioSoliVe.valid)return this.mensajesService.mensajesToast("warning","Complete los que se indican"),Object.values(this.formularioSoliVe.controls).forEach(i=>i.markAsTouched());if(null!=this.soliVeOd)this.editarSoliVe();else if(this.validarfecha(o.fechaSolicitud))if(this.validarfecha(o.fechaSalida))if(this.validarfecha(o.fechaEntrada))if(o.fechaEntrada>=o.fechaSalida)if(o.horaEntrada<=o.horaSalida&&o.fechaSalida==o.fechaEntrada)this.mensajesService.mensajesToast("warning","La hora de regreso debe ser mayor a la hora de salida en una misi\xf3n de un d\xeda");else if(null!=this.file||o.cantidadPersonas<6){const i=[];for(const l of this.pasajeroFormControls)i.push({id:"",nombrePasajero:l.value});o.listaPasajeros=i,i.every(l=>{const r=l.nombrePasajero;return"string"==typeof r&&""!==r.trim()})?1==(yield this.mensajesService.mensajesConfirmar())&&(yield this.registrarSoliVe()):this.mensajesService.mensajesToast("warning","Por favor, completa todos los nombres de los pasajeros.")}else this.mensajesService.mensajesToast("warning","Debe subir pdf de la lista de pasajeros");else this.mensajesService.mensajesToast("warning","La fecha de misi\xf3n  debe ser mayor o igual a la fecha de salida");else this.mensajesService.mensajesToast("warning","A\xf1o de fecha de regreso incorrecta");else this.mensajesService.mensajesToast("warning","A\xf1o de fecha de misi\xf3n incorrecta");else this.mensajesService.mensajesToast("warning","A\xf1o de fecha de solicitud incorrecta")})}cambioDeArchivo(o){this.file=o.target.files[0]}registrarSoliVe(){const o=this.formularioSoliVe.value;let i,n,l,r;const _=this.formularioSoliVe.get("depto").value,v=this.formularioSoliVe.get("municipio").value,b=this.formularioSoliVe.get("distrito").value,Z=this.formularioSoliVe.get("canton").value,g=this.departamentos.find(u=>u.codigo===_),f=this.municipios.find(u=>u.codigo===v),h=this.distritos.find(u=>u.codigo===b),V=this.cantones.find(u=>u.codigo===Z);return g&&(i=g.nam),f&&(n=f.nam),h&&(l=h.nam),V&&(r=V.nam),1!=this.isChecked&&(o.direccion=i+", "+n+", "+l+", "+r),m().fire({title:"Espere",text:"Realizando la acci\xf3n...",icon:"info",allowOutsideClick:!1,allowEscapeKey:!1,showCancelButton:!1,showConfirmButton:!1}),new Promise((u,C)=>{this.soliVeService.registrarSoliVe(o).subscribe({next:T=>{if(this.soliSave=T,m().close(),null!=o.file&&o.cantidadPersonas>5){const S=new FormData;let M={nombreDocumento:"",urlDocumento:"",tipoDocumento:"Lista de pasajeros",fecha:this.obtenerFechaActual(new Date),codigoSolicitudVehiculo:{codigoSolicitudVehiculo:T.codigoSolicitudVehiculo}};S.append("archivo",this.file),S.append("entidad",new Blob([JSON.stringify(M)],{type:"application/json"})),this.soliVeService.enviarPdfPasajeros(S).subscribe({next:()=>{this.soliVeService.getSolicitudesVehiculo(this.estadoSelecionado),"JEFE_DEPTO"!=this.usuarioActivo.role&&this.enviarEmail(this.usuarioActivo.empleado.departamento.nombre),this.mensajesService.mensajesToast("success","Registro agregado"),this.modalService.dismissAll(),this.formularioSoliVe.reset(),u()},error:x=>{m().close(),this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal al enviar el PDF",x.error.message),C(x)}})}else this.soliVeService.getSolicitudesVehiculo(this.estadoSelecionado),"JEFE_DEPTO"!=this.usuarioActivo.role&&this.enviarEmail(this.usuarioActivo.empleado.departamento.nombre),this.mensajesService.mensajesToast("success","Registro agregado"),this.modalService.dismissAll(),this.formularioSoliVe.reset(),u()},error:T=>{m().close(),this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal al registrar la solicitud",T.error.message),C(T)}})})}editarSoliVe(){}cargarPlacas(o,i){this.soliVeService.filtroPlacasVehiculo(o,i).subscribe(n=>{n&&n.length>0?this.placas=n:""!=o&&(this.placas=[],this.formularioSoliVe.get("vehiculo").setValue(""),this.mensajesService.mensajesToast("warning","En estas fechas, no hay vehiculos disponibles del tipo seleccionado."))},n=>{})}iniciarFormulario(){var o,i,n,l;const r=(null===(n=null===(i=null===(o=this.usuarioActivo)||void 0===o?void 0:o.empleado)||void 0===i?void 0:i.departamento)||void 0===n?void 0:n.nombre)||"",_=this.obtenerFechaActual(new Date)||"";this.formularioSoliVe=this.fb.group({fechaSolicitud:[_,[s.kI.required,s.kI.pattern(this.isDate)]],fechaSalida:["",[s.kI.required]],fechaEntrada:["",[s.kI.required]],unidadSolicitante:[r,[s.kI.required]],tipoVehiculo:["",[s.kI.required]],vehiculo:["",[s.kI.required]],objetivoMision:["",[s.kI.required]],lugarMision:["",[s.kI.required]],direccion:[null,[]],direccionD:[""],depto:["",[s.kI.required]],municipio:["",[s.kI.required]],distrito:["",[s.kI.required]],canton:["",[s.kI.required]],horaSalida:["",[s.kI.required]],horaEntrada:["",[s.kI.required]],cantidadPersonas:[1,[s.kI.required,s.kI.min(1),s.kI.pattern(this.isInteger)]],solicitante:[(null===(l=this.usuarioActivo)||void 0===l?void 0:l.codigoUsuario)||"",[s.kI.required]],listaPasajeros:this.fb.array([]),file:[""],isChecked:[!1],observaciones:["",[]],motorista:["",[]]}),this.formularioSoliVe.get("isChecked").valueChanges.subscribe(v=>{const b=this.formularioSoliVe.get("depto"),Z=this.formularioSoliVe.get("municipio"),g=this.formularioSoliVe.get("distrito"),f=this.formularioSoliVe.get("canton"),h=this.formularioSoliVe.get("direccion");1==v?(h.setValidators([s.kI.required]),b.clearValidators(),Z.clearValidators(),g.clearValidators(),f.clearValidators()):(b.setValidators([s.kI.required]),Z.setValidators([s.kI.required]),g.setValidators([s.kI.required]),f.setValidators([s.kI.required]),h.clearValidators()),b.updateValueAndValidity(),Z.updateValueAndValidity(),g.updateValueAndValidity(),f.updateValueAndValidity(),h.updateValueAndValidity()})}validarfecha(o){const i=new Date(o);return i.getFullYear()>999&&i.getFullYear()<1e4}esCampoValido(o){const i=this.formularioSoliVe.get(o);return!(null==i?void 0:i.valid)&&(null==i?void 0:i.touched)?"is-invalid":(null==i?void 0:i.touched)?"is-valid":""}obtenerFechaActual(o){return`${o.getFullYear()}-${(o.getMonth()+1).toString().padStart(2,"0")}-${o.getDate().toString().padStart(2,"0")}`}llenarSelectDepartamentos(){this.formularioSoliVe.get("depto").setValue(null),this.formularioSoliVe.get("municipio").setValue(null),this.formularioSoliVe.get("distrito").setValue(null),this.formularioSoliVe.get("canton").setValue(null),this.municipios=[],this.distritos=[],this.cantones=[],this.soliVeService.getDepa().pipe((0,N.U)(o=>o.filter(i=>2===i.codigo.length))).subscribe(o=>{this.departamentos=this.sortItemsByCodigo(o)})}deptoChange(o){this.formularioSoliVe.get("municipio").setValue(null),this.formularioSoliVe.get("distrito").setValue(null),this.formularioSoliVe.get("canton").setValue(null),this.municipios=[],this.distritos=[],this.cantones=[],this.soliVeService.getDepa().pipe((0,N.U)(i=>i.filter(n=>n.codigo.startsWith(o)&&4===n.codigo.length))).subscribe(i=>{this.municipios=this.sortItemsByCodigo(i)})}distChange(o){this.formularioSoliVe.get("distrito").setValue(null),this.formularioSoliVe.get("canton").setValue(null),this.distritos=[],this.cantones=[],this.soliVeService.getDepa().pipe((0,N.U)(i=>i.filter(n=>n.codigo.startsWith(o)&&6===n.codigo.length))).subscribe(i=>{this.distritos=this.sortItemsByCodigo(i)})}muniChange(o){this.formularioSoliVe.get("canton").setValue(null),this.cantones=[],this.soliVeService.getDepa().pipe((0,N.U)(i=>i.filter(n=>n.codigo.startsWith(o)&&8===n.codigo.length))).subscribe(i=>{this.cantones=this.sortItemsByCodigo(i)})}sortItemsByCodigo(o){return o.sort((i,n)=>i.codigo.localeCompare(n.codigo))}actualizarFilas(){this.cantidadPersonas=this.formularioSoliVe.get("cantidadPersonas").value;const o=this.formularioSoliVe.get("listaPasajeros"),i=this.cantidadPersonas>=2&&this.cantidadPersonas<=5?this.cantidadPersonas-1:0;if(this.cantidadPersonas<=5)for(o.length>i&&(o.removeAt(o.length-1),this.pasajeroFormControls.pop());o.length<i;)o.push(this.fb.group({id:[""],nombrePasajero:[""]})),this.pasajeroFormControls.push(new s.NI(""));else o.clear(),this.pasajeroFormControls=[];this.cantidadPersonas>5?(this.mostrarTabla=!1,this.mostrarArchivoAdjunto=!0):this.cantidadPersonas<=5&&this.cantidadPersonas>=2&&(this.mostrarTabla=!0,this.mostrarArchivoAdjunto=!1)}siMuestraAlertas(){return this.alerts.every(o=>o.show)}restaurarAlerts(){this.alerts.forEach(o=>{o.show=!0})}CambiarAlert(o){o.show=!o.show}aprobarSolicitud(){return(0,A.mG)(this,void 0,void 0,function*(){1==(yield this.mensajesService.mensajeAprobar())&&(this.soliVeOd.observaciones=this.formularioSoliVe.get("observaciones").value,"JEFE_DEPTO"==this.usuarioActivo.role?yield this.actualizarSolicitud(this.soliVeOd,"aprobada"):yield this.actualizarSolicitudDec(this.soliVeOd))})}anularSolicitud(){return(0,A.mG)(this,void 0,void 0,function*(){""==this.formularioSoliVe.get("observaciones").value?(this.formularioSoliVe.get("observaciones").setErrors({required:!0}),this.formularioSoliVe.get("observaciones").markAsTouched(),this.mensajesService.mensajesToast("warning","Solicitud se requiere campo observaciones")):1==(yield this.mensajesService.mensajeAnular())&&(this.soliVeOd.observaciones=this.formularioSoliVe.get("observaciones").value,this.soliVeOd.estado=15,"ADMIN"==this.usuarioActivo.role?yield this.actualizarSolicitudAdmin(this.soliVeOd,"anulada"):yield this.actualizarSolicitud(this.soliVeOd,"anulada"))})}actualizarSolicitud(o,i){return new Promise((n,l)=>{this.soliVeService.updateSolciitudVehiculo(o).subscribe({next:()=>{this.mensajesService.mensajesToast("success",`Solicitud ${i} con \xe9xito`),this.modalService.dismissAll(),"anulada"==i?this.enviarEmailAnulacion(o.solicitante.codigoUsuario,o.observaciones):"aprobada"==i&&this.enviarEmailSecre("SECR_DECANATO","Nueva solicitud de veh\xedculo pendiente","Tiene una nueva solicitud de veh\xedculo pendiente de asignar motorista o verificaci\xf3n de la informaci\xf3n."),setTimeout(()=>{this.soliVeService.getSolicitudesRol(this.usuarioActivo.role)},3025),n()},error:r=>{m().close(),this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal",r.error.message),l(r)}})})}actualizarSolicitudDec(o){return new Promise((i,n)=>{this.soliVeService.updateSolciitudVehiculo(o).subscribe({next:()=>{this.solicitudVale.cantidadVale=0,this.solicitudVale.estadoEntrada=1,this.solicitudVale.estado=8,this.solicitudVale.solicitudVehiculo=o.codigoSolicitudVehiculo,this.soliVeService.registrarSolicitudVale(this.solicitudVale).subscribe({next:()=>{this.mensajesService.mensajesToast("success","Solicitud aprobada con \xe9xito"),this.modalService.dismissAll(),setTimeout(()=>{this.soliVeService.getSolicitudesRol(this.usuarioActivo.role)},3025),i()},error:l=>{m().close(),this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal al aprobar la solicitud",l.error.message),n(l)}})},error:l=>{m().close(),this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal",l.error.message),n(l)}})})}actualizarEstadoCheckbox(){this.isChecked=0==this.isChecked}descargaPdf(){const i=this.soliVeOd.listDocumentos.filter(n=>"Lista de pasajeros"===n.tipoDocumento).map(n=>n.nombreDocumento);this.soliVeService.obtenerDocumentPdf(i).subscribe(n=>{let l=new Blob([n],{type:"application/pdf"}),r=URL.createObjectURL(l);window.open(r)})}aprobarSolicitudAdministrador(){return(0,A.mG)(this,void 0,void 0,function*(){1==(yield this.mensajesService.mensajeAprobar())&&(this.soliVeOd.observaciones=this.formularioSoliVe.get("observaciones").value,1==this.soliVeOd.estado&&"ADMIN"==this.usuarioActivo.role&&(yield this.actualizarSolicitudAdmin(this.soliVeOd,"aprobada")))})}actualizarSolicitudAdmin(o,i){return new Promise((n,l)=>{this.soliVeService.updateSolciitudVehiculo(o).subscribe({next:()=>{this.mensajesService.mensajesToast("success",`Solicitud ${i} con \xe9xito`),this.modalService.dismissAll(),"aprobada"==i?this.enviarEmailSecre("SECR_DECANATO","Nueva solicitud de veh\xedculo pendiente","Tiene una nueva solicitud de veh\xedculo pendiente de asignar motorista o verificaci\xf3n de la informaci\xf3n."):"anulada"==i&&this.enviarEmailAnulacion(o.solicitante.codigoUsuario,o.observaciones),setTimeout(()=>{this.soliVeService.getSolicitudesVehiculo(1)},3025),n()},error:r=>{m().close(),this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal",r.error.message),l(r)}})})}enviarEmail(o){this.emailService.getCorreoJefeDepto(o).subscribe(i=>{this.emailService.notificarEmail({asunto:"Solicitud de veh\xedculo pendiente de aprobaci\xf3n",titulo:"Solicitud de veh\xedculo pendiente de aprobaci\xf3n",email:i.correo,receptor:"Estimad@ "+i.nombreCompleto+".",mensaje:this.usuarioActivo.empleado.nombre+" "+this.usuarioActivo.empleado.apellido+" ha realizado una solicitud de veh\xedculo para una misi\xf3n y esta a la espera de su aprobaci\xf3n.",centro:"Por favor ingrese al sistema para ver m\xe1s detalles",abajo:"Gracias por su atenci\xf3n a este importante mensaje.\nFeliz d\xeda!"})},i=>{console.error("Error al obtener el correo:",i)})}enviarEmailAnulacion(o,i){null==i&&(i="SIN NINGUNA OBSERVACI\xd3N"),this.emailService.getSolicitante(o).subscribe(n=>{this.emailService.notificarEmail({asunto:"Solicitud de veh\xedculo ANULADA",titulo:"Solicitud de veh\xedculo ANULADA",email:n.correo,receptor:"Estimad@ "+n.nombreCompleto+".",mensaje:"Su solicitud ha sido anulada por "+this.usuarioActivo.empleado.nombre+" "+this.usuarioActivo.empleado.apellido+". "+i,centro:"Por favor ingrese al sistema para ver m\xe1s detalles",abajo:"Gracias por su atenci\xf3n a este importante mensaje.\nFeliz d\xeda!"})},n=>{console.error("Error al obtener el correo:",n)})}enviarEmailSecre(o,i,n){this.emailService.getEmailNameRol(o).subscribe(l=>{this.emailService.notificarEmail({asunto:i,titulo:i,email:l.correo,receptor:"Estimad@ "+l.nombreCompleto+".",mensaje:n,centro:"Por favor ingrese al sistema para ver m\xe1s detalles",abajo:"Gracias por su atenci\xf3n a este importante mensaje.\nFeliz d\xeda!"})},l=>{console.error("Error al obtener el correo:",l)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(p.FF),e.Y36(s.qu),e.Y36(y.F0),e.Y36(q.k),e.Y36(p.Kz),e.Y36(k.O),e.Y36(Y.j))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-modal"]],inputs:{leyenda:"leyenda",estadoSelecionado:"estadoSelecionado",soliVeOd:"soliVeOd",usuarioActivo:"usuarioActivo",vista:"vista"},decls:132,vars:75,consts:[[1,"modal-header"],[1,"modal-title","mt-0"],["class","btn-alerta",4,"ngIf"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],["class","row",4,"ngIf"],[1,"row","mb-4"],[1,"col-md-5"],[1,"row"],[1,"col-md-6"],["for","fecha-solicitud"],["class","text-danger",4,"ngIf"],["type","date","id","fecha-solicitud","formControlName","fechaSolicitud","readonly","",1,"form-control"],[1,"invalid-feedback"],[4,"ngIf"],["for","fecha-mision"],["type","date","id","fecha-mision","formControlName","fechaSalida",1,"form-control",3,"readonly","change"],[1,"mt-2"],[1,"form-group"],["for","unidad-solicitante"],["type","text","id","unidad-solicitante","formControlName","unidadSolicitante","readonly","",1,"form-control"],["for","lugar-visitar"],["type","text","id","lugar-visitar","placeholder","Ingrese el lugar o insituci\xf3n que visitar\xe1","formControlName","lugarMision",1,"form-control",3,"value","readonly"],["class","col-md-6",4,"ngIf"],["for","hora-salida"],["type","time","id","hora-salida","formControlName","horaSalida",1,"form-control",3,"readonly"],[1,"col-md-3"],[1,"col-md-12"],["for","fecha-regreso"],["type","date","id","fecha-regreso","formControlName","fechaEntrada",1,"form-control",3,"readOnly","change"],[1,"mt-2","ngselect-ve"],["for","tipo-vehiculo"],["formControlName","tipoVehiculo","placeholder","Escriba o seleccione","labelForId","tipoVehiculo",3,"selectOnTab","class","change",4,"ngIf"],["type","text","class","form-control","id","tipo-vehiculo","formControlName","tipoVehiculo","readonly","",3,"value",4,"ngIf"],["for","vehiculo"],["selectTemplate",""],["inputTemplate",""],[3,"ngTemplateOutlet"],["for","hora-regreso"],["type","time","id","hora-regreso","formControlName","horaEntrada",1,"form-control",3,"readOnly"],[1,"col-md-4"],["for","objetivo-mision"],["id","objetivo-mision","cols","30","rows","3","placeholder","Ingrese el objetivo de la misi\xf3n","formControlName","objetivoMision",1,"form-control",3,"readonly"],["for","cantidad-pasajeros"],["type","number","id","cantidad-pasajeros","formControlName","cantidadPersonas","min","1",1,"form-control",3,"value","readonly","change","input"],[1,"d-flex","justify-content-end","mt-4"],["type","submit","class","btn btn-primary w-sm me-2","id","btn-save","name","btn-save",4,"ngIf"],["type","button","class","btn btn-primary w-sm me-2","id","btn-detalle-save","name","btn-save",3,"click",4,"ngIf"],["type","button","class","btn btn-warning w-sm me-2","id","btn-detalle-ave","name","btn-save",3,"click",4,"ngIf"],["type","button","id","btn-cancel","name","btn-cancel","aria-hidden","true",1,"btn","btn-dark","w-sm",3,"click"],[1,"btn-alerta"],["class","mdi mdi-18px mdi-lightbulb-on-outline custom-cursor","ngbTooltip","Mostrar Ayuda",3,"click",4,"ngIf"],["ngbTooltip","Mostrar Ayuda",1,"mdi","mdi-18px","mdi-lightbulb-on-outline","custom-cursor",3,"click"],["role","alert",3,"class",4,"ngIf"],["role","alert"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["for","misionInt",1,"alert-info","form-control","text-center"],["type","checkbox","id","misionInt","formControlName","isChecked",1,"form-check-input",3,"change"],[1,"text-danger"],["for","direccion"],["cols","30","rows","2","id","direccion","formControlName","direccion",1,"form-control",3,"readonly"],[3,"ngSwitch"],["class","col-md-12",4,"ngSwitchCase"],["class","col-md-6",4,"ngSwitchCase"],[4,"ngSwitchDefault"],["cols","30","rows","2","formControlName","direccionD","readonly","",1,"form-control"],["for","detpto"],["id","detpto","formControlName","depto","placeholder","Escriba o seleccione","labelForId","depto",3,"selectOnTab","notFoundText","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["for","municipio"],["id","municipio","formControlName","municipio","placeholder","Escriba o seleccione","labelForId","municipio",3,"selectOnTab","ngModelChange"],["for","canton"],["id","canton","formControlName","canton","placeholder","Escriba o seleccione","labelForId","canton",3,"selectOnTab"],["for","motoristaid"],["type","text","id","motoristaid","formControlName","motorista","readonly","",1,"form-control"],["for","observa-id"],["cols","30","rows","2","id","observa-id","formControlName","observaciones",1,"form-control",3,"placeholder","readonly"],["formControlName","tipoVehiculo","placeholder","Escriba o seleccione","labelForId","tipoVehiculo",3,"selectOnTab","change"],["type","text","id","tipo-vehiculo","formControlName","tipoVehiculo","readonly","",1,"form-control",3,"value"],["formControlName","vehiculo","placeholder","Escriba o seleccione","labelForId","vehiculo",3,"selectOnTab","class",4,"ngIf"],["formControlName","vehiculo","placeholder","Escriba o seleccione","labelForId","vehiculo",3,"selectOnTab"],["type","text","class","form-control","id","vehiculo","formControlName","vehiculo","readonly","",3,"value",4,"ngIf"],["type","text","id","vehiculo","formControlName","vehiculo","readonly","",1,"form-control",3,"value"],["for","distrito"],["id","distrito","formControlName","distrito","placeholder","Escriba o seleccione","labelForId","distrito",3,"selectOnTab","ngModelChange"],["for","solicitante"],["type","text","id","solicitante","formControlName","solicitante","readonly","",1,"form-control"],[4,"ngIf","ngIfElse"],["archivoAdjunto",""],["class","alert alert-warning",4,"ngIf"],["for","tablaPasajeros"],["class","table excel-table table-responsive","id","tablaPasajeros",4,"ngIf"],["class","table excel-table table-responsive","id","tablaPasajerosDetalle",4,"ngIf"],["id","tablaPasajeros",1,"table","excel-table","table-responsive"],["type","text",2,"width","100%",3,"formControl","readonly"],["id","tablaPasajerosDetalle",1,"table","excel-table","table-responsive"],[1,"alert","alert-warning"],["type","file","id","file","accept",".pdf","formControlName","file",3,"change"],["type","button",1,"btn","btn-primary",3,"click"],["type","button","id","btn-detalle-save-admin","name","btn-save",1,"btn","btn-primary","w-sm","me-2",3,"click"],["type","button","id","btn-detalle-anu","name","btn-save",1,"btn","btn-warning","w-sm","me-2",3,"click"],["type","submit","id","btn-save","name","btn-save",1,"btn","btn-primary","w-sm","me-2"],["type","button","id","btn-detalle-save","name","btn-save",1,"btn","btn-primary","w-sm","me-2",3,"click"],["type","button","id","btn-detalle-ave","name","btn-save",1,"btn","btn-warning","w-sm","me-2",3,"click"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"h5",1),e._uU(2),e.qZA(),e.YNc(3,R,2,1,"div",2),e.TgZ(4,"button",3),e.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,$,2,1,"div",5),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return i.guardar()}),e.YNc(8,B,4,0,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e.TgZ(11,"div",10),e.TgZ(12,"div",11),e.TgZ(13,"label",12),e._uU(14,"Fecha de solicitud: "),e.YNc(15,G,2,0,"span",13),e.qZA(),e._UZ(16,"input",14),e.TgZ(17,"div",15),e.YNc(18,W,2,0,"span",16),e.YNc(19,K,2,0,"span",16),e.qZA(),e.qZA(),e.TgZ(20,"div",11),e.TgZ(21,"label",17),e._uU(22,"Fecha de misi\xf3n: "),e.YNc(23,X,2,0,"span",13),e.qZA(),e.TgZ(24,"input",18),e.NdJ("change",function(){return i.cargarPlacas(i.formularioSoliVe.get("tipoVehiculo").value,i.formularioSoliVe.get("fechaSalida").value)}),e.qZA(),e.TgZ(25,"div",15),e.YNc(26,ee,2,0,"span",16),e.YNc(27,oe,2,0,"span",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",10),e.TgZ(29,"div",19),e.TgZ(30,"div",20),e.TgZ(31,"label",21),e._uU(32,"Unidad solicitante: "),e.YNc(33,ie,2,0,"span",13),e.qZA(),e._UZ(34,"input",22),e.TgZ(35,"div",15),e.YNc(36,te,2,0,"span",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",10),e.TgZ(38,"div",19),e.TgZ(39,"label",23),e._uU(40,"Lugar que visitar\xe1: "),e.YNc(41,ne,2,0,"span",13),e.qZA(),e._UZ(42,"input",24),e.TgZ(43,"div",15),e.YNc(44,ae,2,0,"span",16),e.YNc(45,le,2,0,"span",16),e.qZA(),e.qZA(),e.qZA(),e.YNc(46,de,9,6,"div",7),e.YNc(47,Te,6,4,"div",7),e.TgZ(48,"div",10),e.YNc(49,Ce,9,6,"div",25),e.TgZ(50,"div",11),e.TgZ(51,"div",19),e.TgZ(52,"label",26),e._uU(53,"Hora de salida: "),e.YNc(54,xe,2,0,"span",13),e.qZA(),e._UZ(55,"input",27),e.TgZ(56,"div",15),e.YNc(57,qe,2,0,"span",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(58,Me,6,0,"div",7),e.YNc(59,ye,9,5,"div",7),e.qZA(),e.TgZ(60,"div",28),e.TgZ(61,"div",10),e.TgZ(62,"div",29),e.TgZ(63,"label",30),e._uU(64,"Fecha de regreso: "),e.YNc(65,Oe,2,0,"span",13),e.qZA(),e.TgZ(66,"input",31),e.NdJ("change",function(){return i.cargarPlacas(i.formularioSoliVe.get("tipoVehiculo").value,i.formularioSoliVe.get("fechaSalida").value)}),e.qZA(),e.TgZ(67,"div",15),e.YNc(68,Ie,2,0,"span",16),e.YNc(69,Je,2,0,"span",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(70,"div",10),e.TgZ(71,"div",29),e.TgZ(72,"div",32),e.TgZ(73,"label",33),e._uU(74,"Tipo de veh\xedculo: "),e.YNc(75,Ue,2,0,"span",13),e.qZA(),e.YNc(76,je,2,4,"ng-select",34),e.TgZ(77,"div",15),e.YNc(78,we,2,0,"span",16),e.qZA(),e.YNc(79,Fe,1,1,"input",35),e.qZA(),e.qZA(),e.qZA(),e.TgZ(80,"div",10),e.TgZ(81,"div",29),e.TgZ(82,"div",19),e.TgZ(83,"label",36),e._uU(84,"Placa: "),e.YNc(85,Qe,2,0,"span",13),e.qZA(),e.YNc(86,Pe,3,2,"ng-template",null,37,e.W1O),e.YNc(88,ze,1,1,"ng-template",null,38,e.W1O),e._UZ(90,"div",39),e.qZA(),e.qZA(),e.qZA(),e.YNc(91,Be,10,6,"div",7),e.TgZ(92,"div",10),e.TgZ(93,"div",29),e.TgZ(94,"div",19),e.TgZ(95,"label",40),e._uU(96,"Hora de regreso: "),e.YNc(97,Ge,2,0,"span",13),e.qZA(),e._UZ(98,"input",41),e.TgZ(99,"div",15),e.YNc(100,We,2,0,"span",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(101,"div",42),e.TgZ(102,"div",10),e.TgZ(103,"div",29),e.TgZ(104,"label",43),e._uU(105,"Objetivo de la misi\xf3n: "),e.YNc(106,Ke,2,0,"span",13),e.qZA(),e.TgZ(107,"textarea",44),e._uU(108,"            "),e.qZA(),e.TgZ(109,"div",15),e.YNc(110,Xe,2,0,"span",16),e.YNc(111,eo,2,0,"span",16),e.qZA(),e.qZA(),e.qZA(),e.TgZ(112,"div",10),e.TgZ(113,"div",19),e.TgZ(114,"label",45),e._uU(115,"No. de personas que viajar\xe1n: "),e.YNc(116,oo,2,0,"span",13),e.qZA(),e.TgZ(117,"div",28),e.TgZ(118,"input",46),e.NdJ("change",function(){return i.actualizarFilas()})("input",function(){return i.actualizarFilas()}),e.qZA(),e.TgZ(119,"div",15),e.YNc(120,io,2,0,"span",16),e.YNc(121,to,2,0,"span",16),e.YNc(122,no,2,0,"span",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(123,ao,6,0,"div",7),e.YNc(124,ho,6,3,"div",7),e.qZA(),e.qZA(),e.TgZ(125,"div",47),e.YNc(126,vo,5,0,"div",16),e.YNc(127,bo,2,0,"button",48),e.YNc(128,Zo,2,0,"button",49),e.YNc(129,To,2,0,"button",50),e.TgZ(130,"button",51),e.NdJ("click",function(){return i.activeModal.close("Close click")}),e._uU(131,"Cancelar"),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o){const n=e.MAs(87),l=e.MAs(89);let r,_,v,b,Z,g,f,h,V,u,C,T,S,M,x,j,w;e.xp6(2),e.hij("",i.leyenda," Solicitud de Veh\xedculo"),e.xp6(1),e.Q6J("ngIf",i.alerts&&"Detalle"!=i.leyenda),e.xp6(3),e.Q6J("ngForOf",i.alerts),e.xp6(1),e.Q6J("formGroup",i.formularioSoliVe),e.xp6(1),e.Q6J("ngIf","Nueva"===i.leyenda&&null==i.soliVeOd),e.xp6(7),e.Q6J("ngIf",null==i.soliVeOd&&"Nueva"===i.leyenda),e.xp6(1),e.Tol(i.esCampoValido("fechaSolicitud")),e.xp6(2),e.Q6J("ngIf",null==(r=i.formularioSoliVe.get("fechaSolicitud"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(_=i.formularioSoliVe.get("fechaSolicitud"))||null==_.errors?null:_.errors.pattern),e.xp6(4),e.Q6J("ngIf",null==i.soliVeOd&&"Nueva"===i.leyenda),e.xp6(1),e.Tol(i.esCampoValido("fechaSalida")),e.Q6J("readonly",null!=i.soliVeOd&&"Detalle"===i.leyenda),e.xp6(2),e.Q6J("ngIf",null==(v=i.formularioSoliVe.get("fechaSalida"))||null==v.errors?null:v.errors.required),e.xp6(1),e.Q6J("ngIf",null==(b=i.formularioSoliVe.get("fechaSalida"))||null==b.errors?null:b.errors.pattern),e.xp6(6),e.Q6J("ngIf",null==i.soliVeOd&&"Nueva"===i.leyenda),e.xp6(1),e.Tol(i.esCampoValido("unidadSolicitante")),e.xp6(2),e.Q6J("ngIf",null==(Z=i.formularioSoliVe.get("unidadSolicitante"))||null==Z.errors?null:Z.errors.required),e.xp6(5),e.Q6J("ngIf",null==i.soliVeOd&&"Nueva"===i.leyenda),e.xp6(1),e.Tol(i.esCampoValido("lugarMision")),e.Q6J("value",null!=i.soliVeOd?i.soliVeOd.lugarMision:"")("readonly",null!=i.soliVeOd&&"Detalle"===i.leyenda),e.xp6(2),e.Q6J("ngIf",null==(g=i.formularioSoliVe.get("lugarMision"))||null==g.errors?null:g.errors.required),e.xp6(1),e.Q6J("ngIf",null==(f=i.formularioSoliVe.get("lugarMision"))||null==f.errors?null:f.errors.minlength),e.xp6(1),e.Q6J("ngIf",i.isChecked),e.xp6(1),e.Q6J("ngIf",!i.isChecked),e.xp6(2),e.Q6J("ngIf","Nueva"==i.leyenda&&null==i.soliVeOd&&!i.isChecked),e.xp6(5),e.Q6J("ngIf",null==i.soliVeOd&&"Nueva"===i.leyenda),e.xp6(1),e.Tol(i.esCampoValido("horaSalida")),e.Q6J("readonly","Detalle"==i.leyenda&&null!=i.soliVeOd),e.xp6(2),e.Q6J("ngIf",null==(h=i.formularioSoliVe.get("horaSalida"))||null==h.errors?null:h.errors.required),e.xp6(1),e.Q6J("ngIf","Detalle"==i.leyenda&&null!=i.soliVeOd.motorista),e.xp6(1),e.Q6J("ngIf","Nueva"!=i.leyenda),e.xp6(6),e.Q6J("ngIf",null==i.soliVeOd&&"Nueva"===i.leyenda),e.xp6(1),e.Tol(i.esCampoValido("fechaEntrada")),e.Q6J("readOnly","Detalle"==i.leyenda&&null!=i.soliVeOd),e.xp6(2),e.Q6J("ngIf",null==(V=i.formularioSoliVe.get("fechaEntrada"))||null==V.errors?null:V.errors.required),e.xp6(1),e.Q6J("ngIf",null==(u=i.formularioSoliVe.get("fechaEntrada"))||null==u.errors?null:u.errors.pattern),e.xp6(6),e.Q6J("ngIf",null==i.soliVeOd&&"Nueva"===i.leyenda),e.xp6(1),e.Q6J("ngIf","Nueva"==i.leyenda&&null==i.soliVeOd),e.xp6(2),e.Q6J("ngIf",null==(C=i.formularioSoliVe.get("tipoVehiculo"))||null==C.errors?null:C.errors.required),e.xp6(1),e.Q6J("ngIf","Detalle"==i.leyenda&&null!=i.soliVeOd),e.xp6(6),e.Q6J("ngIf",null==i.soliVeOd&&"Nueva"===i.leyenda),e.xp6(5),e.Q6J("ngTemplateOutlet","Nueva"==i.leyenda?n:l),e.xp6(1),e.Q6J("ngIf","Nueva"==i.leyenda&&null==i.soliVeOd&&!i.isChecked),e.xp6(6),e.Q6J("ngIf",null==i.soliVeOd&&"Nueva"===i.leyenda),e.xp6(1),e.Tol(i.esCampoValido("horaEntrada")),e.Q6J("readOnly","Detalle"==i.leyenda&&null!=i.soliVeOd),e.xp6(2),e.Q6J("ngIf",null==(T=i.formularioSoliVe.get("horaEntrada"))||null==T.errors?null:T.errors.required),e.xp6(6),e.Q6J("ngIf",null==i.soliVeOd&&"Nueva"===i.leyenda),e.xp6(1),e.Tol(i.esCampoValido("objetivoMision")),e.Q6J("readonly","Detalle"==i.leyenda&&null!=i.soliVeOd),e.xp6(3),e.Q6J("ngIf",null==(S=i.formularioSoliVe.get("objetivoMision"))||null==S.errors?null:S.errors.required),e.xp6(1),e.Q6J("ngIf",null==(M=i.formularioSoliVe.get("objetivoMision"))||null==M.errors?null:M.errors.minlength),e.xp6(5),e.Q6J("ngIf",null==i.soliVeOd&&"Nueva"===i.leyenda),e.xp6(2),e.Tol(i.esCampoValido("cantidadPersonas")),e.Q6J("value",i.formularioSoliVe.get("cantidadPersonas").value)("readonly","Detalle"==i.leyenda&&null!=i.soliVeOd),e.xp6(2),e.Q6J("ngIf",null==(x=i.formularioSoliVe.get("cantidadPersonas"))||null==x.errors?null:x.errors.required),e.xp6(1),e.Q6J("ngIf",null==(j=i.formularioSoliVe.get("cantidadPersonas"))||null==j.errors?null:j.errors.min),e.xp6(1),e.Q6J("ngIf",null==(w=i.formularioSoliVe.get("cantidadPersonas"))||null==w.errors?null:w.errors.pattern),e.xp6(1),e.Q6J("ngIf","Detalle"==i.leyenda&&null!=i.soliVeOd),e.xp6(1),e.Q6J("ngIf",i.cantidadPersonas>=2||"Detalle"==i.leyenda&&null!=i.soliVeOd&&i.soliVeOd.cantidadPersonas>=2),e.xp6(2),e.Q6J("ngIf","ADMIN"==i.usuarioActivo.role),e.xp6(1),e.Q6J("ngIf","Nueva"==i.leyenda),e.xp6(1),e.Q6J("ngIf",("JEFE_DEPTO"==i.usuarioActivo.role||"JEFE_FINANACIERO"==i.usuarioActivo.role||"DECANO"==i.usuarioActivo.role)&&"listado"===i.vista),e.xp6(1),e.Q6J("ngIf",("DECANO"==i.usuarioActivo.role||"JEFE_DEPTO"==i.usuarioActivo.role||"JEFE_FINANACIERO"==i.usuarioActivo.role)&&"listado"===i.vista)}},directives:[d.O5,d.sg,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,d.tP,s.wV,s.qQ,p._L,s.Wl,d.RF,d.n9,d.ED,I.w9,I.jq,s.oH],styles:['@charset "UTF-8";.select-readonly[_ngcontent-%COMP%]{background-color:#eff2f7;pointer-events:none}.excel-table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.excel-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .excel-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;padding:4px;text-align:left}.excel-cell[_ngcontent-%COMP%]{border:none;box-shadow:none;padding:.375rem .75rem;line-height:1.5}ng-select.is-invalid[_ngcontent-%COMP%]{box-shadow:0 0 0 1px #f46a6a;border-radius:.25rem}ng-select.is-valid[_ngcontent-%COMP%]{box-shadow:0 0 0 1px #34c38f;border-radius:.25rem}button.btn-close[_ngcontent-%COMP%]{margin-left:5px}']}),t})();var Ao=c(61473);function So(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"i",17),e.NdJ("click",function(){return e.CHM(o),e.oxw(2).restaurarAlerts()}),e.qZA()}}function Vo(t,a){if(1&t&&(e.TgZ(0,"div",15),e.YNc(1,So,1,0,"i",16),e.qZA()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o.siMuestraAlertas())}}function Co(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div",19),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._uU(3),e.TgZ(4,"button",20),e.NdJ("click",function(){e.CHM(o);const n=e.oxw().$implicit;return e.oxw().CambiarAlert(n)}),e.qZA(),e.qZA()}if(2&t){const o=e.oxw().$implicit;e.Gre("alert alert-",o.type," alert-dismissible fade show"),e.xp6(2),e.Oqu("info"===o.type?"Importante!":"Precauci\xf3n!"),e.xp6(1),e.hij(" ",o.message," ")}}function xo(t,a){if(1&t&&(e.TgZ(0,"div"),e.YNc(1,Co,5,5,"div",18),e.qZA()),2&t){const o=a.$implicit;e.xp6(1),e.Q6J("ngIf",o.show)}}function qo(t,a){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.ALo(7,"date"),e.qZA(),e.TgZ(8,"td"),e._uU(9),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.qZA(),e.TgZ(12,"td",21),e.TgZ(13,"h5"),e.TgZ(14,"span"),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const o=a.$implicit,i=a.index,n=e.oxw(2);e.xp6(2),e.Oqu(n.calcularNumeroCorrelativo(i)),e.xp6(2),e.Oqu(o.actividad),e.xp6(2),e.Oqu(e.xi3(7,9,o.fechaLogSoliVe,"dd/MM/yyyy HH:mm:ss")),e.xp6(3),e.Oqu(o.usuario),e.xp6(2),e.Oqu(o.cargo),e.xp6(3),e.Tol(1===o.estadoLogSolive?"badge rounded-pill bg-warning":2===o.estadoLogSolive?"badge rounded-pill bg-info":3===o.estadoLogSolive?"badge rounded-pill bg-esdec":4===o.estadoLogSolive?"badge rounded-pill bg-success":5===o.estadoLogSolive?"badge rounded-pill bg-purple":6===o.estadoLogSolive?"badge rounded-pill bg-revision":7===o.estadoLogSolive?"badge rounded-pill bg-prima":15===o.estadoLogSolive?"badge rounded-pill bg-danger":""),e.xp6(1),e.hij(" ",o.estadoString," ")}}function Mo(t,a){if(1&t&&(e.ynx(0),e.YNc(1,qo,16,12,"tr",5),e.BQk()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",o.log)}}function No(t,a){1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",22),e._uU(2," No hay datos disponibles. "),e.qZA(),e.qZA())}let yo=(()=>{class t{constructor(o,i){this.modalService=o,this.activeModal=i,this.alerts=[{id:1,type:"info",message:"Estos son los diferentes moviemientos que ha tenido la solicitud.",show:!1}]}ngOnInit(){}siMuestraAlertas(){return this.alerts.every(o=>o.show)}restaurarAlerts(){this.alerts.forEach(o=>{o.show=!0})}CambiarAlert(o){o.show=!o.show}calcularNumeroCorrelativo(o){return"number"==typeof this.p?10*(this.p-1)+o+1:o+1}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(p.FF),e.Y36(p.Kz))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-modal-log"]],inputs:{log:"log"},decls:30,vars:4,consts:[[1,"modal-header"],[1,"modal-title","mt-0"],["class","btn-alerta",4,"ngIf"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table-light"],[1,"align-middle"],[1,"align-middle",2,"text-align","center"],[4,"ngIf","ngIfElse"],["noDataTemplate",""],[1,"d-flex","justify-content-end"],["type","button","id","btn-cancel","name","btn-cancel","aria-hidden","true",1,"btn","btn-dark","w-sm",3,"click"],[1,"btn-alerta"],["class","mdi mdi-18px mdi-lightbulb-on-outline custom-cursor","ngbTooltip","Mostrar Ayuda",3,"click",4,"ngIf"],["ngbTooltip","Mostrar Ayuda",1,"mdi","mdi-18px","mdi-lightbulb-on-outline","custom-cursor",3,"click"],["role","alert",3,"class",4,"ngIf"],["role","alert"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[2,"text-align","center"],["colspan","6",2,"text-align","center"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"h5",1),e._uU(2,"Movimientos de la solicitud"),e.qZA(),e.YNc(3,Vo,2,1,"div",2),e.TgZ(4,"button",3),e.NdJ("click",function(){return i.activeModal.dismiss("Cross click")}),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,xo,2,1,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"table",7),e.TgZ(9,"thead",8),e.TgZ(10,"tr"),e.TgZ(11,"th",9),e._uU(12,"No."),e.qZA(),e.TgZ(13,"th",9),e._uU(14,"Actividad"),e.qZA(),e.TgZ(15,"th",9),e._uU(16,"Fecha"),e.qZA(),e.TgZ(17,"th",9),e._uU(18,"Usuario que la realiz\xf3"),e.qZA(),e.TgZ(19,"th",9),e._uU(20,"Cargo"),e.qZA(),e.TgZ(21,"th",10),e._uU(22,"Estado"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(23,"tbody"),e.YNc(24,Mo,2,1,"ng-container",11),e.YNc(25,No,3,0,"ng-template",null,12,e.W1O),e.qZA(),e.qZA(),e.qZA(),e.TgZ(27,"div",13),e.TgZ(28,"button",14),e.NdJ("click",function(){return i.activeModal.close("Close click")}),e._uU(29,"Cancelar"),e.qZA(),e.qZA(),e.qZA()),2&o){const n=e.MAs(26);e.xp6(3),e.Q6J("ngIf",i.alerts),e.xp6(3),e.Q6J("ngForOf",i.alerts),e.xp6(18),e.Q6J("ngIf",i.log.length>0)("ngIfElse",n)}},directives:[d.O5,d.sg,p._L],pipes:[d.uU],styles:[".bg-purple[_ngcontent-%COMP%]{background-color:#b79ced;color:#fff}.bg-revision[_ngcontent-%COMP%]{background-color:#a6acaf;color:#fff}.bg-prima[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.bg-esdec[_ngcontent-%COMP%]{background-color:#873600;color:#fff}.bg-asignado[_ngcontent-%COMP%]{background-color:#48c9b0;color:#fff}button.btn-close[_ngcontent-%COMP%]{margin-left:5px}"]}),t})();var U=c(60841),D=c(98816);function Oo(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(o);const n=e.oxw(2).$implicit;return e.oxw(2).abrirModal("Detalle",n)}),e._UZ(1,"i",19),e.qZA()}}function Io(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(o);const n=e.oxw(2).$implicit;return e.oxw(2).abrirModalParaAdmin("Detalle",n)}),e._UZ(1,"i",19),e.qZA()}}function Jo(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(o);const n=e.oxw(2).$implicit;return e.oxw(2).aprobarSolicitudAdmin(n)}),e._UZ(1,"i",21),e.qZA()}}function Uo(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(o);const n=e.oxw(2).$implicit;return e.oxw(2).abrirModalSecre("Edicion",n)}),e._UZ(1,"i",23),e.qZA()}}function Eo(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"div"),e.YNc(1,Oo,2,0,"button",12),e.YNc(2,Io,2,0,"button",12),e.YNc(3,Jo,2,0,"button",13),e.YNc(4,Uo,2,0,"button",14),e.TgZ(5,"button",16),e.NdJ("click",function(){e.CHM(o);const n=e.oxw().$implicit;return e.oxw(2).abrirModalLog(n)}),e._UZ(6,"i",17),e.qZA(),e.qZA()}if(2&t){const o=e.oxw().$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","ADMIN"==i.userAcivo.role&&"mis-solicitudes"==i.vista),e.xp6(1),e.Q6J("ngIf","ADMIN"==i.userAcivo.role&&"listar"==i.vista),e.xp6(1),e.Q6J("ngIf",1==o.estado||3==o.estado),e.xp6(1),e.Q6J("ngIf","ADMIN"==i.userAcivo.role&&(i.solicitudesVehiculo.length>0&&2==i.solicitudesVehiculo[0].estado||i.solicitudesVehiculo.length>0&&6==i.solicitudesVehiculo[0].estado)&&"listar"==i.vista)}}function jo(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(o);const n=e.oxw().$implicit;return e.oxw(2).abrirModal("Detalle",n)}),e._UZ(1,"i",19),e.qZA()}}function wo(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(o);const n=e.oxw().$implicit;return e.oxw(2).aprobarSolicitud(n)}),e._UZ(1,"i",21),e.qZA()}}function Fo(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"button",22),e.NdJ("click",function(){e.CHM(o);const n=e.oxw().$implicit;return e.oxw(2).abrirModalSecre("Edicion",n)}),e._UZ(1,"i",23),e.qZA()}}function Qo(t,a){if(1&t){const o=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(o);const n=e.oxw().$implicit;return e.oxw(2).abrirModalLog(n)}),e._UZ(1,"i",17),e.qZA()}}function ko(t,a){if(1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"date"),e.qZA(),e.TgZ(10,"td",10),e._uU(11),e.qZA(),e.TgZ(12,"td",10),e.TgZ(13,"h5"),e.TgZ(14,"span"),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"td",10),e.YNc(17,Eo,7,4,"div",11),e.YNc(18,jo,2,0,"button",12),e.YNc(19,wo,2,0,"button",13),e.YNc(20,Fo,2,0,"button",14),e.YNc(21,Qo,2,0,"button",15),e.qZA(),e.qZA()),2&t){const o=a.$implicit,i=a.index,n=e.oxw(2);e.xp6(2),e.Oqu(n.calcularNumeroCorrelativo(i)),e.xp6(2),e.Oqu(o.solicitante.empleado.departamento.nombre),e.xp6(2),e.Oqu(o.lugarMision),e.xp6(2),e.Oqu(e.xi3(9,14,o.fechaSalida,"dd/MM/yyyy")),e.xp6(3),e.Oqu(o.cantidadPersonas),e.xp6(3),e.Tol(1===o.estado?"badge rounded-pill bg-warning":2===o.estado?"badge rounded-pill bg-info":3===o.estado?"badge rounded-pill bg-esdec":4===o.estado?"badge rounded-pill bg-success":5===o.estado?"badge rounded-pill bg-purple":6===o.estado?"badge rounded-pill bg-revision":7===o.estado?"badge rounded-pill bg-prima":15===o.estado?"badge rounded-pill bg-danger":""),e.xp6(1),e.hij(" ",o.estadoString," "),e.xp6(2),e.Q6J("ngIf","ADMIN"==n.userAcivo.role),e.xp6(1),e.Q6J("ngIf","ADMIN"!=n.userAcivo.role),e.xp6(1),e.Q6J("ngIf",("DECANO"==n.userAcivo.role&&n.solicitudesVehiculo.length>0&&3==n.solicitudesVehiculo[0].estado||"DECANO"==n.userAcivo.role&&n.solicitudesVehiculo.length>0&&1==n.solicitudesVehiculo[0].estado||"JEFE_FINANACIERO"==n.userAcivo.role&&n.solicitudesVehiculo.length>0&&1==n.solicitudesVehiculo[0].estado||"JEFE_DEPTO"==n.userAcivo.role&&n.solicitudesVehiculo.length>0&&1==n.solicitudesVehiculo[0].estado)&&"listado"==n.vista),e.xp6(1),e.Q6J("ngIf","SECR_DECANATO"==n.userAcivo.role&&(n.solicitudesVehiculo.length>0&&2==n.solicitudesVehiculo[0].estado||n.solicitudesVehiculo.length>0&&6==n.solicitudesVehiculo[0].estado)&&"listado"==n.vista),e.xp6(1),e.Q6J("ngIf","mis-solicitudes"==n.vista)}}const Yo=function(t){return{itemsPerPage:5,currentPage:t}};function Do(t,a){if(1&t&&(e.ynx(0),e.YNc(1,ko,22,17,"tr",9),e.ALo(2,"paginate"),e.ALo(3,"filter"),e.BQk()),2&t){const o=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,e.xi3(3,4,o.solicitudesVehiculo,o.term),e.VKq(7,Yo,o.p)))}}function Po(t,a){1&t&&(e.TgZ(0,"tr"),e.TgZ(1,"td",24),e._uU(2," No hay datos disponibles. "),e.qZA(),e.qZA())}let E=(()=>{class t{constructor(o,i,n,l){this.modalService=o,this.mensajesService=i,this.soliService=n,this.emailService=l,this.solicitudVale={idSolicitudVale:"",cantidadVale:0,estadoEntrada:1,estado:8,solicitudVehiculo:""}}ngOnInit(){}abrirModal(o,i){if("DECANO"==this.userAcivo.role&&3==i.estado&&"listado"==this.vista)this.abrirModalSecre(o,i);else if("SECR_DECANATO"!=this.userAcivo.role||2!=i.estado&&6!=i.estado||"listado"!=this.vista){this.selectedData=i;const n=this.modalService.open(J,{size:"xl",backdrop:"static"});n.componentInstance.leyenda=o,n.componentInstance.soliVeOd=i,n.componentInstance.vista=this.vista,n.componentInstance.usuarioActivo=this.userAcivo}else this.abrirModalSecre(o,i)}abrirModalParaAdmin(o,i){if("ADMIN"==this.userAcivo.role&&1==i.estado&&"listar"==this.vista){this.selectedData=i;const n=this.modalService.open(J,{size:"xl",backdrop:"static"});n.componentInstance.leyenda=o,n.componentInstance.soliVeOd=i,n.componentInstance.vista=this.vista,n.componentInstance.usuarioActivo=this.userAcivo}else"ADMIN"==this.userAcivo.role&&1!=i.estado&&this.abrirModalSecre(o,i)}abrirModalSecre(o,i){const n=this.modalService.open(Ao.K,{size:"xl",backdrop:"static"});n.componentInstance.leyenda=o,n.componentInstance.soliVeOd=i,n.componentInstance.usuarioActivo=this.userAcivo}abrirModalLog(o){this.obtenerLog(o.codigoSolicitudVehiculo).then(()=>{this.modalService.open(yo,{size:"xl",backdrop:"static"}).componentInstance.log=this.logSoli})}obtenerLog(o){return this.soliService.getLogSoli(o).then(i=>{this.logSoli=i}).catch(i=>{console.error("Error al obtener el log de la solicitud",i)})}aprobarSolicitud(o){return(0,A.mG)(this,void 0,void 0,function*(){1==(yield this.mensajesService.mensajeAprobar())&&("JEFE_DEPTO"==this.userAcivo.role?yield this.actualizarSolicitud(o):yield this.actualizarSolicitudDec(o))})}revisionSolicitud(o){return(0,A.mG)(this,void 0,void 0,function*(){1==(yield this.mensajesService.mensajeRevision())&&(o.estado=6,yield this.actualizarSolicitud(o))})}anularSolicitud(o){return(0,A.mG)(this,void 0,void 0,function*(){1==(yield this.mensajesService.mensajeAnular())&&(o.estado=15,yield this.actualizarSolicitud(o))})}actualizarSolicitud(o){return new Promise((i,n)=>{this.soliService.updateSolciitudVehiculo(o).subscribe({next:()=>{"ADMIN"==this.userAcivo.role?this.soliService.getSolicitudesVehiculo(1):this.soliService.getSolicitudesRol(this.userAcivo.role),this.enviarEmailAprob("SECR_DECANATO","Nueva solicitud de veh\xedculo pendiente","Tiene una nueva solicitud de veh\xedculo pendiente de asignar motorista o verificaci\xf3n de la informaci\xf3n."),this.mensajesService.mensajesToast("success","Solicitud aprobada con \xe9xito"),i()},error:l=>{m().close(),this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal",l.error.message),n(l)}})})}actualizarSolicitudDec(o){return new Promise((i,n)=>{this.soliService.updateSolciitudVehiculo(o).subscribe({next:()=>{this.solicitudVale.cantidadVale=0,this.solicitudVale.estadoEntrada=1,this.solicitudVale.estado=8,this.solicitudVale.solicitudVehiculo=o.codigoSolicitudVehiculo,this.soliService.registrarSolicitudVale(this.solicitudVale).subscribe({next:()=>{"ADMIN"==this.userAcivo.role?this.soliService.getSolicitudesVehiculo(3):this.soliService.getSolicitudesRol(this.userAcivo.role),this.enviarEmailAprob("SECR_DECANATO","Nueva solicitud de veh\xedculo pendiente","Tiene una nueva solicitud de veh\xedculo pendiente de asignar motorista o verificaci\xf3n de la informaci\xf3n."),this.mensajesService.mensajesToast("success","Solicitud aprobada con \xe9xito"),i()},error:l=>{m().close(),this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal al aprobar la solicitud",l.error.message),n(l)}})},error:l=>{m().close(),this.mensajesService.mensajesSweet("error","Ups... Algo sali\xf3 mal",l.error.message),n(l)}})})}calcularNumeroCorrelativo(o){return"number"==typeof this.p?10*(this.p-1)+o+1:o+1}aprobarSolicitudAdmin(o){return(0,A.mG)(this,void 0,void 0,function*(){1==(yield this.mensajesService.mensajeAprobar())&&(1==o.estado?yield this.actualizarSolicitud(o):3==o.estado&&(yield this.actualizarSolicitudDec(o)))})}enviarEmailAprob(o,i,n){this.emailService.getEmailNameRol(o).subscribe(l=>{this.emailService.notificarEmail({asunto:i,titulo:i,email:l.correo,receptor:"Estimad@ "+l.nombreCompleto+".",mensaje:n,centro:"Por favor ingrese al sistema para ver m\xe1s detalles tabla",abajo:"Gracias por su atenci\xf3n a este importante mensaje.\nFeliz d\xeda!"})},l=>{console.error("Error al obtener el correo:",l)})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(p.FF),e.Y36(k.O),e.Y36(q.k),e.Y36(Y.j))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-tabla"]],inputs:{solicitudesVehiculo:"solicitudesVehiculo",opc:"opc",term:"term",vista:"vista",userAcivo:"userAcivo"},decls:24,vars:4,consts:[[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table-light"],[1,"align-middle"],[1,"align-middle",2,"text-align","center"],[4,"ngIf","ngIfElse"],["noDataTemplate",""],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"nextLabel","previousLabel","pageChange"],[4,"ngFor","ngForOf"],[2,"text-align","center"],[4,"ngIf"],["type","button","class","btn btn-primary btn-sm btn-rounded boton-cuadrado mx-1","ngbTooltip","M\xe1s informaci\xf3n",3,"click",4,"ngIf"],["type","button","class","btn btn-success btn-sm btn-rounded boton-cuadrado mx-1","ngbTooltip","Aprobar",3,"click",4,"ngIf"],["type","button","class","btn btn-info btn-sm btn-rounded boton-cuadrado mx-1","ngbTooltip","Asignar",3,"click",4,"ngIf"],["type","button","class","btn btn-dark btn-sm btn-rounded boton-cuadrado mx-1","ngbTooltip","Movimientos",3,"click",4,"ngIf"],["type","button","ngbTooltip","Movimientos",1,"btn","btn-dark","btn-sm","btn-rounded","boton-cuadrado","mx-1",3,"click"],[1,"mdi","mdi-18px","mdi-clock-check-outline"],["type","button","ngbTooltip","M\xe1s informaci\xf3n",1,"btn","btn-primary","btn-sm","btn-rounded","boton-cuadrado","mx-1",3,"click"],[1,"mdi","mdi-18px","mdi-eye-outline"],["type","button","ngbTooltip","Aprobar",1,"btn","btn-success","btn-sm","btn-rounded","boton-cuadrado","mx-1",3,"click"],[1,"mdi","mdi-18px","mdi-check-outline"],["type","button","ngbTooltip","Asignar",1,"btn","btn-info","btn-sm","btn-rounded","boton-cuadrado","mx-1",3,"click"],[1,"mdi","mdi-18px","mdi-book-edit-outline"],["colspan","6",2,"text-align","center"]],template:function(o,i){if(1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"table",1),e.TgZ(2,"thead",2),e.TgZ(3,"tr"),e.TgZ(4,"th",3),e._uU(5,"No."),e.qZA(),e.TgZ(6,"th",3),e._uU(7,"Departamento"),e.qZA(),e.TgZ(8,"th",3),e._uU(9,"Lugar"),e.qZA(),e.TgZ(10,"th",3),e._uU(11,"Fecha uso"),e.qZA(),e.TgZ(12,"th",4),e._uU(13,"Personas"),e.qZA(),e.TgZ(14,"th",4),e._uU(15,"Estado"),e.qZA(),e.TgZ(16,"th",4),e._uU(17," Acciones "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"tbody"),e.YNc(19,Do,4,9,"ng-container",5),e.YNc(20,Po,3,0,"ng-template",null,6,e.W1O),e.qZA(),e.qZA(),e.TgZ(22,"div",7),e.TgZ(23,"pagination-controls",8),e.NdJ("pageChange",function(l){return i.p=l}),e.qZA(),e.qZA(),e.qZA()),2&o){const n=e.MAs(21);e.xp6(19),e.Q6J("ngIf",i.solicitudesVehiculo.length>0)("ngIfElse",n),e.xp6(4),e.Q6J("nextLabel","")("previousLabel","")}},directives:[d.O5,U.LS,d.sg,p._L],pipes:[U._s,D.Z,d.uU],styles:[".bg-purple[_ngcontent-%COMP%]{background-color:#b79ced;color:#fff}.bg-revision[_ngcontent-%COMP%]{background-color:#a6acaf;color:#fff}.bg-prima[_ngcontent-%COMP%]{background-color:#00f;color:#fff}.bg-esdec[_ngcontent-%COMP%]{background-color:#873600;color:#fff}.bg-asignado[_ngcontent-%COMP%]{background-color:#48c9b0;color:#fff}"]}),t})();function Lo(t,a){if(1&t&&e._UZ(0,"app-tabla",15),2&t){const o=e.oxw();e.Q6J("solicitudesVehiculo",o.listSoliVeData)("userAcivo",o.usuario)("vista","listado")("term",o.term)}}let zo=(()=>{class t{constructor(o,i){this.soliVeService=o,this.userService=i,this.solicitudesVehiculo=[]}ngOnInit(){this.breadCrumbItems=[{label:"Solicitud de Veh\xedculo"},{label:"Lista",active:!0}],this.userService.getUsuario(),this.obtenerUsuarioActivo()}obtenerUsuarioActivo(){this.soliVeService.getUsuarioSV().subscribe(o=>{this.usuario=o,this.soliVeService.getSolicitudesRol(this.usuario.role)})}get usuarioActivo(){return this.userService.usuario}get listSoliVeData(){return this.soliVeService.listSoliVehiculoRol}calcularNumeroCorrelativo(o){return"number"==typeof this.p?10*(this.p-1)+o+1:o+1}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(q.k),e.Y36(Q.i))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-listar"]],decls:15,vars:3,consts:[[1,"container-fluid"],["title","Solicitudes de Veh\xedculos",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"search-box","me-2","mb-2","d-inline-block"],[1,"position-relative"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModel","ngModelChange"],[1,"bx","bx-search-alt","search-icon"],[1,"col-sm-5"],[1,"text-sm-end"],[3,"solicitudesVehiculo","userAcivo","vista","term",4,"ngIf"],[3,"solicitudesVehiculo","userAcivo","vista","term"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-page-title",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e.TgZ(9,"div",9),e.TgZ(10,"input",10),e.NdJ("ngModelChange",function(l){return i.term=l}),e.qZA(),e._UZ(11,"i",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",12),e._UZ(13,"div",13),e.qZA(),e.qZA(),e.YNc(14,Lo,1,4,"app-tabla",14),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(1),e.Q6J("breadcrumbItems",i.breadCrumbItems),e.xp6(9),e.Q6J("ngModel",i.term),e.xp6(4),e.Q6J("ngIf",i.usuario))},directives:[O.V,s.Fj,s.JJ,s.On,d.O5,E],styles:[""]}),t})();function Ro(t,a){if(1&t&&(e.TgZ(0,"option",22),e._uU(1),e.qZA()),2&t){const o=a.$implicit;e.Q6J("value",o.codigoEstado),e.xp6(1),e.Oqu(o.nombreEstado)}}function Ho(t,a){if(1&t&&e._UZ(0,"app-tabla",23),2&t){const o=e.oxw();e.Q6J("solicitudesVehiculo",o.listSoliVeData)("userAcivo",o.usuario)("vista","mis-solicitudes")("term",o.term)}}let $o=(()=>{class t{constructor(o,i,n){this.soliVeService=o,this.modalService=i,this.userService=n,this.page=0,this.size=10,this.estadosSoliVe=[],this.textSizeClass=""}ngOnInit(){this.obtenerUsuarioActivo(),this.breadCrumbItems=[{label:"Solicitud de Veh\xedculo"},{label:"Mis Solicitudes",active:!0}],this.soliVeService.getSolicitudesVehiculo(this.estadoSeleccionado),this.getEstados(),this.setInitialTextSize()}abrirModal(o){const i=this.modalService.open(J,{size:"xl",backdrop:"static"});i.componentInstance.leyenda=o,i.componentInstance.estadoSeleccionado=this.estadoSeleccionado,i.componentInstance.usuarioActivo=this.usuarioActivo}obtenerUsuarioActivo(){this.soliVeService.getUsuarioSV().subscribe(o=>{this.usuario=o})}get usuarioActivo(){return this.userService.usuario}get listSoliVeData(){return this.soliVeService.listSoliVehiculo}onEstadoSeleccionado(o){this.estadoSeleccionado=o.target.value,this.soliVeService.getSolicitudesVehiculo(0==this.estadoSeleccionado?null:this.estadoSeleccionado)}getEstados(){this.soliVeService.obtenerEstados().subscribe(o=>{this.estadosSoliVe=o})}setInitialTextSize(){const o=window.innerWidth;this.textSizeClass=o<576?"text-xs":o>=576&&o<768?"text-sm":"text-xl"}onResize(o){this.setInitialTextSize()}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(q.k),e.Y36(p.FF),e.Y36(Q.i))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-mis-solicitudes"]],hostBindings:function(o,i){1&o&&e.NdJ("resize",function(l){return i.onResize(l)},!1,e.Jf7)},decls:25,vars:8,consts:[[1,"container-fluid"],["title","Solicitudes de Veh\xedculos",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2","align-items-end"],[1,"col-sm-4","col-md-4"],[1,"search-box","me-2","mb-2","d-inline-block"],[1,"position-relative"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModel","ngModelChange"],[1,"bx","bx-search-alt","search-icon"],[1,"col-sm-4","col-md-3"],[1,"form-group","me-2","mb-2"],["for","estadoSeleccionado"],["id","estadoSeleccionado",1,"form-control","custom-select","smaller-text",3,"ngModel","ngModelChange","change"],["disabled","","selected","",3,"ngValue"],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-4","col-md-5"],[1,"text-sm-end","me-2","mb-2"],["type","button",1,"btn","btn-primary","btn-rounded",3,"click"],[3,"solicitudesVehiculo","userAcivo","vista","term",4,"ngIf"],[3,"value"],[3,"solicitudesVehiculo","userAcivo","vista","term"]],template:function(o,i){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"app-page-title",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"div",6),e.TgZ(7,"div",7),e.TgZ(8,"div",8),e.TgZ(9,"div",9),e.TgZ(10,"input",10),e.NdJ("ngModelChange",function(l){return i.term=l}),e.qZA(),e._UZ(11,"i",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",12),e.TgZ(13,"div",13),e.TgZ(14,"label",14),e._uU(15,"Filtro por estado"),e.qZA(),e.TgZ(16,"select",15),e.NdJ("ngModelChange",function(l){return i.estadoSeleccionado=l})("change",function(l){return i.onEstadoSeleccionado(l)}),e.TgZ(17,"option",16),e._uU(18,"Seleccione..."),e.qZA(),e.YNc(19,Ro,2,2,"option",17),e.qZA(),e.qZA(),e.qZA(),e.TgZ(20,"div",18),e.TgZ(21,"div",19),e.TgZ(22,"button",20),e.NdJ("click",function(){return i.abrirModal("Nueva")}),e._uU(23,"Agregar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(24,Ho,1,4,"app-tabla",21),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(1),e.Tol(i.textSizeClass),e.Q6J("breadcrumbItems",i.breadCrumbItems),e.xp6(9),e.Q6J("ngModel",i.term),e.xp6(6),e.Q6J("ngModel",i.estadoSeleccionado),e.xp6(1),e.Q6J("ngValue",void 0),e.xp6(2),e.Q6J("ngForOf",i.estadosSoliVe),e.xp6(5),e.Q6J("ngIf",i.usuario))},directives:[O.V,s.Fj,s.JJ,s.On,s.EJ,s.YN,s.Kr,d.sg,d.O5,E],styles:[".custom-select[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.custom-select[_ngcontent-%COMP%]:disabled{opacity:.65;pointer-events:none}.smaller-text[_ngcontent-%COMP%]{font-size:13px}.text-xs[_ngcontent-%COMP%]{font-size:10.5px}.text-sm[_ngcontent-%COMP%]{font-size:11.5px}.text-xl[_ngcontent-%COMP%]{font-size:13px}"]}),t})();var Bo=c(34576);function Go(t,a){if(1&t&&e._UZ(0,"app-tabla",26),2&t){const o=e.oxw();e.Q6J("solicitudesVehiculo",o.listSoliVeData)("userAcivo",o.usuario)("vista","listar")("term",o.term)}}const Wo=[{path:"listado",component:zo},{path:"mis-solicitudes",component:$o},{path:"listar",component:(()=>{class t{constructor(o){this.serviceSoliVe=o}ngOnInit(){this.obtenerUsuarioActivo(),this.breadCrumbItems=[{label:"Solicitud de Veh\xedculo"},{label:"Listar",active:!0}]}filtrar(o){this.estadoSeleccionado=o.target.value?o.target.value:null,this.serviceSoliVe.getSolicitudesVehiculo(this.estadoSeleccionado)}get listSoliVeData(){return this.serviceSoliVe.listSoliVehiculo?this.serviceSoliVe.listSoliVehiculo:[]}obtenerUsuarioActivo(){this.serviceSoliVe.getUsuarioSV().subscribe(o=>{this.usuario=o})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(q.k))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-listar-admin"]],decls:37,vars:3,consts:[[1,"container-fluid"],["title","Solicitudes de Veh\xedculos",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2","align-items-end"],[1,"col-sm-4","col-md-4"],[1,"search-box","me-2","mb-2","d-inline-block"],[1,"position-relative"],["type","text","placeholder","Buscar",1,"form-control",3,"ngModel","ngModelChange"],[1,"bx","bx-search-alt","search-icon"],[1,"col-sm-4","col-md-3"],[1,"form-group","me-2","mb-2"],["for",""],["id","exampleCombobox","aria-label","Filtro por estado",1,"form-control",3,"change"],["value","","disabled","","selected",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["value","6"],["value","7"],["value","15"],["aria-label","Tabla de solicitudes de veh\xedculos",3,"solicitudesVehiculo","userAcivo","vista","term",4,"ngIf"],["aria-label","Tabla de solicitudes de veh\xedculos",3,"solicitudesVehiculo","userAcivo","vista","term"]],template:function(o,i){1&o&&(e._UZ(0,"app-loader"),e.TgZ(1,"div",0),e._UZ(2,"app-page-title",1),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e.TgZ(11,"input",10),e.NdJ("ngModelChange",function(l){return i.term=l}),e.qZA(),e._UZ(12,"i",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",12),e.TgZ(14,"div",13),e.TgZ(15,"label",14),e._uU(16,"Filtro por estado"),e.qZA(),e.TgZ(17,"select",15),e.NdJ("change",function(l){return i.filtrar(l)}),e.TgZ(18,"option",16),e._uU(19,"Seleccione..."),e.qZA(),e.TgZ(20,"option",17),e._uU(21,"En espera por jefe"),e.qZA(),e.TgZ(22,"option",18),e._uU(23,"Aprobado por jefe"),e.qZA(),e.TgZ(24,"option",19),e._uU(25,"En espera por decano"),e.qZA(),e.TgZ(26,"option",20),e._uU(27,"Aprobada"),e.qZA(),e.TgZ(28,"option",21),e._uU(29,"Vales Asignados"),e.qZA(),e.TgZ(30,"option",22),e._uU(31,"Revisi\xf3n"),e.qZA(),e.TgZ(32,"option",23),e._uU(33,"Finalizadas"),e.qZA(),e.TgZ(34,"option",24),e._uU(35,"Anuladas"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.YNc(36,Go,1,4,"app-tabla",25),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("breadcrumbItems",i.breadCrumbItems),e.xp6(9),e.Q6J("ngModel",i.term),e.xp6(25),e.Q6J("ngIf",i.usuario))},directives:[Bo.R,O.V,s.Fj,s.JJ,s.On,s.YN,s.Kr,d.O5,E],styles:[""]}),t})()}];let Ko=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[y.Bz.forChild(Wo)],y.Bz]}),t})();var Xo=c(63091);let ei=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[p.Kz],imports:[[d.ez,Ko,Xo.v,s.u5,U.JX,D.h,s.UX,I.A0,p.HK,p.IJ]]}),t})()}}]);