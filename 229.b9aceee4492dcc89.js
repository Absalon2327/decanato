"use strict";(self.webpackChunkskote=self.webpackChunkskote||[]).push([[229],{46229:(L,T,u)=>{u.r(T),u.d(T,{VehiculoModule:()=>Oe});var l=u(86019),Z=u(56225),a=u(49133),f=u(24017),e=u(83668),m=u(20154),s=u(38053),d=u(18260),c=u(44522);let _=(()=>{class o{constructor(n){this.http=n,this.url=d.N.baseUrl,this.listVehiclos=[]}gyetVehi(){return this.http.get(this.url+"/vehiculo/lista").pipe((0,s.U)(n=>n.content))}getVehiculos(){this.http.get(`${this.url}/vehiculo/lista`).pipe((0,s.U)(n=>n.content)).subscribe(n=>{this.listVehiclos=n},n=>{console.error("Error al obtener las vehiculos:",n)})}guardarVehiculo(n){return this.http.post(`${this.url}/vehiculo/insertar`,n)}editarVehiculo(n){return this.http.put(`${this.url}/vehiculo/editar`,n)}}return o.\u0275fac=function(n){return new(n||o)(e.LFG(c.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var z=u(66548),P=u(48045);function $(o,i){if(1&o){const n=e.EpF();e.TgZ(0,"i",56),e.NdJ("click",function(){return e.CHM(n),e.oxw(2).restaurarAlerts()}),e.qZA()}}function H(o,i){if(1&o&&(e.TgZ(0,"div",54),e.YNc(1,$,1,0,"i",55),e.qZA()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngIf",!n.siMuestraAlertas())}}function G(o,i){if(1&o){const n=e.EpF();e.TgZ(0,"div",58),e.TgZ(1,"strong"),e._uU(2),e.qZA(),e._UZ(3,"br"),e._uU(4),e._UZ(5,"br"),e._uU(6),e.TgZ(7,"button",59),e.NdJ("click",function(){e.CHM(n);const r=e.oxw().$implicit;return e.oxw().cambiarAlert(r)}),e.qZA(),e.qZA()}if(2&o){const n=e.oxw().$implicit;e.Gre("alert alert-",n.type," alert-dismissible fade show"),e.xp6(2),e.Oqu("info"===n.type?"Importante!":"Precauci\xf3n!"),e.xp6(2),e.hij(" ",n.message," "),e.xp6(2),e.hij(" ",n.messageTwo," ")}}function X(o,i){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,G,8,6,"div",57),e.qZA()),2&o){const n=i.$implicit;e.xp6(1),e.Q6J("ngIf",n.show)}}function K(o,i){if(1&o){const n=e.EpF();e.TgZ(0,"div",60),e.TgZ(1,"div",11),e.TgZ(2,"label",61),e._uU(3,"Foto: "),e.qZA(),e.TgZ(4,"input",62),e.NdJ("change",function(r){return e.CHM(n),e.oxw().onFileSelected(r)}),e.qZA(),e.qZA(),e.qZA()}}function W(o,i){1&o&&(e.TgZ(0,"span",63),e.TgZ(1,"strong"),e._uU(2,"Foto Vehiclo:"),e.qZA(),e.qZA())}function ee(o,i){if(1&o&&e._UZ(0,"img",64),2&o){const n=e.oxw();e.s9C("src",n.objVehiculo.nombrefoto,e.LSH)}}function te(o,i){if(1&o&&e._UZ(0,"img",64),2&o){const n=e.oxw();e.Q6J("src",n.imgTemp,e.LSH)}}function oe(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere Placa "),e.qZA())}function ne(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Formato no aceptado "),e.qZA())}function le(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere Fecha Tarjeta "),e.qZA())}function ie(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Fecha vencimiento debe ser mayor "),e.qZA())}function ae(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," No cumple formato "),e.qZA())}function re(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere un Modelo "),e.qZA())}function se(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere Marca "),e.qZA())}function ue(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Ingreso solo texto "),e.qZA())}function ce(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere Motor "),e.qZA())}function pe(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw();let t;e.xp6(1),e.hij(" Tamano minimo ",null==(t=n.formVehiculo.get("n_motor"))||null==t.errors||null==t.errors.minlength?null:t.errors.minlength.requiredLength," ")}}function de(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw();let t;e.xp6(1),e.hij(" Tamano maximo ",null==(t=n.formVehiculo.get("n_motor"))||null==t.errors||null==t.errors.maxlength?null:t.errors.maxlength.requiredLength," ")}}function me(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere Chasis "),e.qZA())}function ge(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," No cumple formato 17 numeros "),e.qZA())}function _e(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere una Clase "),e.qZA())}function fe(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Ingreso solo texto "),e.qZA())}function Ze(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere un Color "),e.qZA())}function he(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Ingreso solo texto "),e.qZA())}function Te(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere Capacidad "),e.qZA())}function ve(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw();let t;e.xp6(1),e.hij(" Tamano minimo >= ",null==(t=n.formVehiculo.get("capacidad"))||null==t.errors||null==t.errors.min?null:t.errors.min.min," ")}}function be(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere Capacidad "),e.qZA())}function Ae(o,i){if(1&o&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&o){const n=e.oxw();let t;e.xp6(1),e.hij(" Tamano minimo >= ",null==(t=n.formVehiculo.get("capacidadTanque"))||null==t.errors||null==t.errors.min?null:t.errors.min.min," ")}}function qe(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere un Tipo "),e.qZA())}function Ce(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," Requiere un modelo "),e.qZA())}function xe(o,i){1&o&&(e.TgZ(0,"span"),e._uU(1," A\xf1o fuera de rango "),e.qZA())}function Ve(o,i){1&o&&(e.TgZ(0,"button",65),e._uU(1," Guardar "),e.qZA())}const ye=function(o){return{"select-readonly":o}};let R=(()=>{class o{constructor(n,t,r,p,g){this.activeModal=n,this.modalService=t,this.fb=r,this.vehiService=p,this.mensajeService=g,this.customPatterns={S:{pattern:new RegExp("[A-Za-z]")},A:{pattern:new RegExp("[A-Za-z0-9]")}},this.isInteger=f.MC,this.isTexto=f.yH,this.isPalabra=f.dP,this.isPlaca=f.Mb,this.imgTemp=null,this.imagen="no hay",this.alerts=[{id:1,type:"info",message:"Complete los campos obligatorios (*)",messageTwo:"Ingrese el n\xfamero de placa sin guiones",show:!1}],this.formVehiculo=this.iniciarFormulario()}ngOnInit(){this.formVehiculo.patchValue(this.objVehiculo)}iniciarFormulario(){return this.fb.group({placa:["",[a.kI.required,a.kI.pattern(this.isPlaca)]],modelo:["",[a.kI.required]],marca:["",[a.kI.required,a.kI.pattern(this.isPalabra)]],clase:["",[a.kI.required,a.kI.pattern(this.isPalabra)]],color:["",[a.kI.required,a.kI.pattern(this.isTexto)]],fecha_tarjeta:["",[a.kI.required,this.fechaVencimientoFormat,this.fechaVencimientoValidator]],year:["",[a.kI.required,a.kI.pattern(this.isInteger),this.yearValidator]],capacidad:["",[a.kI.required,a.kI.min(1)]],capacidadTanque:["",[a.kI.required,a.kI.min(1)]],n_chasis:["",[a.kI.required]],n_motor:["",[a.kI.required,a.kI.minLength(5),a.kI.maxLength(10)]],tipo_gas:["Diesel",[a.kI.required]],file:[""]})}yearValidator(n){const t=(new Date).getFullYear(),r=parseInt(n.value,10);return isNaN(r)||r>t||r<t-50?{invalidYear:!0}:null}fechaVencimientoValidator(n){return new Date(n.value)<=new Date?{fechaVencimientoInvalida:!0}:null}fechaVencimientoFormat(n){return new Date(n.value).getFullYear()>9999?{fechaVencimientoformat:!0}:null}openModal(n){this.modalService.open(n,{size:"xl",centered:!0})}guardar(){if(!this.formVehiculo.valid)return Object.values(this.formVehiculo.controls).forEach(n=>n.markAsTouched());null!=this.objVehiculo?this.editando():this.registrando()}onFileSelected(n){this.file=n.target.files[0],this.imagen="seleccioanda",this.preVisualizarImagen(n)}esCampoValido(n){const t=this.formVehiculo.get(n);return!(null==t?void 0:t.valid)&&(null==t?void 0:t.touched)?"is-invalid":(null==t?void 0:t.touched)?"is-valid":""}registrando(){const n=new FormData;let t=this.formVehiculo.value;t.estado=8,n.append("vehiculo",new Blob([JSON.stringify(t)],{type:"application/json"})),n.append("imagen",this.file),this.vehiService.guardarVehiculo(n).subscribe(r=>{this.mensajeService.mensajesToast("success","Registro agregado"),this.vehiService.getVehiculos(),this.modalService.dismissAll()},r=>{this.mensajeService.mensajesSweet("error","Algo sali\xf3 mal",r.error.message)})}editando(){const n=new FormData;let t=this.formVehiculo.value;t.codigoVehiculo=this.objVehiculo.codigoVehiculo,t.estado=this.objVehiculo.estado,t.nombrefoto=this.objVehiculo.nombrefoto,t.urlfoto=this.objVehiculo.urlfoto,n.append("vehiculo",new Blob([JSON.stringify(t)],{type:"application/json"})),n.append("imagen",this.file),this.vehiService.editarVehiculo(n).subscribe(r=>{this.mensajeService.mensajesToast("success","Registro editado"),this.vehiService.getVehiculos(),this.modalService.dismissAll()},r=>{this.mensajeService.mensajesSweet("error","Algo sali\xf3 mal",r.error.message)})}preVisualizarImagen(n){this.file=n.target.files[0],this.file||(this.imgTemp=null);const t=new FileReader;t.readAsDataURL(n.target.files[0]),t.onloadend=()=>{this.imgTemp=t.result}}siMuestraAlertas(){return this.alerts.every(n=>n.show)}restaurarAlerts(){this.alerts.forEach(n=>{n.show=!0})}cambiarAlert(n){n.show=!n.show}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(m.Kz),e.Y36(m.FF),e.Y36(a.qu),e.Y36(_),e.Y36(z.O))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-modal"]],inputs:{leyenda:"leyenda",titulo:"titulo",objVehiculo:"objVehiculo"},decls:153,vars:72,consts:[[1,"modal-header"],[1,"modal-title","mt-0"],["class","btn-alerta",4,"ngIf"],["type","button","aria-hidden","true",1,"btn-close",3,"click"],[1,"modal-body"],[4,"ngFor","ngForOf"],["enctype","multipart/form-data","autocomplete","off",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-12"],[1,"form-group","row","m-3"],[1,"col-md-6"],[1,"form-group","row"],["class","col-md-7",4,"ngIf"],["class","align-text-top col-md-4","style","display: flex; left: 10%;",4,"ngIf"],[1,"col-md-5","imgcontent"],["class","rounded-circle custom-border","alt","",3,"src",4,"ngIf"],[1,"control-label"],[1,"text-danger"],["type","text","formControlName","placa","id","placa","name","placa","placeholder","Ingrese placa",1,"form-control",3,"readonly"],[1,"invalid-feedback"],[4,"ngIf"],[1,"mt-4"],["type","date","formControlName","fecha_tarjeta","id","fecha_tarjeta","name","fecha_tarjeta","placeholder","Ingrese fecha vencimiento",1,"form-control",3,"readonly"],["type","text","formControlName","modelo","id","modelo","name","modelo","placeholder","Ingrese modelo",1,"form-control",3,"readonly"],["type","text","list","datalistOptions","formControlName","marca","id","marca","name","marca","placeholder","Ingrese marca",1,"form-control",3,"readonly"],["id","datalistOptions"],["value","Toyota"],["value","Nissan"],["value","Jeep"],["value","Isuzu"],["value","Mazda"],["value","Mitsubishi"],["value","Honda"],["value","Kia"],[1,"col-md-3"],["type","text","formControlName","n_motor","id","n_motor","name","n_motor","placeholder","Ingrese motor",1,"form-control",3,"readonly"],["type","text","formControlName","n_chasis","id","n_chasis","name","n_chasis","placeholder","Ingrese chasis","mask","AAAAAAAAAAAAAAAAA",1,"form-control",3,"readonly"],["type","text","list","datalistClase","formControlName","clase","id","clase","name","clase","placeholder","Ingrese clase",1,"form-control",3,"readonly"],["id","datalistClase"],["value","Automovil"],["value","Camion Pesado"],["value","Camion Liviano"],["value","Microbus"],["value","Pick up"],["type","text","formControlName","color","id","color","name","color","placeholder","Ingrese color",1,"form-control",3,"readonly"],["type","number","formControlName","capacidad","id","capacidad","name","capacidad","placeholder","Ingrese capacidad",1,"form-control",3,"readonly"],["type","number","formControlName","capacidadTanque","id","capacidadTanque","name","capacidadTanque","placeholder","Ingrese capacidad",1,"form-control",3,"readonly"],["type","text","formControlName","tipo_gas","id","tipo_gas","name","tipo_gas",1,"form-select",3,"disabled","ngClass"],["value","Diesel"],["value","Gasolina"],["type","number","formControlName","year","id","year","name","year","placeholder","Ingrese A\xf1o",1,"form-control",3,"readonly"],[1,"d-flex","justify-content-end","mt-4"],["type","submit","class","btn btn-primary me-2","id","btn-save","name","btn-save",4,"ngIf"],["type","button","id","btn-cancel","name","btn-cancel","aria-hidden","true",1,"btn","btn-dark",3,"click"],[1,"btn-alerta"],["class","mdi mdi-18px mdi-lightbulb-on-outline custom-cursor","ngbTooltip","Mostrar Ayuda",3,"click",4,"ngIf"],["ngbTooltip","Mostrar Ayuda",1,"mdi","mdi-18px","mdi-lightbulb-on-outline","custom-cursor",3,"click"],["role","alert",3,"class",4,"ngIf"],["role","alert"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"col-md-7"],["for","file",1,"control-label"],["formControlName","file","id","file","type","file","multiple","",1,"form-control",3,"change"],[1,"align-text-top","col-md-4",2,"display","flex","left","10%"],["alt","",1,"rounded-circle","custom-border",3,"src"],["type","submit","id","btn-save","name","btn-save",1,"btn","btn-primary","me-2"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"h5",1),e._uU(2),e.qZA(),e.YNc(3,H,2,1,"div",2),e.TgZ(4,"button",3),e.NdJ("click",function(){return t.activeModal.dismiss("Cross click")}),e.qZA(),e.qZA(),e.TgZ(5,"div",4),e.YNc(6,X,2,1,"div",5),e.TgZ(7,"form",6),e.NdJ("ngSubmit",function(){return t.guardar()}),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e.TgZ(11,"div",10),e.TgZ(12,"div",11),e.YNc(13,K,5,0,"div",12),e.YNc(14,W,3,0,"span",13),e.TgZ(15,"div",14),e.YNc(16,ee,1,1,"img",15),e.YNc(17,te,1,1,"img",15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"div",10),e.TgZ(19,"label",16),e._uU(20,"N\xfamero Placa: "),e.TgZ(21,"span",17),e._uU(22,"*"),e.qZA(),e.qZA(),e._UZ(23,"input",18),e.TgZ(24,"div",19),e.YNc(25,oe,2,0,"span",20),e.YNc(26,ne,2,0,"span",20),e.qZA(),e.TgZ(27,"div",21),e.TgZ(28,"label",16),e._uU(29,"Fecha Vencimiento Tarjeta: "),e.TgZ(30,"span",17),e._uU(31,"*"),e.qZA(),e.qZA(),e._UZ(32,"input",22),e.TgZ(33,"div",19),e.YNc(34,le,2,0,"span",20),e.YNc(35,ie,2,0,"span",20),e.YNc(36,ae,2,0,"span",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(37,"div",8),e.TgZ(38,"div",9),e.TgZ(39,"div",10),e.TgZ(40,"label",16),e._uU(41,"Modelo: "),e.TgZ(42,"span",17),e._uU(43,"*"),e.qZA(),e.qZA(),e._UZ(44,"input",23),e.TgZ(45,"div",19),e.YNc(46,re,2,0,"span",20),e.qZA(),e.qZA(),e.TgZ(47,"div",10),e.TgZ(48,"label",16),e._uU(49,"Marca: "),e.TgZ(50,"span",17),e._uU(51,"*"),e.qZA(),e.qZA(),e._UZ(52,"input",24),e.TgZ(53,"datalist",25),e._UZ(54,"option",26),e._UZ(55,"option",27),e._UZ(56,"option",28),e._UZ(57,"option",29),e._UZ(58,"option",30),e._UZ(59,"option",31),e._UZ(60,"option",32),e._UZ(61,"option",33),e.qZA(),e.TgZ(62,"div",19),e.YNc(63,se,2,0,"span",20),e.YNc(64,ue,2,0,"span",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"div",8),e.TgZ(66,"div",9),e.TgZ(67,"div",34),e.TgZ(68,"label",16),e._uU(69,"N\xfamero Motor: "),e.TgZ(70,"span",17),e._uU(71,"*"),e.qZA(),e.qZA(),e._UZ(72,"input",35),e.TgZ(73,"div",19),e.YNc(74,ce,2,0,"span",20),e.YNc(75,pe,2,1,"span",20),e.YNc(76,de,2,1,"span",20),e.qZA(),e.qZA(),e.TgZ(77,"div",34),e.TgZ(78,"label",16),e._uU(79,"N\xfamero Chasis: "),e.TgZ(80,"span",17),e._uU(81,"*"),e.qZA(),e.qZA(),e._UZ(82,"input",36),e.TgZ(83,"div",19),e.YNc(84,me,2,0,"span",20),e.YNc(85,ge,2,0,"span",20),e.qZA(),e.qZA(),e.TgZ(86,"div",34),e.TgZ(87,"label",16),e._uU(88,"Clase: "),e.TgZ(89,"span",17),e._uU(90,"*"),e.qZA(),e.qZA(),e._UZ(91,"input",37),e.TgZ(92,"datalist",38),e._UZ(93,"option",39),e._UZ(94,"option",40),e._UZ(95,"option",41),e._UZ(96,"option",42),e._UZ(97,"option",43),e.qZA(),e.TgZ(98,"div",19),e.YNc(99,_e,2,0,"span",20),e.YNc(100,fe,2,0,"span",20),e.qZA(),e.qZA(),e.TgZ(101,"div",34),e.TgZ(102,"label",16),e._uU(103,"Color: "),e.TgZ(104,"span",17),e._uU(105,"*"),e.qZA(),e.qZA(),e._UZ(106,"input",44),e.TgZ(107,"div",19),e.YNc(108,Ze,2,0,"span",20),e.YNc(109,he,2,0,"span",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(110,"div",8),e.TgZ(111,"div",9),e.TgZ(112,"div",34),e.TgZ(113,"label",16),e._uU(114,"Capacidad Personas:"),e.qZA(),e._UZ(115,"input",45),e.TgZ(116,"div",19),e.YNc(117,Te,2,0,"span",20),e.YNc(118,ve,2,1,"span",20),e.qZA(),e.qZA(),e.TgZ(119,"div",34),e.TgZ(120,"label",16),e._uU(121,"Capacidad Tanque (Gal\xf3n): "),e.TgZ(122,"span",17),e._uU(123,"*"),e.qZA(),e.qZA(),e._UZ(124,"input",46),e.TgZ(125,"div",19),e.YNc(126,be,2,0,"span",20),e.YNc(127,Ae,2,1,"span",20),e.qZA(),e.qZA(),e.TgZ(128,"div",34),e.TgZ(129,"label",16),e._uU(130,"Tipo de Combustible: "),e.TgZ(131,"span",17),e._uU(132,"*"),e.qZA(),e.qZA(),e.TgZ(133,"select",47),e.TgZ(134,"option",48),e._uU(135,"Diesel"),e.qZA(),e.TgZ(136,"option",49),e._uU(137,"Gasolina"),e.qZA(),e.qZA(),e.TgZ(138,"div",19),e.YNc(139,qe,2,0,"span",20),e.qZA(),e.qZA(),e.TgZ(140,"div",34),e.TgZ(141,"label",16),e._uU(142,"A\xf1o Vehiculo: "),e.TgZ(143,"span",17),e._uU(144,"*"),e.qZA(),e.qZA(),e._UZ(145,"input",50),e.TgZ(146,"div",19),e.YNc(147,Ce,2,0,"span",20),e.YNc(148,xe,2,0,"span",20),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(149,"div",51),e.YNc(150,Ve,2,0,"button",52),e.TgZ(151,"button",53),e.NdJ("click",function(){return t.activeModal.dismiss("Cross click")}),e._uU(152," Cancelar "),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n){let r,p,g,h,A,b,C,x,V,y,U,I,M,J,N,j,F,Q,Y,k,D,O,w,S;e.xp6(2),e.hij("",t.titulo," Vehiculo"),e.xp6(1),e.Q6J("ngIf",t.alerts),e.xp6(3),e.Q6J("ngForOf",t.alerts),e.xp6(1),e.Q6J("formGroup",t.formVehiculo),e.xp6(6),e.Q6J("ngIf","Detalle"!==t.titulo),e.xp6(1),e.Q6J("ngIf","Detalle"===t.titulo&&!t.imgTemp),e.xp6(2),e.Q6J("ngIf","Detalle"==t.titulo||"Editar"==t.titulo&&!t.imgTemp),e.xp6(1),e.Q6J("ngIf",t.imgTemp),e.xp6(6),e.Tol("Detalle"!=t.titulo?t.esCampoValido("placa"):""),e.Q6J("readonly",null!=t.objVehiculo&&"Detalle"==t.titulo),e.xp6(2),e.Q6J("ngIf",null==(r=t.formVehiculo.get("placa"))||null==r.errors?null:r.errors.required),e.xp6(1),e.Q6J("ngIf",null==(p=t.formVehiculo.get("placa"))||null==p.errors?null:p.errors.pattern),e.xp6(6),e.Tol("Detalle"!=t.titulo?t.esCampoValido("fecha_tarjeta"):""),e.Q6J("readonly",null!=t.objVehiculo&&"Detalle"==t.titulo),e.xp6(2),e.Q6J("ngIf",null==(g=t.formVehiculo.get("fecha_tarjeta"))||null==g.errors?null:g.errors.required),e.xp6(1),e.Q6J("ngIf",null==(h=t.formVehiculo.get("fecha_tarjeta"))||null==h.errors?null:h.errors.fechaVencimientoInvalida),e.xp6(1),e.Q6J("ngIf",null==(A=t.formVehiculo.get("fecha_tarjeta"))||null==A.errors?null:A.errors.fechaVencimientoformat),e.xp6(8),e.Tol("Detalle"!=t.titulo?t.esCampoValido("modelo"):""),e.Q6J("readonly",null!=t.objVehiculo&&"Detalle"==t.titulo),e.xp6(2),e.Q6J("ngIf",null==(b=t.formVehiculo.get("modelo"))||null==b.errors?null:b.errors.required),e.xp6(6),e.Tol("Detalle"!=t.titulo?t.esCampoValido("marca"):""),e.Q6J("readonly",null!=t.objVehiculo&&"Detalle"==t.titulo),e.xp6(11),e.Q6J("ngIf",null==(C=t.formVehiculo.get("marca"))||null==C.errors?null:C.errors.required),e.xp6(1),e.Q6J("ngIf",null==(x=t.formVehiculo.get("marca"))||null==x.errors?null:x.errors.pattern),e.xp6(8),e.Tol("Detalle"!=t.titulo?t.esCampoValido("n_motor"):""),e.Q6J("readonly",null!=t.objVehiculo&&"Detalle"==t.titulo),e.xp6(2),e.Q6J("ngIf",null==(V=t.formVehiculo.get("n_motor"))||null==V.errors?null:V.errors.required),e.xp6(1),e.Q6J("ngIf",null==(y=t.formVehiculo.get("n_motor"))||null==y.errors?null:y.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==(U=t.formVehiculo.get("n_motor"))||null==U.errors?null:U.errors.maxlength),e.xp6(6),e.Tol("Detalle"!=t.titulo?t.esCampoValido("n_chasis"):""),e.Q6J("readonly",null!=t.objVehiculo&&"Detalle"==t.titulo),e.xp6(2),e.Q6J("ngIf",null==(I=t.formVehiculo.get("n_chasis"))||null==I.errors?null:I.errors.required),e.xp6(1),e.Q6J("ngIf",null==(M=t.formVehiculo.get("n_chasis"))||null==M.errors?null:M.errors.mask),e.xp6(6),e.Tol("Detalle"!=t.titulo?t.esCampoValido("clase"):""),e.Q6J("readonly",null!=t.objVehiculo&&"Detalle"==t.titulo),e.xp6(8),e.Q6J("ngIf",null==(J=t.formVehiculo.get("clase"))||null==J.errors?null:J.errors.required),e.xp6(1),e.Q6J("ngIf",null==(N=t.formVehiculo.get("clase"))||null==N.errors?null:N.errors.pattern),e.xp6(6),e.Tol("Detalle"!=t.titulo?t.esCampoValido("color"):""),e.Q6J("readonly",null!=t.objVehiculo&&"Detalle"==t.titulo),e.xp6(2),e.Q6J("ngIf",null==(j=t.formVehiculo.get("color"))||null==j.errors?null:j.errors.required),e.xp6(1),e.Q6J("ngIf",null==(F=t.formVehiculo.get("color"))||null==F.errors?null:F.errors.pattern),e.xp6(6),e.Tol("Detalle"!=t.titulo?t.esCampoValido("capacidad"):""),e.Q6J("readonly",null!=t.objVehiculo&&"Detalle"==t.titulo),e.xp6(2),e.Q6J("ngIf",null==(Q=t.formVehiculo.get("capacidad"))||null==Q.errors?null:Q.errors.required),e.xp6(1),e.Q6J("ngIf",null==(Y=t.formVehiculo.get("capacidad"))||null==Y.errors?null:Y.errors.min),e.xp6(6),e.Tol("Detalle"!=t.titulo?t.esCampoValido("capacidadTanque"):""),e.Q6J("readonly",null!=t.objVehiculo&&"Detalle"==t.titulo),e.xp6(2),e.Q6J("ngIf",null==(k=t.formVehiculo.get("capacidadTanque"))||null==k.errors?null:k.errors.required),e.xp6(1),e.Q6J("ngIf",null==(D=t.formVehiculo.get("capacidadTanque"))||null==D.errors?null:D.errors.min),e.xp6(6),e.Tol("Detalle"!=t.titulo?t.esCampoValido("tipo_gas"):""),e.Q6J("disabled",null!=t.objVehiculo&&"Detalle"==t.titulo)("ngClass",e.VKq(70,ye,null!=t.objVehiculo&&"Detalle"==t.titulo)),e.xp6(6),e.Q6J("ngIf",null==(O=t.formVehiculo.get("tipo_gas"))||null==O.errors?null:O.errors.required),e.xp6(6),e.Tol("Detalle"!=t.titulo?t.esCampoValido("year"):""),e.Q6J("readonly",null!=t.objVehiculo&&"Detalle"==t.titulo),e.xp6(2),e.Q6J("ngIf",null==(w=t.formVehiculo.get("year"))||null==w.errors?null:w.errors.required),e.xp6(1),e.Q6J("ngIf",null==(S=t.formVehiculo.get("year"))||null==S.errors?null:S.errors.invalidYear),e.xp6(2),e.Q6J("ngIf","Detalle"!=t.titulo)}},directives:[l.O5,l.sg,a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,a.YN,a.Kr,P.hx,a.wV,a.EJ,l.mk,m._L],styles:['@charset "UTF-8";img[_ngcontent-%COMP%]{width:160px;height:155px}button.btn-close[_ngcontent-%COMP%]{margin-left:5px}.select-readonly[_ngcontent-%COMP%]{background-color:#eff2f7;pointer-events:none}.select-readonly-check[_ngcontent-%COMP%]{pointer-events:none}.no-interaction[_ngcontent-%COMP%]{pointer-events:none;background-color:#d3d3d3}.align-content-center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100%}.custom-border[_ngcontent-%COMP%]{border:1.5px solid #550000;padding:5px}.btn-close-color[_ngcontent-%COMP%]{background:none;border:none;padding:0;font-size:1.5rem;line-height:1;cursor:pointer;color:#fff}.btn-close-color[_ngcontent-%COMP%]:before, .btn-close-color[_ngcontent-%COMP%]:after{content:"x";position:absolute;align-content:end;top:2.5%;right:1.5%}.imgcontent[_ngcontent-%COMP%]{width:160px;height:155px}']}),o})(),E=(()=>{class o{constructor(n,t){this.vehiService=n,this.serviModal=t}ngOnInit(){this.breadCrumbItems=[{label:"Vehiculo"},{label:"Listar",active:!0}],this.vehiService.getVehiculos()}get obtenerVehiculos(){return this.vehiService.listVehiclos}abrirModal(n){this.serviModal.open(R,{size:"xl",centered:!0,backdrop:"static"}).componentInstance.titulo=n}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(_),e.Y36(m.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-listar"]],decls:18,vars:4,consts:[[1,"container-fluid"],["title","Vehiculos",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"row","mb-2"],[1,"col-sm-4"],[1,"search-box","me-2","mb-2","d-inline-block"],[1,"position-relative"],["type","text","placeholder","Buscar...",1,"form-control",3,"ngModel","ngModelChange"],[1,"bx","bx-search-alt","search-icon"],[1,"col-sm-8"],[1,"text-sm-end"],["type","button",1,"btn","btn-primary","btn-rounded",3,"click"],[3,"vehiculos","busqueda"]],template:function(n,t){1&n&&(e._UZ(0,"app-loader"),e.TgZ(1,"div",0),e._UZ(2,"app-page-title",1),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"div",4),e.TgZ(6,"div",5),e.TgZ(7,"div",6),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e.TgZ(11,"input",10),e.NdJ("ngModelChange",function(p){return t.termBusca=p}),e.qZA(),e._UZ(12,"i",11),e.qZA(),e.qZA(),e.qZA(),e.TgZ(13,"div",12),e.TgZ(14,"div",13),e.TgZ(15,"button",14),e.NdJ("click",function(){return t.abrirModal("Nuevo")}),e._uU(16," Agregar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(17,"app-tabla",15),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.xp6(2),e.Q6J("breadcrumbItems",t.breadCrumbItems),e.xp6(9),e.Q6J("ngModel",t.termBusca),e.xp6(6),e.Q6J("vehiculos",t.obtenerVehiculos)("busqueda",t.termBusca))},styles:[""]}),o})();const Ue=[{path:"listar",component:E}];let Ie=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[Z.Bz.forChild(Ue)],Z.Bz]}),o})();var Me=u(1659),v=u.n(Me),q=u(60841),B=u(98816);function Je(o,i){if(1&o){const n=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td",3),e._uU(2),e.qZA(),e.TgZ(3,"td",3),e._uU(4),e.qZA(),e.TgZ(5,"td",3),e._uU(6),e.qZA(),e.TgZ(7,"td",3),e._uU(8),e.qZA(),e.TgZ(9,"td",3),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",3),e.TgZ(13,"h5"),e.TgZ(14,"span"),e._uU(15),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"td",9),e.TgZ(17,"button",10),e.NdJ("click",function(){const p=e.CHM(n).$implicit;return e.oxw(2).abrirModal("Detalle",p)}),e._UZ(18,"i",11),e.qZA(),e.TgZ(19,"button",12),e.NdJ("click",function(){const p=e.CHM(n).$implicit;return e.oxw(2).abrirModal("Editar",p)}),e._UZ(20,"i",13),e.qZA(),e.TgZ(21,"button",14),e.NdJ("click",function(){const p=e.CHM(n).$implicit;return e.oxw(2).cambiarEstado(p,p.estado)}),e._UZ(22,"i",15),e.qZA(),e.qZA(),e.qZA()}if(2&o){const n=i.$implicit;e.xp6(2),e.Oqu(n.placa),e.xp6(2),e.Oqu(n.clase),e.xp6(2),e.Oqu(n.modelo),e.xp6(2),e.Oqu(n.year),e.xp6(2),e.Oqu(e.xi3(11,11,n.fecha_tarjeta,"dd/MM/yyyy")),e.xp6(4),e.Tol(8===n.estado?"badge rounded-pill bg-success":"badge rounded-pill bg-danger"),e.xp6(1),e.hij(" ",8===n.estado?"Activo":"Inactivo"," "),e.xp6(6),e.MGl("ngbTooltip","Cambiar a ",9===n.estado?"Activo":"Inactivo",""),e.xp6(1),e.Q6J("ngClass",8===n.estado?"mdi mdi-18px mdi-lock-outline":"mdi mdi-18px mdi-key-outline")}}const Ne=function(o){return{itemsPerPage:10,currentPage:o}};function je(o,i){if(1&o&&(e.ynx(0),e.YNc(1,Je,23,14,"tr",8),e.ALo(2,"paginate"),e.ALo(3,"filter"),e.BQk()),2&o){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.xi3(2,1,e.xi3(3,4,n.vehiculos,n.busqueda),e.VKq(7,Ne,n.p)))}}function Fe(o,i){1&o&&(e.TgZ(0,"tr"),e.TgZ(1,"td",16),e._uU(2," No hay datos disponibles. "),e.qZA(),e.qZA())}let Qe=(()=>{class o{constructor(n,t){this.vehiService=n,this.serviModal=t,this.vehiculos=[],this.busqueda="",this.cambio="",this.estado=8}ngOnInit(){}abrirModal(n,t){const r=this.serviModal.open(R,{size:"xl",centered:!0,backdrop:"static"});r.componentInstance.titulo=n,r.componentInstance.objVehiculo=t}cambiarEstado(n,t){const r=n,p=new FormData;8==r.estado?(this.cambio="Inactivo",this.estado=9):(this.cambio="Activo",this.estado=8),v().fire({icon:"question",title:"\xbfCambiar el estado a "+this.cambio+"?",showDenyButton:!0,showCancelButton:!0,confirmButtonText:"Cambiar",denyButtonText:"No cambiar"}).then(g=>{g.isConfirmed?(r.estado=this.estado,p.append("vehiculo",new Blob([JSON.stringify(r)],{type:"application/json"})),this.vehiService.editarVehiculo(p).subscribe(h=>{h&&(v().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,didOpen:b=>{b.addEventListener("mouseenter",v().stopTimer),b.addEventListener("mouseleave",v().resumeTimer)}}).fire({icon:"success",text:"Modificaci\xf3n exitosa"}),this.vehiService.getVehiculos())},h=>{v().fire({icon:"error",title:"Error",text:h})})):g.isDenied&&v().fire("Cambios no aplicados","","info")})}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(_),e.Y36(m.FF))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-tabla"]],inputs:{vehiculos:"vehiculos",busqueda:"busqueda"},decls:24,vars:4,consts:[[1,"table-responsive","mb-0"],[1,"table","table-centered","table-nowrap"],[1,"table-light"],[1,"align-middle","text-center"],[4,"ngIf","ngIfElse"],["noDataTemplate",""],[1,"pagination","pagination-rounded","justify-content-end","mb-2"],[3,"nextLabel","previousLabel","pageChange"],[4,"ngFor","ngForOf"],[1,"align-middle","text-center","text-center"],["type","button","ngbTooltip","Detalle vehiculo",1,"btn","btn-primary","btn-sm","btn-rounded","boton-cuadrado","mx-1",3,"click"],[1,"mdi","mdi-18px","mdi-eye-outline"],["type","button","ngbTooltip","Modificar vehiculo",1,"btn","btn-info","btn-sm","btn-rounded","boton-cuadrado","mx-1",3,"click"],[1,"mdi","mdi-18px","mdi-book-edit-outline"],["type","button",1,"btn","btn-warning","btn-sm","btn-rounded","mx-1",3,"ngbTooltip","click"],[3,"ngClass"],["colspan","6",2,"text-align","center"]],template:function(n,t){if(1&n&&(e.TgZ(0,"div",0),e.TgZ(1,"table",1),e.TgZ(2,"thead",2),e.TgZ(3,"tr"),e.TgZ(4,"th",3),e._uU(5,"Placa"),e.qZA(),e.TgZ(6,"th",3),e._uU(7,"Clase"),e.qZA(),e.TgZ(8,"th",3),e._uU(9,"Modelo"),e.qZA(),e.TgZ(10,"th",3),e._uU(11,"A\xf1o"),e.qZA(),e.TgZ(12,"th",3),e._uU(13,"Fecha Vence Tarjeta"),e.qZA(),e.TgZ(14,"th",3),e._uU(15,"Estado"),e.qZA(),e.TgZ(16,"th",3),e._uU(17,"Acciones"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(18,"tbody"),e.YNc(19,je,4,9,"ng-container",4),e.YNc(20,Fe,3,0,"ng-template",null,5,e.W1O),e.qZA(),e.qZA(),e.TgZ(22,"div",6),e.TgZ(23,"pagination-controls",7),e.NdJ("pageChange",function(p){return t.p=p}),e.qZA(),e.qZA(),e.qZA()),2&n){const r=e.MAs(21);e.xp6(19),e.Q6J("ngIf",t.vehiculos.length>0)("ngIfElse",r),e.xp6(4),e.Q6J("nextLabel","")("previousLabel","")}},directives:[l.O5,q.LS,l.sg,m._L,l.mk],pipes:[q._s,B.Z,l.uU],styles:[""]}),o})();var Ye=u(63091),ke=u(34576),De=u(11950);let Oe=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[l.ez,Ie,a.u5,a.UX,Ye.v,m.IJ,P.yI.forRoot(),q.JX,B.h]]}),o})();e.B6R(E,[ke.R,De.V,a.Fj,a.JJ,a.On,Qe],[])},34576:(L,T,u)=>{u.d(T,{R:()=>m});var l=u(83668),Z=u(34099);let a=(()=>{class s{constructor(){this.isLoading=new Z.X(!1)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var f=u(86019);function e(s,d){1&s&&(l.TgZ(0,"div",1),l.TgZ(1,"div",2),l.TgZ(2,"div",3),l._UZ(3,"div",4),l._UZ(4,"div",4),l._UZ(5,"div",4),l._UZ(6,"div",4),l._UZ(7,"div",4),l._UZ(8,"div",4),l.qZA(),l.qZA(),l.qZA())}let m=(()=>{class s{constructor(c){this.loaderService=c,this.loading=!0,this.loaderService.isLoading.subscribe(_=>{setTimeout(()=>{this.loading=_},1500)})}ngOnInit(){}}return s.\u0275fac=function(c){return new(c||s)(l.Y36(a))},s.\u0275cmp=l.Xpm({type:s,selectors:[["app-loader"]],decls:1,vars:1,consts:[["id","preloader",4,"ngIf"],["id","preloader"],["id","status"],[1,"spinner-chase"],[1,"chase-dot"]],template:function(c,_){1&c&&l.YNc(0,e,9,0,"div",0),2&c&&l.Q6J("ngIf",_.loading)},directives:[f.O5],styles:[""]}),s})()},11950:(L,T,u)=>{u.d(T,{V:()=>m});var l=u(83668),Z=u(86019);function a(s,d){if(1&s&&(l.TgZ(0,"li",9),l.TgZ(1,"a",10),l._uU(2),l.qZA(),l.qZA()),2&s){const c=l.oxw().$implicit;l.xp6(2),l.Oqu(c.label)}}function f(s,d){if(1&s&&(l.TgZ(0,"li",11),l._uU(1),l.qZA()),2&s){const c=l.oxw().$implicit;l.xp6(1),l.hij("",c.label," ")}}function e(s,d){if(1&s&&(l.ynx(0),l.YNc(1,a,3,1,"li",7),l.YNc(2,f,2,1,"li",8),l.BQk()),2&s){const c=d.$implicit;l.xp6(1),l.Q6J("ngIf",!c.active),l.xp6(1),l.Q6J("ngIf",c.active)}}let m=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275cmp=l.Xpm({type:s,selectors:[["app-page-title"]],inputs:{breadcrumbItems:"breadcrumbItems",title:"title"},decls:8,vars:2,consts:[[1,"row"],[1,"col-12"],[1,"page-title-box","d-flex","align-items-center","justify-content-between"],[1,"mb-0","font-size-18"],[1,"page-title-right"],[1,"breadcrumb","m-0"],[4,"ngFor","ngForOf"],["class","breadcrumb-item",4,"ngIf"],["class","breadcrumb-item active",4,"ngIf"],[1,"breadcrumb-item"],["href","javascript: void(0);"],[1,"breadcrumb-item","active"]],template:function(c,_){1&c&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"h4",3),l._uU(4),l.qZA(),l.TgZ(5,"div",4),l.TgZ(6,"ol",5),l.YNc(7,e,3,2,"ng-container",6),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&c&&(l.xp6(4),l.Oqu(_.title),l.xp6(3),l.Q6J("ngForOf",_.breadcrumbItems))},directives:[Z.sg,Z.O5],styles:[""]}),s})()}}]);